TOP_FEATURES_NUMBER = 8
NUM_ITERATIONS = 10
TRAIN_SET_OVERSAMPLING_SYNTHETIC == FALSE
Read data from file ../data/pone0210951_s006_dataset_EDITED_IMPUTED.csv
adenoca
large_cell_NEC
mixed
neuroendocrine_tumor
nonsmall_cell
others
poorly_differentiated
sarcomatoid
small_cell
squamous


The target feature is Sepsis
application of dplyr::select()
TRAINING_SET_RATIO = 0.9
Number of classification executions = 10	Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.602519e-02           1
AKI                             1.573171e-02           2
WBC                             9.231783e-03           4
neutropenia                     1.282998e-02           3
PT_percent                      5.605389e-03           8
CRRT                            8.646310e-03           5
PLT                             4.294957e-03          10
bacteremia                      8.169275e-03           6
BUN                             2.756229e-03          16
SOFA_D1                         4.160072e-03          11
CRP                             2.384664e-03          18
hospital_LOS                    1.862645e-03          19
APACH_II                        2.677080e-03          17
Death_Cause                     5.296519e-03           9
Vasoactiveagent                 5.866638e-03           7
Cause_Ca_problem                3.130338e-03          14
Albumin                         1.259332e-03          21
prev_wbrt                       3.681832e-03          13
Pneumonia                       3.874085e-03          12
timefromdx                      5.881739e-04          29
SAPS_II                         1.032123e-03          26
post_dc_days                    1.270588e-03          20
thrombocytopenia                3.119784e-03          15
MV_days                         1.039205e-03          25
PaO2FiO2                        4.199787e-04          31
age                             4.090941e-04          32
post_icu_survival               1.147510e-03          23
ICU_cause_intensivist           1.169118e-03          22
ICU_mortal30                    1.095668e-03          24
aPTT                            1.299544e-04          52
Hb                              2.003464e-04          47
StageNum                        3.961625e-04          34
histologyNum                    3.028152e-04          42
Distatntmets                    4.002110e-04          33
underlying_pulmo                3.640251e-04          40
ICUCPR                          4.734879e-04          30
cardiovasc                      7.959362e-04          27
Underlying_DM                   3.731033e-04          38
prev_ccrt                       3.829261e-04          36
HD                              3.814709e-04          37
Hospital_death                  6.646228e-04          28
pulmocomorbid                   2.499242e-04          43
NewlyDx                         2.435642e-04          45
HFNC                            1.354643e-04          51
ICU_Death                       3.860775e-04          35
Intensivist                     1.838404e-04          48
ICU_LOS                        -1.663879e-05          70
DischargefromICU                2.183694e-04          46
procalcitonin                  -1.342735e-06          68
post2011                        3.642428e-04          39
Refractory                      8.901361e-05          56
performance_hospital_DC         6.507555e-06          65
preICUDNR                       1.481249e-04          49
sex                             1.189737e-04          53
hypoalbuminemia                 9.337620e-05          55
anemia                          6.798160e-05          59
MV                              2.442209e-04          44
respfailure                     3.368054e-04          41
Pre_PS                         -1.407696e-04          86
PoorPS                          6.237547e-05          60
performance_ICU_DC             -2.547966e-04          87
prev_rtx                       -2.901798e-04          88
DNR                            -2.354131e-05          72
Surgery                         5.871560e-06          66
BIPAP                           4.020840e-05          61
prev_ctx                        7.959323e-05          57
CTxinICU                        2.158737e-05          64
PCC                             1.467566e-04          50
postICUCtx                      1.121533e-04          54
prevCPR                         3.032133e-05          62
ILD                             6.849060e-05          58
smk_hx                         -4.997494e-05          78
DNR_at_ICU                     -4.479559e-05          75
RRT                             2.209528e-05          63
ICUreadmission                 -4.988746e-05          77
PDT                            -9.171027e-05          82
postICUCPR                     -4.621081e-05          76
Underlying_CV                  -6.014791e-05          79
Tracheostomy                   -3.497388e-05          74
postICURT                       4.521073e-06          67
ECMO                           -2.352941e-06          69
PrevICUadm                     -1.818875e-05          71
dx_after_adm                   -9.750201e-05          83
neurology                      -2.593604e-05          73
other_malignancy               -1.144026e-04          85
WBRT                           -7.923593e-05          80
Underlying_stroke              -8.997767e-05          81
prev_gks                       -1.136825e-04          84
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.414820843            1
AKI                                         AKI      4.258653773            3
WBC                                         WBC      5.359546275            2
neutropenia                         neutropenia      3.979955338            4
PT_percent                           PT_percent      3.293335913            5
CRRT                                       CRRT      2.974849180            9
PLT                                         PLT      3.136438477            6
bacteremia                           bacteremia      2.264532373           14
BUN                                         BUN      3.132450381            7
SOFA_D1                                 SOFA_D1      2.479035812           12
CRP                                         CRP      3.094249666            8
hospital_LOS                       hospital_LOS      2.612067765           10
APACH_II                               APACH_II      2.438281055           13
Death_Cause                         Death_Cause      1.744362450           21
Vasoactiveagent                 Vasoactiveagent      1.452953940           23
Cause_Ca_problem               Cause_Ca_problem      1.748594898           20
Albumin                                 Albumin      1.889198141           16
prev_wbrt                             prev_wbrt      1.280990402           26
Pneumonia                             Pneumonia      1.125361253           28
timefromdx                           timefromdx      2.580741015           11
SAPS_II                                 SAPS_II      1.905945307           15
post_dc_days                       post_dc_days      1.349855015           25
thrombocytopenia               thrombocytopenia      1.048974104           30
MV_days                                 MV_days      1.355666000           24
PaO2FiO2                               PaO2FiO2      1.827750692           18
age                                         age      1.782191463           19
post_icu_survival             post_icu_survival      1.051382556           29
ICU_cause_intensivist     ICU_cause_intensivist      0.689784436           34
ICU_mortal30                       ICU_mortal30      0.519168245           39
aPTT                                       aPTT      1.841087656           17
Hb                                           Hb      1.483229500           22
StageNum                               StageNum      0.624301158           35
histologyNum                       histologyNum      0.887847596           32
Distatntmets                       Distatntmets      0.399843804           43
underlying_pulmo               underlying_pulmo      0.580980108           36
ICUCPR                                   ICUCPR      0.368480944           47
cardiovasc                           cardiovasc      0.325216604           51
Underlying_DM                     Underlying_DM      0.497811733           40
prev_ccrt                             prev_ccrt      0.387154978           44
HD                                           HD      0.341980537           50
Hospital_death                   Hospital_death      0.306272690           59
pulmocomorbid                     pulmocomorbid      0.384524962           45
NewlyDx                                 NewlyDx      0.379583641           46
HFNC                                       HFNC      0.450612530           41
ICU_Death                             ICU_Death      0.294911599           61
Intensivist                         Intensivist      0.363944298           48
ICU_LOS                                 ICU_LOS      1.205356973           27
DischargefromICU               DischargefromICU      0.324450727           52
procalcitonin                     procalcitonin      0.969207615           31
post2011                               post2011      0.283334371           63
Refractory                           Refractory      0.346933417           49
performance_hospital_DC performance_hospital_DC      0.443460328           42
preICUDNR                             preICUDNR      0.307413256           58
sex                                         sex      0.310655056           56
hypoalbuminemia                 hypoalbuminemia      0.317690867           55
anemia                                   anemia      0.320190537           53
MV                                           MV      0.209041328           68
respfailure                         respfailure      0.170916045           72
Pre_PS                                   Pre_PS      0.691279909           33
PoorPS                                   PoorPS      0.279574738           64
performance_ICU_DC           performance_ICU_DC      0.538072481           38
prev_rtx                               prev_rtx      0.580586241           37
DNR                                         DNR      0.319076070           54
Surgery                                 Surgery      0.305937218           60
BIPAP                                     BIPAP      0.226259080           66
prev_ctx                               prev_ctx      0.187327699           70
CTxinICU                               CTxinICU      0.217448547           67
PCC                                         PCC      0.110903084           81
postICUCtx                           postICUCtx      0.132962069           78
prevCPR                                 prevCPR      0.174656898           71
ILD                                         ILD      0.143663472           76
smk_hx                                   smk_hx      0.308700326           57
DNR_at_ICU                           DNR_at_ICU      0.294032679           62
RRT                                         RRT      0.117219715           80
ICUreadmission                   ICUreadmission      0.189133267           69
PDT                                         PDT      0.232629807           65
postICUCPR                           postICUCPR      0.147109942           75
Underlying_CV                     Underlying_CV      0.154282976           73
Tracheostomy                       Tracheostomy      0.118236674           79
postICURT                             postICURT      0.007702831           88
ECMO                                       ECMO      0.024810335           87
PrevICUadm                           PrevICUadm      0.083995704           85
dx_after_adm                       dx_after_adm      0.153307487           74
neurology                             neurology      0.077613199           86
other_malignancy               other_malignancy      0.138009213           77
WBRT                                       WBRT      0.104800999           82
Underlying_stroke             Underlying_stroke      0.095270210           83
prev_gks                               prev_gks      0.094632583           84
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
AKI                          5        2                            2
WBC                          6        3                            4
neutropenia                  7        4                            3
PT_percent                  13        5                            8
CRRT                        14        6                            5
PLT                         16        7                           10
bacteremia                  20        8                            6
BUN                         23        9                           16
SOFA_D1                     23       10                           11
CRP                         26       11                           18
hospital_LOS                29       12                           19
APACH_II                    30       13                           17
Death_Cause                 30       14                            9
Vasoactiveagent             30       15                            7
Cause_Ca_problem            34       16                           14
Albumin                     37       17                           21
prev_wbrt                   39       18                           13
Pneumonia                   40       19                           12
timefromdx                  40       20                           29
SAPS_II                     41       21                           26
post_dc_days                45       22                           20
thrombocytopenia            45       23                           15
MV_days                     49       24                           25
PaO2FiO2                    49       25                           31
age                         51       26                           32
post_icu_survival           52       27                           23
ICU_cause_intensivist       56       28                           22
ICU_mortal30                63       29                           24
aPTT                        69       30                           52
Hb                          69       31                           47
StageNum                    69       32                           34
histologyNum                74       33                           42
Distatntmets                76       34                           33
underlying_pulmo            76       35                           40
ICUCPR                      77       36                           30
cardiovasc                  78       37                           27
Underlying_DM               78       38                           38
prev_ccrt                   80       39                           36
HD                          87       40                           37
Hospital_death              87       41                           28
pulmocomorbid               88       42                           43
NewlyDx                     91       43                           45
HFNC                        92       44                           51
ICU_Death                   96       45                           35
Intensivist                 96       46                           48
ICU_LOS                     97       47                           70
DischargefromICU            98       48                           46
procalcitonin               99       49                           68
post2011                   102       50                           39
Refractory                 105       51                           56
performance_hospital_DC    107       52                           65
preICUDNR                  107       53                           49
sex                        109       54                           53
hypoalbuminemia            110       55                           55
anemia                     112       56                           59
MV                         112       57                           44
respfailure                113       58                           41
Pre_PS                     119       59                           86
PoorPS                     124       60                           60
performance_ICU_DC         125       61                           87
prev_rtx                   125       62                           88
DNR                        126       63                           72
Surgery                    126       64                           66
BIPAP                      127       65                           61
prev_ctx                   127       66                           57
CTxinICU                   131       67                           64
PCC                        131       68                           50
postICUCtx                 132       69                           54
prevCPR                    133       70                           62
ILD                        134       71                           58
smk_hx                     135       72                           78
DNR_at_ICU                 137       73                           75
RRT                        143       74                           63
ICUreadmission             146       75                           77
PDT                        147       76                           82
postICUCPR                 151       77                           76
Underlying_CV              152       78                           79
Tracheostomy               153       79                           74
postICURT                  155       80                           67
ECMO                       156       81                           69
PrevICUadm                 156       82                           71
dx_after_adm               157       83                           83
neurology                  159       84                           73
other_malignancy           162       85                           85
WBRT                       162       86                           80
Underlying_stroke          164       87                           81
prev_gks                   168       88                           84
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
AKI                                            3                  5
WBC                                            2                  6
neutropenia                                    4                  7
PT_percent                                     5                 13
CRRT                                           9                 14
PLT                                            6                 16
bacteremia                                    14                 20
BUN                                            7                 23
SOFA_D1                                       12                 23
CRP                                            8                 26
hospital_LOS                                  10                 29
APACH_II                                      13                 30
Death_Cause                                   21                 30
Vasoactiveagent                               23                 30
Cause_Ca_problem                              20                 34
Albumin                                       16                 37
prev_wbrt                                     26                 39
Pneumonia                                     28                 40
timefromdx                                    11                 40
SAPS_II                                       15                 41
post_dc_days                                  25                 45
thrombocytopenia                              30                 45
MV_days                                       24                 49
PaO2FiO2                                      18                 49
age                                           19                 51
post_icu_survival                             29                 52
ICU_cause_intensivist                         34                 56
ICU_mortal30                                  39                 63
aPTT                                          17                 69
Hb                                            22                 69
StageNum                                      35                 69
histologyNum                                  32                 74
Distatntmets                                  43                 76
underlying_pulmo                              36                 76
ICUCPR                                        47                 77
cardiovasc                                    51                 78
Underlying_DM                                 40                 78
prev_ccrt                                     44                 80
HD                                            50                 87
Hospital_death                                59                 87
pulmocomorbid                                 45                 88
NewlyDx                                       46                 91
HFNC                                          41                 92
ICU_Death                                     61                 96
Intensivist                                   48                 96
ICU_LOS                                       27                 97
DischargefromICU                              52                 98
procalcitonin                                 31                 99
post2011                                      63                102
Refractory                                    49                105
performance_hospital_DC                       42                107
preICUDNR                                     58                107
sex                                           56                109
hypoalbuminemia                               55                110
anemia                                        53                112
MV                                            68                112
respfailure                                   72                113
Pre_PS                                        33                119
PoorPS                                        64                124
performance_ICU_DC                            38                125
prev_rtx                                      37                125
DNR                                           54                126
Surgery                                       60                126
BIPAP                                         66                127
prev_ctx                                      70                127
CTxinICU                                      67                131
PCC                                           81                131
postICUCtx                                    78                132
prevCPR                                       71                133
ILD                                           76                134
smk_hx                                        57                135
DNR_at_ICU                                    62                137
RRT                                           80                143
ICUreadmission                                69                146
PDT                                           65                147
postICUCPR                                    75                151
Underlying_CV                                 73                152
Tracheostomy                                  79                153
postICURT                                     88                155
ECMO                                          87                156
PrevICUadm                                    85                156
dx_after_adm                                  74                157
neurology                                     86                159
other_malignancy                              77                162
WBRT                                          82                162
Underlying_stroke                             83                164
prev_gks                                      84                168
number of selected top features: 8
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia" "PT_percent" 
[6] "CRRT"        "PLT"         "bacteremia" 

[Training Random Forests classifier on the training set with only the top  8  features]

[Applying the trained Random Forests classifier on the test set with only the top  8  features]

PR AUC (integral) 	0.6964602
ROC AUC 		0.8263889

Brier score =  0.158  (best value: 0; worst value: 1)

TOTAL:

 FN =  6  /  8 	 (truth == 1) & (prediction < threshold)
 TP =  2  /  8 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  18 	 (truth == 0) & (prediction >= threshold)
 TN =  17  /  18 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.281 	 0.364 	 	0.731 	 	0.250 	 	0.944		0.667	 	0.739	 	0.696	0.826

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.675352e-02           2
AKI                             1.844088e-02           1
WBC                             9.913756e-03           4
neutropenia                     1.013697e-02           3
PT_percent                      6.874560e-03           7
BUN                             5.576995e-03           9
bacteremia                      8.977209e-03           6
SOFA_D1                         5.585320e-03           8
CRP                             4.523577e-03          12
Vasoactiveagent                 9.340658e-03           5
PLT                             4.246179e-03          14
CRRT                            5.542219e-03          10
APACH_II                        3.541493e-03          17
Albumin                         1.746133e-03          19
Cause_Ca_problem                3.940037e-03          16
Death_Cause                     4.305676e-03          13
Pneumonia                       4.575552e-03          11
hospital_LOS                    1.034726e-03          24
SAPS_II                         1.185358e-03          22
thrombocytopenia                4.005470e-03          15
aPTT                            5.236889e-04          30
age                             6.391027e-04          28
post_dc_days                    1.179615e-03          23
prev_wbrt                       1.760993e-03          18
ICU_cause_intensivist           1.459549e-03          20
MV_days                         9.411576e-04          25
ICU_mortal30                    1.454876e-03          21
post_icu_survival               5.444248e-04          29
PaO2FiO2                        3.669982e-04          40
timefromdx                      1.674293e-04          49
prev_ccrt                       7.874553e-04          26
HFNC                            4.945919e-04          33
Hospital_death                  7.655476e-04          27
hypoalbuminemia                 5.190038e-04          31
procalcitonin                   1.489598e-04          50
StageNum                        2.043508e-04          45
histologyNum                    1.755879e-04          48
Underlying_DM                   3.735925e-04          38
NewlyDx                         4.597214e-04          35
ICU_LOS                         8.217108e-05          59
Intensivist                     3.027035e-04          41
post2011                        3.896507e-04          37
DischargefromICU                4.718102e-04          34
HD                              4.149740e-04          36
underlying_pulmo                1.001340e-04          54
cardiovasc                      5.052401e-04          32
Distatntmets                    1.389017e-04          51
ICU_Death                       3.671174e-04          39
Refractory                      9.218250e-05          55
ICUCPR                          2.528308e-04          42
performance_ICU_DC             -1.493099e-06          68
Hb                             -1.094589e-04          84
pulmocomorbid                   8.938279e-05          57
sex                             9.194234e-05          56
MV                              2.066920e-04          44
prev_rtx                       -3.053046e-05          74
RRT                             2.374757e-04          43
DNR                             2.976007e-05          64
performance_hospital_DC        -2.250445e-05          72
anemia                          8.227039e-05          58
prev_ctx                        1.859657e-04          46
preICUDNR                       1.056161e-04          52
Pre_PS                         -3.511616e-04          88
respfailure                     1.048015e-04          53
PCC                             1.783561e-04          47
DNR_at_ICU                     -7.985677e-06          71
ICUreadmission                 -5.727149e-06          70
smk_hx                         -6.424414e-05          78
BIPAP                           2.099960e-05          65
postICUCtx                      6.009153e-05          62
ILD                             6.077986e-05          61
Surgery                        -7.342567e-05          80
WBRT                            3.857653e-05          63
prevCPR                        -4.580042e-05          76
ECMO                            6.899359e-05          60
PDT                            -8.312315e-05          82
postICUCPR                     -2.923779e-05          73
PrevICUadm                      2.204839e-06          67
neurology                       5.237395e-06          66
PoorPS                         -2.538075e-04          87
Underlying_CV                  -7.932125e-05          81
CTxinICU                       -3.533321e-05          75
postICURT                      -2.298851e-06          69
Tracheostomy                   -6.844442e-05          79
other_malignancy               -1.904236e-04          86
dx_after_adm                   -5.018986e-05          77
prev_gks                       -1.582075e-04          85
Underlying_stroke              -1.035102e-04          83
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC       6.74351662            1
AKI                                         AKI       5.00388221            3
WBC                                         WBC       5.28001930            2
neutropenia                         neutropenia       3.18224506            8
PT_percent                           PT_percent       3.69393760            4
BUN                                         BUN       3.69202578            5
bacteremia                           bacteremia       2.64250462           10
SOFA_D1                                 SOFA_D1       2.88601266            9
CRP                                         CRP       3.68742744            6
Vasoactiveagent                 Vasoactiveagent       2.30457112           15
PLT                                         PLT       3.48817343            7
CRRT                                       CRRT       2.41494151           12
APACH_II                               APACH_II       2.60221879           11
Albumin                                 Albumin       2.17155559           16
Cause_Ca_problem               Cause_Ca_problem       1.97648417           19
Death_Cause                         Death_Cause       1.72663289           22
Pneumonia                             Pneumonia       1.51454303           24
hospital_LOS                       hospital_LOS       2.41481597           13
SAPS_II                                 SAPS_II       1.99045446           18
thrombocytopenia               thrombocytopenia       1.50255117           25
aPTT                                       aPTT       2.15777274           17
age                                         age       1.73158473           20
post_dc_days                       post_dc_days       1.40010800           27
prev_wbrt                             prev_wbrt       0.86399802           32
ICU_cause_intensivist     ICU_cause_intensivist       0.87692364           31
MV_days                                 MV_days       1.43867899           26
ICU_mortal30                       ICU_mortal30       0.55350879           38
post_icu_survival             post_icu_survival       0.97341559           30
PaO2FiO2                               PaO2FiO2       1.73156600           21
timefromdx                           timefromdx       2.38950940           14
prev_ccrt                             prev_ccrt       0.52512509           40
HFNC                                       HFNC       0.48475370           42
Hospital_death                   Hospital_death       0.33787322           52
hypoalbuminemia                 hypoalbuminemia       0.39605842           48
procalcitonin                     procalcitonin       1.00938389           29
StageNum                               StageNum       0.66957073           34
histologyNum                       histologyNum       0.84148977           33
Underlying_DM                     Underlying_DM       0.46986621           43
NewlyDx                                 NewlyDx       0.39635053           47
ICU_LOS                                 ICU_LOS       1.27403395           28
Intensivist                         Intensivist       0.39898418           46
post2011                               post2011       0.34052472           51
DischargefromICU               DischargefromICU       0.32421548           55
HD                                           HD       0.33260049           54
underlying_pulmo               underlying_pulmo       0.55274057           39
cardiovasc                           cardiovasc       0.27595630           62
Distatntmets                       Distatntmets       0.44932002           44
ICU_Death                             ICU_Death       0.31133764           57
Refractory                           Refractory       0.40004746           45
ICUCPR                                   ICUCPR       0.28137227           60
performance_ICU_DC           performance_ICU_DC       0.60674598           36
Hb                                           Hb       1.51509647           23
pulmocomorbid                     pulmocomorbid       0.35728428           50
sex                                         sex       0.33290181           53
MV                                           MV       0.21446361           66
prev_rtx                               prev_rtx       0.55852440           37
RRT                                         RRT       0.19591183           69
DNR                                         DNR       0.37032979           49
performance_hospital_DC performance_hospital_DC       0.49663540           41
anemia                                   anemia       0.31436127           56
prev_ctx                               prev_ctx       0.20540005           68
preICUDNR                             preICUDNR       0.26280398           63
Pre_PS                                   Pre_PS       0.64739522           35
respfailure                         respfailure       0.19313813           71
PCC                                         PCC       0.11394873           78
DNR_at_ICU                           DNR_at_ICU       0.30339354           59
ICUreadmission                   ICUreadmission       0.23175256           65
smk_hx                                   smk_hx       0.30366675           58
BIPAP                                     BIPAP       0.18840078           72
postICUCtx                           postICUCtx       0.12932730           75
ILD                                         ILD       0.12012788           77
Surgery                                 Surgery       0.27604120           61
WBRT                                       WBRT       0.09906989           80
prevCPR                                 prevCPR       0.19319547           70
ECMO                                       ECMO       0.06144130           87
PDT                                         PDT       0.21250030           67
postICUCPR                           postICUCPR       0.12139866           76
PrevICUadm                           PrevICUadm       0.08868256           83
neurology                             neurology       0.08460979           85
PoorPS                                   PoorPS       0.24443915           64
Underlying_CV                     Underlying_CV       0.14137174           74
CTxinICU                               CTxinICU       0.09691116           81
postICURT                             postICURT       0.01201005           88
Tracheostomy                       Tracheostomy       0.10921411           79
other_malignancy               other_malignancy       0.16727285           73
dx_after_adm                       dx_after_adm       0.08724486           84
prev_gks                               prev_gks       0.09517939           82
Underlying_stroke             Underlying_stroke       0.07981312           86
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          3        1                            2
AKI                          4        2                            1
WBC                          6        3                            4
neutropenia                 11        4                            3
PT_percent                  11        5                            7
BUN                         14        6                            9
bacteremia                  16        7                            6
SOFA_D1                     17        8                            8
CRP                         18        9                           12
Vasoactiveagent             20       10                            5
PLT                         21       11                           14
CRRT                        22       12                           10
APACH_II                    28       13                           17
Albumin                     35       14                           19
Cause_Ca_problem            35       15                           16
Death_Cause                 35       16                           13
Pneumonia                   35       17                           11
hospital_LOS                37       18                           24
SAPS_II                     40       19                           22
thrombocytopenia            40       20                           15
aPTT                        47       21                           30
age                         48       22                           28
post_dc_days                50       23                           23
prev_wbrt                   50       24                           18
ICU_cause_intensivist       51       25                           20
MV_days                     51       26                           25
ICU_mortal30                59       27                           21
post_icu_survival           59       28                           29
PaO2FiO2                    61       29                           40
timefromdx                  63       30                           49
prev_ccrt                   66       31                           26
HFNC                        75       32                           33
Hospital_death              79       33                           27
hypoalbuminemia             79       34                           31
procalcitonin               79       35                           50
StageNum                    79       36                           45
histologyNum                81       37                           48
Underlying_DM               81       38                           38
NewlyDx                     82       39                           35
ICU_LOS                     87       40                           59
Intensivist                 87       41                           41
post2011                    88       42                           37
DischargefromICU            89       43                           34
HD                          90       44                           36
underlying_pulmo            93       45                           54
cardiovasc                  94       46                           32
Distatntmets                95       47                           51
ICU_Death                   96       48                           39
Refractory                 100       49                           55
ICUCPR                     102       50                           42
performance_ICU_DC         104       51                           68
Hb                         107       52                           84
pulmocomorbid              107       53                           57
sex                        109       54                           56
MV                         110       55                           44
prev_rtx                   111       56                           74
RRT                        112       57                           43
DNR                        113       58                           64
performance_hospital_DC    113       59                           72
anemia                     114       60                           58
prev_ctx                   114       61                           46
preICUDNR                  115       62                           52
Pre_PS                     123       63                           88
respfailure                124       64                           53
PCC                        125       65                           47
DNR_at_ICU                 130       66                           71
ICUreadmission             135       67                           70
smk_hx                     136       68                           78
BIPAP                      137       69                           65
postICUCtx                 137       70                           62
ILD                        138       71                           61
Surgery                    141       72                           80
WBRT                       143       73                           63
prevCPR                    146       74                           76
ECMO                       147       75                           60
PDT                        149       76                           82
postICUCPR                 149       77                           73
PrevICUadm                 150       78                           67
neurology                  151       79                           66
PoorPS                     151       80                           87
Underlying_CV              155       81                           81
CTxinICU                   156       82                           75
postICURT                  157       83                           69
Tracheostomy               158       84                           79
other_malignancy           159       85                           86
dx_after_adm               161       86                           77
prev_gks                   167       87                           85
Underlying_stroke          169       88                           83
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  3
AKI                                            3                  4
WBC                                            2                  6
neutropenia                                    8                 11
PT_percent                                     4                 11
BUN                                            5                 14
bacteremia                                    10                 16
SOFA_D1                                        9                 17
CRP                                            6                 18
Vasoactiveagent                               15                 20
PLT                                            7                 21
CRRT                                          12                 22
APACH_II                                      11                 28
Albumin                                       16                 35
Cause_Ca_problem                              19                 35
Death_Cause                                   22                 35
Pneumonia                                     24                 35
hospital_LOS                                  13                 37
SAPS_II                                       18                 40
thrombocytopenia                              25                 40
aPTT                                          17                 47
age                                           20                 48
post_dc_days                                  27                 50
prev_wbrt                                     32                 50
ICU_cause_intensivist                         31                 51
MV_days                                       26                 51
ICU_mortal30                                  38                 59
post_icu_survival                             30                 59
PaO2FiO2                                      21                 61
timefromdx                                    14                 63
prev_ccrt                                     40                 66
HFNC                                          42                 75
Hospital_death                                52                 79
hypoalbuminemia                               48                 79
procalcitonin                                 29                 79
StageNum                                      34                 79
histologyNum                                  33                 81
Underlying_DM                                 43                 81
NewlyDx                                       47                 82
ICU_LOS                                       28                 87
Intensivist                                   46                 87
post2011                                      51                 88
DischargefromICU                              55                 89
HD                                            54                 90
underlying_pulmo                              39                 93
cardiovasc                                    62                 94
Distatntmets                                  44                 95
ICU_Death                                     57                 96
Refractory                                    45                100
ICUCPR                                        60                102
performance_ICU_DC                            36                104
Hb                                            23                107
pulmocomorbid                                 50                107
sex                                           53                109
MV                                            66                110
prev_rtx                                      37                111
RRT                                           69                112
DNR                                           49                113
performance_hospital_DC                       41                113
anemia                                        56                114
prev_ctx                                      68                114
preICUDNR                                     63                115
Pre_PS                                        35                123
respfailure                                   71                124
PCC                                           78                125
DNR_at_ICU                                    59                130
ICUreadmission                                65                135
smk_hx                                        58                136
BIPAP                                         72                137
postICUCtx                                    75                137
ILD                                           77                138
Surgery                                       61                141
WBRT                                          80                143
prevCPR                                       70                146
ECMO                                          87                147
PDT                                           67                149
postICUCPR                                    76                149
PrevICUadm                                    83                150
neurology                                     85                151
PoorPS                                        64                151
Underlying_CV                                 74                155
CTxinICU                                      81                156
postICURT                                     88                157
Tracheostomy                                  79                158
other_malignancy                              73                159
dx_after_adm                                  84                161
prev_gks                                      82                167
Underlying_stroke                             86                169
number of selected top features: 8
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia" "PT_percent" 
[6] "BUN"         "bacteremia"  "SOFA_D1"    

[Training Random Forests classifier on the training set with only the top  8  features]

[Applying the trained Random Forests classifier on the test set with only the top  8  features]

PR AUC (integral) 	0.4616827
ROC AUC 		0.7318841

Brier score =  0.137  (best value: 0; worst value: 1)

TOTAL:

 FN =  2  /  3 	 (truth == 1) & (prediction < threshold)
 TP =  1  /  3 	 (truth == 1) & (prediction >= threshold)

 FP =  5  /  23 	 (truth == 0) & (prediction >= threshold)
 TN =  18  /  23 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.088 	 0.222 	 	0.731 	 	0.333 	 	0.783		0.167	 	0.900	 	0.462	0.732

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.718646e-02           1
AKI                             1.571392e-02           2
WBC                             1.034186e-02           3
neutropenia                     9.802673e-03           4
BUN                             4.838701e-03           8
PLT                             4.894307e-03           7
PT_percent                      5.518544e-03           6
CRRT                            6.084655e-03           5
APACH_II                        3.450816e-03          15
CRP                             3.402525e-03          16
bacteremia                      4.221407e-03           9
Cause_Ca_problem                3.705816e-03          13
SOFA_D1                         3.169705e-03          17
Albumin                         1.423654e-03          19
Death_Cause                     4.049398e-03          12
timefromdx                      9.534884e-04          25
Vasoactiveagent                 4.124611e-03          10
SAPS_II                         1.309254e-03          20
hospital_LOS                    8.614838e-04          26
Pneumonia                       4.081461e-03          11
prev_wbrt                       3.479526e-03          14
MV_days                         1.103430e-03          22
post_dc_days                    1.156533e-03          21
age                             6.251574e-04          29
thrombocytopenia                2.505464e-03          18
aPTT                            2.956077e-04          36
post_icu_survival               1.077890e-03          23
PaO2FiO2                        2.794874e-04          37
ICU_cause_intensivist           9.538447e-04          24
histologyNum                    6.884233e-04          28
ICU_LOS                         3.438601e-04          35
ICU_mortal30                    7.187673e-04          27
StageNum                        2.610531e-04          38
prev_ccrt                       4.271229e-04          33
HD                              4.292588e-04          32
HFNC                            3.528299e-04          34
prev_rtx                        1.650584e-04          43
procalcitonin                   1.312986e-04          48
cardiovasc                      5.375803e-04          30
underlying_pulmo                1.376235e-04          47
Underlying_DM                   1.528399e-04          45
Hospital_death                  4.628602e-04          31
Distatntmets                    1.595002e-04          44
pulmocomorbid                   1.089367e-04          52
post2011                        2.423517e-04          40
hypoalbuminemia                 1.193393e-04          50
ICU_Death                       1.988737e-04          41
performance_ICU_DC              4.716024e-06          65
preICUDNR                       1.232570e-04          49
Intensivist                     7.243439e-05          59
BIPAP                           1.867356e-04          42
ICUCPR                          1.423896e-04          46
Hb                             -2.469379e-04          87
anemia                          9.166636e-05          55
CTxinICU                        1.183850e-04          51
PoorPS                          6.387655e-05          60
DischargefromICU                7.411316e-05          58
RRT                             2.539603e-04          39
performance_hospital_DC        -8.007061e-05          78
smk_hx                         -1.857329e-05          70
NewlyDx                         1.041071e-04          54
Pre_PS                         -4.070307e-04          88
respfailure                     1.052817e-04          53
MV                              9.132547e-05          56
PDT                            -6.087150e-05          76
Refractory                     -1.106534e-04          83
ICUreadmission                 -2.360604e-06          67
Surgery                        -5.759551e-05          75
DNR                            -8.805035e-05          79
DNR_at_ICU                     -5.678436e-05          74
PCC                             8.907032e-05          57
postICUCtx                      2.297350e-05          63
ILD                             2.676068e-05          62
Underlying_CV                  -4.813023e-05          72
ECMO                            3.396777e-05          61
Tracheostomy                   -5.519320e-06          68
neurology                       7.645541e-06          64
prev_ctx                       -7.859698e-05          77
sex                            -1.105021e-04          82
PrevICUadm                     -5.974174e-06          69
WBRT                           -5.113486e-05          73
postICUCPR                     -9.964063e-05          81
postICURT                       2.422481e-07          66
dx_after_adm                   -9.072626e-05          80
prevCPR                        -1.276332e-04          85
prev_gks                       -1.940961e-05          71
other_malignancy               -1.411862e-04          86
Underlying_stroke              -1.110157e-04          84
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.572926586            1
AKI                                         AKI      4.257383398            3
WBC                                         WBC      5.350528520            2
neutropenia                         neutropenia      3.241157095            7
BUN                                         BUN      3.627023448            4
PLT                                         PLT      3.426667056            5
PT_percent                           PT_percent      3.413576176            6
CRRT                                       CRRT      2.359571656           12
APACH_II                               APACH_II      2.692531078            9
CRP                                         CRP      3.197366320            8
bacteremia                           bacteremia      1.439299876           22
Cause_Ca_problem               Cause_Ca_problem      1.745324230           18
SOFA_D1                                 SOFA_D1      2.199623649           14
Albumin                                 Albumin      2.233319895           13
Death_Cause                         Death_Cause      1.610501365           20
timefromdx                           timefromdx      2.397037499           10
Vasoactiveagent                 Vasoactiveagent      1.393356239           25
SAPS_II                                 SAPS_II      1.905877432           16
hospital_LOS                       hospital_LOS      2.360391027           11
Pneumonia                             Pneumonia      1.204004190           28
prev_wbrt                             prev_wbrt      1.255717497           27
MV_days                                 MV_days      1.491608028           21
post_dc_days                       post_dc_days      1.408364272           24
age                                         age      1.859235787           17
thrombocytopenia               thrombocytopenia      0.958347185           30
aPTT                                       aPTT      1.996806145           15
post_icu_survival             post_icu_survival      1.084379121           29
PaO2FiO2                               PaO2FiO2      1.694111600           19
ICU_cause_intensivist     ICU_cause_intensivist      0.584683130           35
histologyNum                       histologyNum      0.950718322           32
ICU_LOS                                 ICU_LOS      1.275827094           26
ICU_mortal30                       ICU_mortal30      0.379266692           43
StageNum                               StageNum      0.632716224           34
prev_ccrt                             prev_ccrt      0.427761025           40
HD                                           HD      0.349850770           44
HFNC                                       HFNC      0.400544955           42
prev_rtx                               prev_rtx      0.546082364           36
procalcitonin                     procalcitonin      0.951490078           31
cardiovasc                           cardiovasc      0.299535333           55
underlying_pulmo               underlying_pulmo      0.501091524           38
Underlying_DM                     Underlying_DM      0.401234010           41
Hospital_death                   Hospital_death      0.288940248           57
Distatntmets                       Distatntmets      0.341353345           47
pulmocomorbid                     pulmocomorbid      0.346047964           45
post2011                               post2011      0.287112825           58
hypoalbuminemia                 hypoalbuminemia      0.330205056           50
ICU_Death                             ICU_Death      0.275140584           61
performance_ICU_DC           performance_ICU_DC      0.546079611           37
preICUDNR                             preICUDNR      0.316771013           53
Intensivist                         Intensivist      0.342545912           46
BIPAP                                     BIPAP      0.250276085           66
ICUCPR                                   ICUCPR      0.261269077           63
Hb                                           Hb      1.427593332           23
anemia                                   anemia      0.292565333           56
CTxinICU                               CTxinICU      0.283119705           60
PoorPS                                   PoorPS      0.320370367           51
DischargefromICU               DischargefromICU      0.306964447           54
RRT                                         RRT      0.171338320           74
performance_hospital_DC performance_hospital_DC      0.488598329           39
smk_hx                                   smk_hx      0.337859630           48
NewlyDx                                 NewlyDx      0.256061184           65
Pre_PS                                   Pre_PS      0.768553984           33
respfailure                         respfailure      0.196100202           69
MV                                           MV      0.221289321           67
PDT                                         PDT      0.318003364           52
Refractory                           Refractory      0.336132678           49
ICUreadmission                   ICUreadmission      0.191998624           70
Surgery                                 Surgery      0.266037295           62
DNR                                         DNR      0.286186911           59
DNR_at_ICU                           DNR_at_ICU      0.259911566           64
PCC                                         PCC      0.076843665           84
postICUCtx                           postICUCtx      0.117024632           78
ILD                                         ILD      0.090821162           81
Underlying_CV                     Underlying_CV      0.141635223           75
ECMO                                       ECMO      0.040827383           87
Tracheostomy                       Tracheostomy      0.100076981           80
neurology                             neurology      0.064863003           85
prev_ctx                               prev_ctx      0.175604689           73
sex                                         sex      0.198303133           68
PrevICUadm                           PrevICUadm      0.089117570           82
WBRT                                       WBRT      0.108341941           79
postICUCPR                           postICUCPR      0.185478498           72
postICURT                             postICURT      0.004763247           88
dx_after_adm                       dx_after_adm      0.139901517           76
prevCPR                                 prevCPR      0.186371039           71
prev_gks                               prev_gks      0.063858923           86
other_malignancy               other_malignancy      0.137519799           77
Underlying_stroke             Underlying_stroke      0.085628101           83
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
AKI                          5        2                            2
WBC                          5        3                            3
neutropenia                 11        4                            4
BUN                         12        5                            8
PLT                         12        6                            7
PT_percent                  12        7                            6
CRRT                        17        8                            5
APACH_II                    24        9                           15
CRP                         24       10                           16
bacteremia                  31       11                            9
Cause_Ca_problem            31       12                           13
SOFA_D1                     31       13                           17
Albumin                     32       14                           19
Death_Cause                 32       15                           12
timefromdx                  35       16                           25
Vasoactiveagent             35       17                           10
SAPS_II                     36       18                           20
hospital_LOS                37       19                           26
Pneumonia                   39       20                           11
prev_wbrt                   41       21                           14
MV_days                     43       22                           22
post_dc_days                45       23                           21
age                         46       24                           29
thrombocytopenia            48       25                           18
aPTT                        51       26                           36
post_icu_survival           52       27                           23
PaO2FiO2                    56       28                           37
ICU_cause_intensivist       59       29                           24
histologyNum                60       30                           28
ICU_LOS                     61       31                           35
ICU_mortal30                70       32                           27
StageNum                    72       33                           38
prev_ccrt                   73       34                           33
HD                          76       35                           32
HFNC                        76       36                           34
prev_rtx                    79       37                           43
procalcitonin               79       38                           48
cardiovasc                  85       39                           30
underlying_pulmo            85       40                           47
Underlying_DM               86       41                           45
Hospital_death              88       42                           31
Distatntmets                91       43                           44
pulmocomorbid               97       44                           52
post2011                    98       45                           40
hypoalbuminemia            100       46                           50
ICU_Death                  102       47                           41
performance_ICU_DC         102       48                           65
preICUDNR                  102       49                           49
Intensivist                105       50                           59
BIPAP                      108       51                           42
ICUCPR                     109       52                           46
Hb                         110       53                           87
anemia                     111       54                           55
CTxinICU                   111       55                           51
PoorPS                     111       56                           60
DischargefromICU           112       57                           58
RRT                        113       58                           39
performance_hospital_DC    117       59                           78
smk_hx                     118       60                           70
NewlyDx                    119       61                           54
Pre_PS                     121       62                           88
respfailure                122       63                           53
MV                         123       64                           56
PDT                        128       65                           76
Refractory                 132       66                           83
ICUreadmission             137       67                           67
Surgery                    137       68                           75
DNR                        138       69                           79
DNR_at_ICU                 138       70                           74
PCC                        141       71                           57
postICUCtx                 141       72                           63
ILD                        143       73                           62
Underlying_CV              147       74                           72
ECMO                       148       75                           61
Tracheostomy               148       76                           68
neurology                  149       77                           64
prev_ctx                   150       78                           77
sex                        150       79                           82
PrevICUadm                 151       80                           69
WBRT                       152       81                           73
postICUCPR                 153       82                           81
postICURT                  154       83                           66
dx_after_adm               156       84                           80
prevCPR                    156       85                           85
prev_gks                   157       86                           71
other_malignancy           163       87                           86
Underlying_stroke          167       88                           84
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
AKI                                            3                  5
WBC                                            2                  5
neutropenia                                    7                 11
BUN                                            4                 12
PLT                                            5                 12
PT_percent                                     6                 12
CRRT                                          12                 17
APACH_II                                       9                 24
CRP                                            8                 24
bacteremia                                    22                 31
Cause_Ca_problem                              18                 31
SOFA_D1                                       14                 31
Albumin                                       13                 32
Death_Cause                                   20                 32
timefromdx                                    10                 35
Vasoactiveagent                               25                 35
SAPS_II                                       16                 36
hospital_LOS                                  11                 37
Pneumonia                                     28                 39
prev_wbrt                                     27                 41
MV_days                                       21                 43
post_dc_days                                  24                 45
age                                           17                 46
thrombocytopenia                              30                 48
aPTT                                          15                 51
post_icu_survival                             29                 52
PaO2FiO2                                      19                 56
ICU_cause_intensivist                         35                 59
histologyNum                                  32                 60
ICU_LOS                                       26                 61
ICU_mortal30                                  43                 70
StageNum                                      34                 72
prev_ccrt                                     40                 73
HD                                            44                 76
HFNC                                          42                 76
prev_rtx                                      36                 79
procalcitonin                                 31                 79
cardiovasc                                    55                 85
underlying_pulmo                              38                 85
Underlying_DM                                 41                 86
Hospital_death                                57                 88
Distatntmets                                  47                 91
pulmocomorbid                                 45                 97
post2011                                      58                 98
hypoalbuminemia                               50                100
ICU_Death                                     61                102
performance_ICU_DC                            37                102
preICUDNR                                     53                102
Intensivist                                   46                105
BIPAP                                         66                108
ICUCPR                                        63                109
Hb                                            23                110
anemia                                        56                111
CTxinICU                                      60                111
PoorPS                                        51                111
DischargefromICU                              54                112
RRT                                           74                113
performance_hospital_DC                       39                117
smk_hx                                        48                118
NewlyDx                                       65                119
Pre_PS                                        33                121
respfailure                                   69                122
MV                                            67                123
PDT                                           52                128
Refractory                                    49                132
ICUreadmission                                70                137
Surgery                                       62                137
DNR                                           59                138
DNR_at_ICU                                    64                138
PCC                                           84                141
postICUCtx                                    78                141
ILD                                           81                143
Underlying_CV                                 75                147
ECMO                                          87                148
Tracheostomy                                  80                148
neurology                                     85                149
prev_ctx                                      73                150
sex                                           68                150
PrevICUadm                                    82                151
WBRT                                          79                152
postICUCPR                                    72                153
postICURT                                     88                154
dx_after_adm                                  76                156
prevCPR                                       71                156
prev_gks                                      86                157
other_malignancy                              77                163
Underlying_stroke                             83                167
number of selected top features: 8
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia" "BUN"        
[6] "PLT"         "PT_percent"  "CRRT"       

[Training Random Forests classifier on the training set with only the top  8  features]

[Applying the trained Random Forests classifier on the test set with only the top  8  features]

PR AUC (integral) 	0.7428077
ROC AUC 		0.815625

Brier score =  0.182  (best value: 0; worst value: 1)

TOTAL:

 FN =  6  /  10 	 (truth == 1) & (prediction < threshold)
 TP =  4  /  10 	 (truth == 1) & (prediction >= threshold)

 FP =  2  /  16 	 (truth == 0) & (prediction >= threshold)
 TN =  14  /  16 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.318 	 0.500 	 	0.692 	 	0.400 	 	0.875		0.667	 	0.700	 	0.743	0.816

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.387079e-02           2
AKI                             1.915593e-02           1
WBC                             8.831922e-03           4
neutropenia                     9.266589e-03           3
PT_percent                      6.727975e-03           8
SOFA_D1                         8.243956e-03           5
BUN                             4.684408e-03          10
CRP                             4.128701e-03          11
CRRT                            7.415298e-03           7
bacteremia                      7.975413e-03           6
PLT                             3.457055e-03          14
APACH_II                        2.648124e-03          17
Vasoactiveagent                 6.375391e-03           9
SAPS_II                         1.518657e-03          19
timefromdx                      1.157549e-03          24
Death_Cause                     3.666044e-03          13
hospital_LOS                    1.218525e-03          23
Albumin                         1.269645e-03          21
Cause_Ca_problem                2.585544e-03          18
Pneumonia                       3.904839e-03          12
prev_wbrt                       2.817029e-03          15
post_dc_days                    1.231730e-03          22
thrombocytopenia                2.792806e-03          16
age                             4.998507e-04          31
MV_days                         8.267267e-04          25
ICU_cause_intensivist           1.387272e-03          20
PaO2FiO2                        4.213065e-04          35
post_icu_survival               6.019858e-04          30
aPTT                            1.638025e-04          46
prev_ccrt                       6.498680e-04          27
NewlyDx                         6.385052e-04          28
underlying_pulmo                2.969790e-04          36
ICU_mortal30                    7.355500e-04          26
Underlying_DM                   4.850098e-04          32
ICU_LOS                         1.248370e-04          50
StageNum                        2.081342e-04          44
sex                             4.600704e-04          33
pulmocomorbid                   2.410691e-04          41
cardiovasc                      6.377667e-04          29
HFNC                            2.669742e-04          40
histologyNum                    8.648801e-05          54
Distatntmets                    1.448091e-04          48
DischargefromICU                2.692867e-04          39
post2011                        2.734418e-04          38
anemia                          2.802293e-04          37
Intensivist                     1.661247e-04          45
Hospital_death                  4.426117e-04          34
Refractory                      1.259763e-04          49
preICUDNR                       1.504676e-04          47
DNR                             8.195790e-05          55
ICU_Death                       2.147412e-04          43
hypoalbuminemia                 9.997730e-05          52
ICUCPR                          2.149717e-04          42
procalcitonin                  -8.835407e-05          79
Hb                             -5.048618e-04          88
performance_hospital_DC        -7.570775e-05          73
performance_ICU_DC             -8.212215e-05          75
smk_hx                          6.781279e-06          65
CTxinICU                        4.434596e-05          56
Pre_PS                         -4.317968e-04          87
Surgery                         2.946313e-05          61
prev_rtx                       -1.527722e-04          85
MV                              3.048105e-05          60
prevCPR                         3.187059e-05          59
ILD                             9.909025e-05          53
respfailure                     4.171012e-05          57
PCC                             1.063414e-04          51
DNR_at_ICU                     -1.255179e-04          81
dx_after_adm                   -5.328438e-05          70
RRT                             7.143317e-06          64
BIPAP                          -7.143400e-05          72
postICUCtx                      2.745430e-05          62
ICUreadmission                 -7.991533e-05          74
ECMO                            3.204207e-05          58
PoorPS                         -2.916025e-04          86
Underlying_CV                  -3.795317e-05          69
WBRT                            2.530274e-05          63
PDT                            -1.488914e-04          84
Tracheostomy                   -4.565537e-06          67
prev_ctx                       -8.677046e-05          78
HD                             -1.297552e-04          83
postICURT                       8.021390e-08          66
PrevICUadm                     -6.201870e-06          68
postICUCPR                     -1.006614e-04          80
neurology                      -6.799482e-05          71
other_malignancy               -1.281588e-04          82
prev_gks                       -8.260009e-05          76
Underlying_stroke              -8.366092e-05          77
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC       5.80672586            1
AKI                                         AKI       5.02424091            3
WBC                                         WBC       5.03158568            2
neutropenia                         neutropenia       3.11202517            8
PT_percent                           PT_percent       3.89701230            4
SOFA_D1                                 SOFA_D1       3.55761538            7
BUN                                         BUN       3.73278690            5
CRP                                         CRP       3.63711815            6
CRRT                                       CRRT       2.68441282           11
bacteremia                           bacteremia       2.30039686           14
PLT                                         PLT       3.10751491            9
APACH_II                               APACH_II       2.45134712           12
Vasoactiveagent                 Vasoactiveagent       1.70345336           21
SAPS_II                                 SAPS_II       2.20281471           15
timefromdx                           timefromdx       2.81544600           10
Death_Cause                         Death_Cause       1.49300203           23
hospital_LOS                       hospital_LOS       2.44795115           13
Albumin                                 Albumin       2.19448495           16
Cause_Ca_problem               Cause_Ca_problem       1.79949995           20
Pneumonia                             Pneumonia       1.23815091           26
prev_wbrt                             prev_wbrt       1.10480839           28
post_dc_days                       post_dc_days       1.42721247           24
thrombocytopenia               thrombocytopenia       1.00641256           31
age                                         age       1.81726938           19
MV_days                                 MV_days       1.38379232           25
ICU_cause_intensivist     ICU_cause_intensivist       0.73714086           33
PaO2FiO2                               PaO2FiO2       1.84345706           18
post_icu_survival             post_icu_survival       1.07312307           29
aPTT                                       aPTT       2.09965805           17
prev_ccrt                             prev_ccrt       0.45855781           41
NewlyDx                                 NewlyDx       0.45402897           42
underlying_pulmo               underlying_pulmo       0.61465311           36
ICU_mortal30                       ICU_mortal30       0.38563664           47
Underlying_DM                     Underlying_DM       0.45077239           44
ICU_LOS                                 ICU_LOS       1.18865611           27
StageNum                               StageNum       0.65332383           35
sex                                         sex       0.36902935           48
pulmocomorbid                     pulmocomorbid       0.45231459           43
cardiovasc                           cardiovasc       0.29642176           56
HFNC                                       HFNC       0.44238717           45
histologyNum                       histologyNum       0.88161795           32
Distatntmets                       Distatntmets       0.45888750           40
DischargefromICU               DischargefromICU       0.35512468           52
post2011                               post2011       0.34333067           53
anemia                                   anemia       0.31317130           55
Intensivist                         Intensivist       0.36410580           49
Hospital_death                   Hospital_death       0.26825190           61
Refractory                           Refractory       0.38985814           46
preICUDNR                             preICUDNR       0.28732168           57
DNR                                         DNR       0.36381281           50
ICU_Death                             ICU_Death       0.26372060           62
hypoalbuminemia                 hypoalbuminemia       0.34051626           54
ICUCPR                                   ICUCPR       0.23760349           65
procalcitonin                     procalcitonin       1.06191382           30
Hb                                           Hb       1.54440747           22
performance_hospital_DC performance_hospital_DC       0.53805955           38
performance_ICU_DC           performance_ICU_DC       0.60922797           37
smk_hx                                   smk_hx       0.36303474           51
CTxinICU                               CTxinICU       0.26005837           63
Pre_PS                                   Pre_PS       0.72038349           34
Surgery                                 Surgery       0.27852720           60
prev_rtx                               prev_rtx       0.49618265           39
MV                                           MV       0.21830590           66
prevCPR                                 prevCPR       0.19954200           67
ILD                                         ILD       0.15495203           74
respfailure                         respfailure       0.16883335           73
PCC                                         PCC       0.10702991           80
DNR_at_ICU                           DNR_at_ICU       0.28351368           58
dx_after_adm                       dx_after_adm       0.18556707           70
RRT                                         RRT       0.14248168           76
BIPAP                                     BIPAP       0.19729207           69
postICUCtx                           postICUCtx       0.11983891           79
ICUreadmission                   ICUreadmission       0.19773825           68
ECMO                                       ECMO       0.04637409           87
PoorPS                                   PoorPS       0.28087269           59
Underlying_CV                     Underlying_CV       0.13458388           78
WBRT                                       WBRT       0.08550987           84
PDT                                         PDT       0.24527169           64
Tracheostomy                       Tracheostomy       0.10624097           81
prev_ctx                               prev_ctx       0.17831394           72
HD                                           HD       0.18049851           71
postICURT                             postICURT       0.01018056           88
PrevICUadm                           PrevICUadm       0.07877196           86
postICUCPR                           postICUCPR       0.14662828           75
neurology                             neurology       0.08056040           85
other_malignancy               other_malignancy       0.13881754           77
prev_gks                               prev_gks       0.08709590           83
Underlying_stroke             Underlying_stroke       0.10451652           82
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          3        1                            2
AKI                          4        2                            1
WBC                          6        3                            4
neutropenia                 11        4                            3
PT_percent                  12        5                            8
SOFA_D1                     12        6                            5
BUN                         15        7                           10
CRP                         17        8                           11
CRRT                        18        9                            7
bacteremia                  20       10                            6
PLT                         23       11                           14
APACH_II                    29       12                           17
Vasoactiveagent             30       13                            9
SAPS_II                     34       14                           19
timefromdx                  34       15                           24
Death_Cause                 36       16                           13
hospital_LOS                36       17                           23
Albumin                     37       18                           21
Cause_Ca_problem            38       19                           18
Pneumonia                   38       20                           12
prev_wbrt                   43       21                           15
post_dc_days                46       22                           22
thrombocytopenia            47       23                           16
age                         50       24                           31
MV_days                     50       25                           25
ICU_cause_intensivist       53       26                           20
PaO2FiO2                    53       27                           35
post_icu_survival           59       28                           30
aPTT                        63       29                           46
prev_ccrt                   68       30                           27
NewlyDx                     70       31                           28
underlying_pulmo            72       32                           36
ICU_mortal30                73       33                           26
Underlying_DM               76       34                           32
ICU_LOS                     77       35                           50
StageNum                    79       36                           44
sex                         81       37                           33
pulmocomorbid               84       38                           41
cardiovasc                  85       39                           29
HFNC                        85       40                           40
histologyNum                86       41                           54
Distatntmets                88       42                           48
DischargefromICU            91       43                           39
post2011                    91       44                           38
anemia                      92       45                           37
Intensivist                 94       46                           45
Hospital_death              95       47                           34
Refractory                  95       48                           49
preICUDNR                  104       49                           47
DNR                        105       50                           55
ICU_Death                  105       51                           43
hypoalbuminemia            106       52                           52
ICUCPR                     107       53                           42
procalcitonin              109       54                           79
Hb                         110       55                           88
performance_hospital_DC    111       56                           73
performance_ICU_DC         112       57                           75
smk_hx                     116       58                           65
CTxinICU                   119       59                           56
Pre_PS                     121       60                           87
Surgery                    121       61                           61
prev_rtx                   124       62                           85
MV                         126       63                           60
prevCPR                    126       64                           59
ILD                        127       65                           53
respfailure                130       66                           57
PCC                        131       67                           51
DNR_at_ICU                 139       68                           81
dx_after_adm               140       69                           70
RRT                        140       70                           64
BIPAP                      141       71                           72
postICUCtx                 141       72                           62
ICUreadmission             142       73                           74
ECMO                       145       74                           58
PoorPS                     145       75                           86
Underlying_CV              147       76                           69
WBRT                       147       77                           63
PDT                        148       78                           84
Tracheostomy               148       79                           67
prev_ctx                   150       80                           78
HD                         154       81                           83
postICURT                  154       82                           66
PrevICUadm                 154       83                           68
postICUCPR                 155       84                           80
neurology                  156       85                           71
other_malignancy           159       86                           82
prev_gks                   159       87                           76
Underlying_stroke          159       88                           77
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  3
AKI                                            3                  4
WBC                                            2                  6
neutropenia                                    8                 11
PT_percent                                     4                 12
SOFA_D1                                        7                 12
BUN                                            5                 15
CRP                                            6                 17
CRRT                                          11                 18
bacteremia                                    14                 20
PLT                                            9                 23
APACH_II                                      12                 29
Vasoactiveagent                               21                 30
SAPS_II                                       15                 34
timefromdx                                    10                 34
Death_Cause                                   23                 36
hospital_LOS                                  13                 36
Albumin                                       16                 37
Cause_Ca_problem                              20                 38
Pneumonia                                     26                 38
prev_wbrt                                     28                 43
post_dc_days                                  24                 46
thrombocytopenia                              31                 47
age                                           19                 50
MV_days                                       25                 50
ICU_cause_intensivist                         33                 53
PaO2FiO2                                      18                 53
post_icu_survival                             29                 59
aPTT                                          17                 63
prev_ccrt                                     41                 68
NewlyDx                                       42                 70
underlying_pulmo                              36                 72
ICU_mortal30                                  47                 73
Underlying_DM                                 44                 76
ICU_LOS                                       27                 77
StageNum                                      35                 79
sex                                           48                 81
pulmocomorbid                                 43                 84
cardiovasc                                    56                 85
HFNC                                          45                 85
histologyNum                                  32                 86
Distatntmets                                  40                 88
DischargefromICU                              52                 91
post2011                                      53                 91
anemia                                        55                 92
Intensivist                                   49                 94
Hospital_death                                61                 95
Refractory                                    46                 95
preICUDNR                                     57                104
DNR                                           50                105
ICU_Death                                     62                105
hypoalbuminemia                               54                106
ICUCPR                                        65                107
procalcitonin                                 30                109
Hb                                            22                110
performance_hospital_DC                       38                111
performance_ICU_DC                            37                112
smk_hx                                        51                116
CTxinICU                                      63                119
Pre_PS                                        34                121
Surgery                                       60                121
prev_rtx                                      39                124
MV                                            66                126
prevCPR                                       67                126
ILD                                           74                127
respfailure                                   73                130
PCC                                           80                131
DNR_at_ICU                                    58                139
dx_after_adm                                  70                140
RRT                                           76                140
BIPAP                                         69                141
postICUCtx                                    79                141
ICUreadmission                                68                142
ECMO                                          87                145
PoorPS                                        59                145
Underlying_CV                                 78                147
WBRT                                          84                147
PDT                                           64                148
Tracheostomy                                  81                148
prev_ctx                                      72                150
HD                                            71                154
postICURT                                     88                154
PrevICUadm                                    86                154
postICUCPR                                    75                155
neurology                                     85                156
other_malignancy                              77                159
prev_gks                                      83                159
Underlying_stroke                             82                159
number of selected top features: 8
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia" "PT_percent" 
[6] "SOFA_D1"     "BUN"         "CRP"        

[Training Random Forests classifier on the training set with only the top  8  features]

[Applying the trained Random Forests classifier on the test set with only the top  8  features]

PR AUC (integral) 	0.7245373
ROC AUC 		0.9

Brier score =  0.106  (best value: 0; worst value: 1)

TOTAL:

 FN =  3  /  5 	 (truth == 1) & (prediction < threshold)
 TP =  2  /  5 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  21 	 (truth == 0) & (prediction >= threshold)
 TN =  20  /  21 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.435 	 0.500 	 	0.846 	 	0.400 	 	0.952		0.667	 	0.870	 	0.725	0.900

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
AKI                             1.814503e-02           1
ANC                             1.294950e-02           3
neutropenia                     1.304364e-02           2
WBC                             9.264016e-03           4
CRP                             4.064790e-03           9
SOFA_D1                         5.722777e-03           7
bacteremia                      7.849801e-03           5
BUN                             3.863944e-03          12
CRRT                            6.344041e-03           6
PT_percent                      3.945599e-03          11
PLT                             2.518348e-03          15
APACH_II                        2.921468e-03          13
Death_Cause                     3.991889e-03          10
Vasoactiveagent                 5.343090e-03           8
timefromdx                      1.080698e-03          25
SAPS_II                         1.203307e-03          21
Cause_Ca_problem                2.329576e-03          16
hospital_LOS                    9.963899e-04          27
Pneumonia                       2.874068e-03          14
Albumin                         6.886083e-04          29
MV_days                         1.136531e-03          24
thrombocytopenia                2.016028e-03          17
post_dc_days                    1.154384e-03          23
ICU_cause_intensivist           1.758811e-03          18
prev_wbrt                       1.735423e-03          19
prev_ccrt                       1.437352e-03          20
post_icu_survival               9.904265e-04          28
ICU_mortal30                    1.192849e-03          22
histologyNum                    4.196049e-04          37
age                             1.413408e-04          48
Intensivist                     6.678017e-04          30
Underlying_DM                   4.557476e-04          36
Hospital_death                  1.022487e-03          26
ICU_LOS                         6.127044e-05          52
ICUCPR                          6.138807e-04          31
HD                              5.530785e-04          33
PaO2FiO2                        2.881299e-05          60
HFNC                            4.564538e-04          35
Hb                              2.229274e-05          61
hypoalbuminemia                 2.950115e-04          41
underlying_pulmo                1.707378e-04          44
post2011                        4.878731e-04          34
ICU_Death                       5.750002e-04          32
DischargefromICU                3.861341e-04          38
Distatntmets                    3.095442e-04          40
pulmocomorbid                   1.660379e-04          46
Refractory                      1.294901e-04          49
StageNum                        3.815506e-05          59
NewlyDx                         1.536671e-04          47
aPTT                           -1.606420e-04          84
CTxinICU                        1.703989e-04          45
cardiovasc                      3.567671e-04          39
PDT                             1.779158e-04          43
MV                              2.511284e-04          42
anemia                          5.468282e-05          56
performance_hospital_DC        -9.977888e-06          70
prev_rtx                       -6.774130e-05          77
Pre_PS                         -1.489758e-04          83
performance_ICU_DC             -1.806796e-04          85
procalcitonin                  -3.050178e-04          88
respfailure                     8.729471e-05          51
prev_ctx                        5.997396e-05          53
BIPAP                           2.086013e-05          62
preICUDNR                       0.000000e+00          67
DNR                            -2.378599e-05          73
ILD                             9.000623e-05          50
postICUCPR                      0.000000e+00          66
smk_hx                         -8.360865e-05          78
RRT                             4.198134e-05          58
Tracheostomy                    5.936487e-05          54
prevCPR                         4.426979e-06          64
sex                            -3.855062e-05          74
DNR_at_ICU                     -1.311700e-04          82
ICUreadmission                 -1.874957e-05          72
PCC                             5.477350e-05          55
Surgery                        -9.422560e-05          79
dx_after_adm                   -3.076961e-06          69
ECMO                            4.409483e-05          57
PoorPS                         -2.022475e-04          86
neurology                       1.301149e-05          63
postICUCtx                     -4.984321e-07          68
Underlying_CV                  -3.956936e-05          75
postICURT                       2.061856e-06          65
PrevICUadm                     -1.719877e-05          71
Underlying_stroke              -6.150009e-05          76
WBRT                           -1.203554e-04          81
other_malignancy               -2.205627e-04          87
prev_gks                       -9.627821e-05          80
                                       features MeanDecreaseGini secondColPos
AKI                                         AKI      4.712464272            3
ANC                                         ANC      5.630950588            1
neutropenia                         neutropenia      3.669256882            4
WBC                                         WBC      4.812437535            2
CRP                                         CRP      3.242759412            5
SOFA_D1                                 SOFA_D1      2.645553273           10
bacteremia                           bacteremia      2.333731724           13
BUN                                         BUN      3.017693875            6
CRRT                                       CRRT      2.339364532           12
PT_percent                           PT_percent      2.993058885            7
PLT                                         PLT      2.714990091            8
APACH_II                               APACH_II      2.459001402           11
Death_Cause                         Death_Cause      1.568220268           20
Vasoactiveagent                 Vasoactiveagent      1.538891719           22
timefromdx                           timefromdx      2.699887016            9
SAPS_II                                 SAPS_II      1.852037845           15
Cause_Ca_problem               Cause_Ca_problem      1.554348415           21
hospital_LOS                       hospital_LOS      2.190636223           14
Pneumonia                             Pneumonia      1.056427492           27
Albumin                                 Albumin      1.824292451           16
MV_days                                 MV_days      1.374661383           23
thrombocytopenia               thrombocytopenia      0.878415290           30
post_dc_days                       post_dc_days      1.329321101           25
ICU_cause_intensivist     ICU_cause_intensivist      0.849716919           31
prev_wbrt                             prev_wbrt      0.812543055           32
prev_ccrt                             prev_ccrt      0.804493237           33
post_icu_survival             post_icu_survival      0.880530202           29
ICU_mortal30                       ICU_mortal30      0.482508206           40
histologyNum                       histologyNum      0.882484929           28
age                                         age      1.728703362           18
Intensivist                         Intensivist      0.480055904           42
Underlying_DM                     Underlying_DM      0.557057500           39
Hospital_death                   Hospital_death      0.361771362           50
ICU_LOS                                 ICU_LOS      1.194369023           26
ICUCPR                                   ICUCPR      0.381963075           47
HD                                           HD      0.396381955           46
PaO2FiO2                               PaO2FiO2      1.610227630           19
HFNC                                       HFNC      0.440681482           45
Hb                                           Hb      1.367345679           24
hypoalbuminemia                 hypoalbuminemia      0.441700856           44
underlying_pulmo               underlying_pulmo      0.482234218           41
post2011                               post2011      0.333047081           52
ICU_Death                             ICU_Death      0.278822548           59
DischargefromICU               DischargefromICU      0.314116097           55
Distatntmets                       Distatntmets      0.329031986           53
pulmocomorbid                     pulmocomorbid      0.374051151           49
Refractory                           Refractory      0.376007941           48
StageNum                               StageNum      0.575414980           38
NewlyDx                                 NewlyDx      0.344864737           51
aPTT                                       aPTT      1.761940865           17
CTxinICU                               CTxinICU      0.286816394           58
cardiovasc                           cardiovasc      0.219442915           68
PDT                                         PDT      0.236037521           65
MV                                           MV      0.216492080           69
anemia                                   anemia      0.289419238           57
performance_hospital_DC performance_hospital_DC      0.473885019           43
prev_rtx                               prev_rtx      0.585223927           37
Pre_PS                                   Pre_PS      0.700858241           35
performance_ICU_DC           performance_ICU_DC      0.586050236           36
procalcitonin                     procalcitonin      0.725571828           34
respfailure                         respfailure      0.177073635           71
prev_ctx                               prev_ctx      0.164541835           72
BIPAP                                     BIPAP      0.225425853           66
preICUDNR                             preICUDNR      0.273392001           62
DNR                                         DNR      0.310572990           56
ILD                                         ILD      0.101581497           80
postICUCPR                           postICUCPR      0.240805430           64
smk_hx                                   smk_hx      0.325707307           54
RRT                                         RRT      0.127618528           75
Tracheostomy                       Tracheostomy      0.113471713           79
prevCPR                                 prevCPR      0.160156032           73
sex                                         sex      0.224373862           67
DNR_at_ICU                           DNR_at_ICU      0.276822662           60
ICUreadmission                   ICUreadmission      0.212115040           70
PCC                                         PCC      0.049949451           87
Surgery                                 Surgery      0.262086585           63
dx_after_adm                       dx_after_adm      0.147047135           74
ECMO                                       ECMO      0.050430991           86
PoorPS                                   PoorPS      0.276705197           61
neurology                             neurology      0.067518416           85
postICUCtx                           postICUCtx      0.099793471           81
Underlying_CV                     Underlying_CV      0.124681056           77
postICURT                             postICURT      0.004155966           88
PrevICUadm                           PrevICUadm      0.085422080           83
Underlying_stroke             Underlying_stroke      0.094950843           82
WBRT                                       WBRT      0.116517454           78
other_malignancy               other_malignancy      0.125391969           76
prev_gks                               prev_gks      0.072635738           84
                        posSum finalPos meanDecreaseAccuracyPosition
AKI                          4        1                            1
ANC                          4        2                            3
neutropenia                  6        3                            2
WBC                          6        4                            4
CRP                         14        5                            9
SOFA_D1                     17        6                            7
bacteremia                  18        7                            5
BUN                         18        8                           12
CRRT                        18        9                            6
PT_percent                  18       10                           11
PLT                         23       11                           15
APACH_II                    24       12                           13
Death_Cause                 30       13                           10
Vasoactiveagent             30       14                            8
timefromdx                  34       15                           25
SAPS_II                     36       16                           21
Cause_Ca_problem            37       17                           16
hospital_LOS                41       18                           27
Pneumonia                   41       19                           14
Albumin                     45       20                           29
MV_days                     47       21                           24
thrombocytopenia            47       22                           17
post_dc_days                48       23                           23
ICU_cause_intensivist       49       24                           18
prev_wbrt                   51       25                           19
prev_ccrt                   53       26                           20
post_icu_survival           57       27                           28
ICU_mortal30                62       28                           22
histologyNum                65       29                           37
age                         66       30                           48
Intensivist                 72       31                           30
Underlying_DM               75       32                           36
Hospital_death              76       33                           26
ICU_LOS                     78       34                           52
ICUCPR                      78       35                           31
HD                          79       36                           33
PaO2FiO2                    79       37                           60
HFNC                        80       38                           35
Hb                          85       39                           61
hypoalbuminemia             85       40                           41
underlying_pulmo            85       41                           44
post2011                    86       42                           34
ICU_Death                   91       43                           32
DischargefromICU            93       44                           38
Distatntmets                93       45                           40
pulmocomorbid               95       46                           46
Refractory                  97       47                           49
StageNum                    97       48                           59
NewlyDx                     98       49                           47
aPTT                       101       50                           84
CTxinICU                   103       51                           45
cardiovasc                 107       52                           39
PDT                        108       53                           43
MV                         111       54                           42
anemia                     113       55                           56
performance_hospital_DC    113       56                           70
prev_rtx                   114       57                           77
Pre_PS                     118       58                           83
performance_ICU_DC         121       59                           85
procalcitonin              122       60                           88
respfailure                122       61                           51
prev_ctx                   125       62                           53
BIPAP                      128       63                           62
preICUDNR                  129       65                           66
DNR                        129       64                           73
ILD                        130       66                           50
postICUCPR                 130       67                           67
smk_hx                     132       68                           78
RRT                        133       69                           58
Tracheostomy               133       70                           54
prevCPR                    137       71                           64
sex                        141       72                           74
DNR_at_ICU                 142       73                           82
ICUreadmission             142       74                           72
PCC                        142       75                           55
Surgery                    142       76                           79
dx_after_adm               143       77                           69
ECMO                       143       78                           57
PoorPS                     147       79                           86
neurology                  148       80                           63
postICUCtx                 149       81                           68
Underlying_CV              152       82                           75
postICURT                  153       83                           65
PrevICUadm                 154       84                           71
Underlying_stroke          158       85                           76
WBRT                       159       86                           81
other_malignancy           163       87                           87
prev_gks                   164       88                           80
                        meanDecreaseGiniPosition aggregatedPosition
AKI                                            3                  4
ANC                                            1                  4
neutropenia                                    4                  6
WBC                                            2                  6
CRP                                            5                 14
SOFA_D1                                       10                 17
bacteremia                                    13                 18
BUN                                            6                 18
CRRT                                          12                 18
PT_percent                                     7                 18
PLT                                            8                 23
APACH_II                                      11                 24
Death_Cause                                   20                 30
Vasoactiveagent                               22                 30
timefromdx                                     9                 34
SAPS_II                                       15                 36
Cause_Ca_problem                              21                 37
hospital_LOS                                  14                 41
Pneumonia                                     27                 41
Albumin                                       16                 45
MV_days                                       23                 47
thrombocytopenia                              30                 47
post_dc_days                                  25                 48
ICU_cause_intensivist                         31                 49
prev_wbrt                                     32                 51
prev_ccrt                                     33                 53
post_icu_survival                             29                 57
ICU_mortal30                                  40                 62
histologyNum                                  28                 65
age                                           18                 66
Intensivist                                   42                 72
Underlying_DM                                 39                 75
Hospital_death                                50                 76
ICU_LOS                                       26                 78
ICUCPR                                        47                 78
HD                                            46                 79
PaO2FiO2                                      19                 79
HFNC                                          45                 80
Hb                                            24                 85
hypoalbuminemia                               44                 85
underlying_pulmo                              41                 85
post2011                                      52                 86
ICU_Death                                     59                 91
DischargefromICU                              55                 93
Distatntmets                                  53                 93
pulmocomorbid                                 49                 95
Refractory                                    48                 97
StageNum                                      38                 97
NewlyDx                                       51                 98
aPTT                                          17                101
CTxinICU                                      58                103
cardiovasc                                    68                107
PDT                                           65                108
MV                                            69                111
anemia                                        57                113
performance_hospital_DC                       43                113
prev_rtx                                      37                114
Pre_PS                                        35                118
performance_ICU_DC                            36                121
procalcitonin                                 34                122
respfailure                                   71                122
prev_ctx                                      72                125
BIPAP                                         66                128
preICUDNR                                     62                128
DNR                                           56                129
ILD                                           80                130
postICUCPR                                    64                131
smk_hx                                        54                132
RRT                                           75                133
Tracheostomy                                  79                133
prevCPR                                       73                137
sex                                           67                141
DNR_at_ICU                                    60                142
ICUreadmission                                70                142
PCC                                           87                142
Surgery                                       63                142
dx_after_adm                                  74                143
ECMO                                          86                143
PoorPS                                        61                147
neurology                                     85                148
postICUCtx                                    81                149
Underlying_CV                                 77                152
postICURT                                     88                153
PrevICUadm                                    83                154
Underlying_stroke                             82                158
WBRT                                          78                159
other_malignancy                              76                163
prev_gks                                      84                164
number of selected top features: 8
selected top features: 
[1] "AKI"         "ANC"         "neutropenia" "WBC"         "CRP"        
[6] "SOFA_D1"     "bacteremia"  "BUN"        

[Training Random Forests classifier on the training set with only the top  8  features]

[Applying the trained Random Forests classifier on the test set with only the top  8  features]

PR AUC (integral) 	0.8202367
ROC AUC 		0.7827381

Brier score =  0.209  (best value: 0; worst value: 1)

TOTAL:

 FN =  6  /  12 	 (truth == 1) & (prediction < threshold)
 TP =  6  /  12 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  14 	 (truth == 0) & (prediction >= threshold)
 TN =  13  /  14 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.482 	 0.632 	 	0.731 	 	0.500 	 	0.929		0.857	 	0.684	 	0.820	0.783

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.364921e-02           2
AKI                             1.478385e-02           1
WBC                             9.479168e-03           4
neutropenia                     1.109085e-02           3
BUN                             7.595156e-03           7
PT_percent                      6.995035e-03           8
CRRT                            8.115504e-03           6
bacteremia                      8.669387e-03           5
SOFA_D1                         5.989784e-03           9
PLT                             5.268319e-03          12
CRP                             2.816297e-03          15
Death_Cause                     5.740031e-03          10
APACH_II                        2.735225e-03          16
hospital_LOS                    1.031235e-03          23
SAPS_II                         1.728344e-03          18
Vasoactiveagent                 5.686194e-03          11
Albumin                         1.260638e-03          22
thrombocytopenia                3.973628e-03          13
Cause_Ca_problem                2.492282e-03          17
timefromdx                      8.022931e-04          27
Pneumonia                       3.647948e-03          14
post_dc_days                    1.556523e-03          20
age                             6.983746e-04          30
prev_wbrt                       1.714237e-03          19
MV_days                         7.995655e-04          28
ICU_cause_intensivist           1.435116e-03          21
post_icu_survival               8.927797e-04          26
HFNC                            9.432806e-04          25
ICU_mortal30                    9.833051e-04          24
prev_ccrt                       7.579651e-04          29
underlying_pulmo                2.493043e-04          36
NewlyDx                         3.174410e-04          34
Underlying_DM                   1.753998e-04          39
PaO2FiO2                       -3.122574e-05          63
hypoalbuminemia                 2.364927e-04          37
Intensivist                     1.788742e-04          38
post2011                        2.768790e-04          35
pulmocomorbid                   1.130590e-04          44
cardiovasc                      5.298248e-04          31
ICU_Death                       4.601568e-04          32
StageNum                       -5.034796e-06          56
prev_rtx                       -5.381532e-06          57
Hospital_death                  3.530937e-04          33
CTxinICU                        1.210293e-04          42
preICUDNR                       1.206481e-04          43
DischargefromICU                2.756064e-05          50
procalcitonin                  -8.376347e-05          72
histologyNum                   -8.226928e-05          71
ICUCPR                          1.420750e-04          40
aPTT                           -2.440622e-04          87
Refractory                     -1.652086e-06          55
Hb                             -1.433460e-04          81
anemia                          8.501259e-05          46
MV                              1.361393e-04          41
sex                             1.513329e-05          52
ICU_LOS                        -3.096971e-04          88
PoorPS                         -2.809704e-05          62
performance_hospital_DC        -1.065332e-04          77
performance_ICU_DC             -1.536740e-04          83
Pre_PS                         -2.416308e-04          86
respfailure                     1.886600e-05          51
DNR                            -7.360107e-05          70
BIPAP                          -5.430127e-06          58
DNR_at_ICU                     -4.980367e-05          66
ILD                             9.756907e-05          45
RRT                             3.671474e-05          49
HD                             -2.045113e-05          60
Distatntmets                   -1.939733e-04          84
postICUCtx                      1.256189e-05          53
PCC                             6.285145e-05          47
smk_hx                         -1.276284e-04          80
ECMO                            3.904011e-05          48
prevCPR                        -4.694842e-05          64
Surgery                        -1.096483e-04          78
ICUreadmission                 -9.555339e-05          75
Underlying_CV                  -4.726282e-05          65
postICURT                       8.898569e-06          54
prev_ctx                       -9.317647e-05          74
WBRT                           -1.528625e-05          59
PrevICUadm                     -2.410267e-05          61
postICUCPR                     -8.437134e-05          73
prev_gks                       -6.479904e-05          68
Tracheostomy                   -6.693954e-05          69
dx_after_adm                   -1.233453e-04          79
neurology                      -5.207819e-05          67
PDT                            -1.446105e-04          82
other_malignancy               -2.272216e-04          85
Underlying_stroke              -1.012487e-04          76
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      5.978650623            1
AKI                                         AKI      4.071457489            3
WBC                                         WBC      5.219675957            2
neutropenia                         neutropenia      3.704560853            6
BUN                                         BUN      3.982564066            4
PT_percent                           PT_percent      3.981386244            5
CRRT                                       CRRT      2.715932369           10
bacteremia                           bacteremia      2.524051301           13
SOFA_D1                                 SOFA_D1      3.036935966            9
PLT                                         PLT      3.582035526            7
CRP                                         CRP      3.094324351            8
Death_Cause                         Death_Cause      2.035675649           17
APACH_II                               APACH_II      2.509619651           14
hospital_LOS                       hospital_LOS      2.593556275           11
SAPS_II                                 SAPS_II      2.087452570           16
Vasoactiveagent                 Vasoactiveagent      1.499391832           23
Albumin                                 Albumin      2.139461447           15
thrombocytopenia               thrombocytopenia      1.463887908           24
Cause_Ca_problem               Cause_Ca_problem      1.586774713           22
timefromdx                           timefromdx      2.533678664           12
Pneumonia                             Pneumonia      1.321536878           27
post_dc_days                       post_dc_days      1.655008115           21
age                                         age      1.771613541           19
prev_wbrt                             prev_wbrt      0.974842482           31
MV_days                                 MV_days      1.453699949           25
ICU_cause_intensivist     ICU_cause_intensivist      0.765529759           33
post_icu_survival             post_icu_survival      1.036358927           29
HFNC                                       HFNC      0.701543607           35
ICU_mortal30                       ICU_mortal30      0.424502803           44
prev_ccrt                             prev_ccrt      0.552028557           39
underlying_pulmo               underlying_pulmo      0.548413387           40
NewlyDx                                 NewlyDx      0.382295160           45
Underlying_DM                     Underlying_DM      0.475403006           42
PaO2FiO2                               PaO2FiO2      1.750944089           20
hypoalbuminemia                 hypoalbuminemia      0.368332366           47
Intensivist                         Intensivist      0.355431768           48
post2011                               post2011      0.315783108           51
pulmocomorbid                     pulmocomorbid      0.431380090           43
cardiovasc                           cardiovasc      0.282288309           59
ICU_Death                             ICU_Death      0.278840766           60
StageNum                               StageNum      0.645152475           36
prev_rtx                               prev_rtx      0.617737959           38
Hospital_death                   Hospital_death      0.265242827           64
CTxinICU                               CTxinICU      0.291579757           56
preICUDNR                             preICUDNR      0.294533423           55
DischargefromICU               DischargefromICU      0.346999963           49
procalcitonin                     procalcitonin      0.993616851           30
histologyNum                       histologyNum      0.858863625           32
ICUCPR                                   ICUCPR      0.268757401           63
aPTT                                       aPTT      1.808100591           18
Refractory                           Refractory      0.343872255           50
Hb                                           Hb      1.367488476           26
anemia                                   anemia      0.272254953           62
MV                                           MV      0.218273498           67
sex                                         sex      0.274872751           61
ICU_LOS                                 ICU_LOS      1.297371617           28
PoorPS                                   PoorPS      0.294610183           54
performance_hospital_DC performance_hospital_DC      0.524571518           41
performance_ICU_DC           performance_ICU_DC      0.636021853           37
Pre_PS                                   Pre_PS      0.741622713           34
respfailure                         respfailure      0.195871362           70
DNR                                         DNR      0.314052607           52
BIPAP                                     BIPAP      0.255397956           65
DNR_at_ICU                           DNR_at_ICU      0.287092305           57
ILD                                         ILD      0.126253230           78
RRT                                         RRT      0.132956256           77
HD                                           HD      0.197714779           69
Distatntmets                       Distatntmets      0.378331374           46
postICUCtx                           postICUCtx      0.114478667           79
PCC                                         PCC      0.051966688           86
smk_hx                                   smk_hx      0.308639730           53
ECMO                                       ECMO      0.044518282           87
prevCPR                                 prevCPR      0.183711420           71
Surgery                                 Surgery      0.286890495           58
ICUreadmission                   ICUreadmission      0.225033394           66
Underlying_CV                     Underlying_CV      0.135036287           76
postICURT                             postICURT      0.009864101           88
prev_ctx                               prev_ctx      0.198341281           68
WBRT                                       WBRT      0.077248613           84
PrevICUadm                           PrevICUadm      0.079053322           83
postICUCPR                           postICUCPR      0.153838713           75
prev_gks                               prev_gks      0.098476319           81
Tracheostomy                       Tracheostomy      0.111123471           80
dx_after_adm                       dx_after_adm      0.163947331           73
neurology                             neurology      0.064873800           85
PDT                                         PDT      0.159537722           74
other_malignancy               other_malignancy      0.168912506           72
Underlying_stroke             Underlying_stroke      0.088054497           82
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          3        1                            2
AKI                          4        2                            1
WBC                          6        3                            4
neutropenia                  9        4                            3
BUN                         11        5                            7
PT_percent                  13        6                            8
CRRT                        16        7                            6
bacteremia                  18        8                            5
SOFA_D1                     18        9                            9
PLT                         19       10                           12
CRP                         23       11                           15
Death_Cause                 27       12                           10
APACH_II                    30       13                           16
hospital_LOS                34       14                           23
SAPS_II                     34       15                           18
Vasoactiveagent             34       16                           11
Albumin                     37       17                           22
thrombocytopenia            37       18                           13
Cause_Ca_problem            39       19                           17
timefromdx                  39       20                           27
Pneumonia                   41       21                           14
post_dc_days                41       22                           20
age                         49       23                           30
prev_wbrt                   50       24                           19
MV_days                     53       25                           28
ICU_cause_intensivist       54       26                           21
post_icu_survival           55       27                           26
HFNC                        60       28                           25
ICU_mortal30                68       29                           24
prev_ccrt                   68       30                           29
underlying_pulmo            76       31                           36
NewlyDx                     79       32                           34
Underlying_DM               81       33                           39
PaO2FiO2                    83       34                           63
hypoalbuminemia             84       35                           37
Intensivist                 86       36                           38
post2011                    86       37                           35
pulmocomorbid               87       38                           44
cardiovasc                  90       39                           31
ICU_Death                   92       40                           32
StageNum                    92       41                           56
prev_rtx                    95       42                           57
Hospital_death              97       43                           33
CTxinICU                    98       44                           42
preICUDNR                   98       45                           43
DischargefromICU            99       46                           50
procalcitonin              102       47                           72
histologyNum               103       48                           71
ICUCPR                     103       49                           40
aPTT                       105       50                           87
Refractory                 105       51                           55
Hb                         107       52                           81
anemia                     108       53                           46
MV                         108       54                           41
sex                        113       55                           52
ICU_LOS                    116       56                           88
PoorPS                     116       57                           62
performance_hospital_DC    118       58                           77
performance_ICU_DC         120       59                           83
Pre_PS                     120       60                           86
respfailure                121       61                           51
DNR                        122       62                           70
BIPAP                      123       63                           58
DNR_at_ICU                 123       64                           66
ILD                        123       65                           45
RRT                        126       66                           49
HD                         129       67                           60
Distatntmets               130       68                           84
postICUCtx                 132       69                           53
PCC                        133       70                           47
smk_hx                     133       71                           80
ECMO                       135       72                           48
prevCPR                    135       73                           64
Surgery                    136       74                           78
ICUreadmission             141       75                           75
Underlying_CV              141       76                           65
postICURT                  142       77                           54
prev_ctx                   142       78                           74
WBRT                       143       79                           59
PrevICUadm                 144       80                           61
postICUCPR                 148       81                           73
prev_gks                   149       82                           68
Tracheostomy               149       83                           69
dx_after_adm               152       84                           79
neurology                  152       85                           67
PDT                        156       86                           82
other_malignancy           157       87                           85
Underlying_stroke          158       88                           76
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  3
AKI                                            3                  4
WBC                                            2                  6
neutropenia                                    6                  9
BUN                                            4                 11
PT_percent                                     5                 13
CRRT                                          10                 16
bacteremia                                    13                 18
SOFA_D1                                        9                 18
PLT                                            7                 19
CRP                                            8                 23
Death_Cause                                   17                 27
APACH_II                                      14                 30
hospital_LOS                                  11                 34
SAPS_II                                       16                 34
Vasoactiveagent                               23                 34
Albumin                                       15                 37
thrombocytopenia                              24                 37
Cause_Ca_problem                              22                 39
timefromdx                                    12                 39
Pneumonia                                     27                 41
post_dc_days                                  21                 41
age                                           19                 49
prev_wbrt                                     31                 50
MV_days                                       25                 53
ICU_cause_intensivist                         33                 54
post_icu_survival                             29                 55
HFNC                                          35                 60
ICU_mortal30                                  44                 68
prev_ccrt                                     39                 68
underlying_pulmo                              40                 76
NewlyDx                                       45                 79
Underlying_DM                                 42                 81
PaO2FiO2                                      20                 83
hypoalbuminemia                               47                 84
Intensivist                                   48                 86
post2011                                      51                 86
pulmocomorbid                                 43                 87
cardiovasc                                    59                 90
ICU_Death                                     60                 92
StageNum                                      36                 92
prev_rtx                                      38                 95
Hospital_death                                64                 97
CTxinICU                                      56                 98
preICUDNR                                     55                 98
DischargefromICU                              49                 99
procalcitonin                                 30                102
histologyNum                                  32                103
ICUCPR                                        63                103
aPTT                                          18                105
Refractory                                    50                105
Hb                                            26                107
anemia                                        62                108
MV                                            67                108
sex                                           61                113
ICU_LOS                                       28                116
PoorPS                                        54                116
performance_hospital_DC                       41                118
performance_ICU_DC                            37                120
Pre_PS                                        34                120
respfailure                                   70                121
DNR                                           52                122
BIPAP                                         65                123
DNR_at_ICU                                    57                123
ILD                                           78                123
RRT                                           77                126
HD                                            69                129
Distatntmets                                  46                130
postICUCtx                                    79                132
PCC                                           86                133
smk_hx                                        53                133
ECMO                                          87                135
prevCPR                                       71                135
Surgery                                       58                136
ICUreadmission                                66                141
Underlying_CV                                 76                141
postICURT                                     88                142
prev_ctx                                      68                142
WBRT                                          84                143
PrevICUadm                                    83                144
postICUCPR                                    75                148
prev_gks                                      81                149
Tracheostomy                                  80                149
dx_after_adm                                  73                152
neurology                                     85                152
PDT                                           74                156
other_malignancy                              72                157
Underlying_stroke                             82                158
number of selected top features: 8
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia" "BUN"        
[6] "PT_percent"  "CRRT"        "bacteremia" 

[Training Random Forests classifier on the training set with only the top  8  features]

[Applying the trained Random Forests classifier on the test set with only the top  8  features]

PR AUC (integral) 	0.4219256
ROC AUC 		0.8571429

Brier score =  0.129  (best value: 0; worst value: 1)

TOTAL:

 FN =  3  /  5 	 (truth == 1) & (prediction < threshold)
 TP =  2  /  5 	 (truth == 1) & (prediction >= threshold)

 FP =  2  /  21 	 (truth == 0) & (prediction >= threshold)
 TN =  19  /  21 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.333 	 0.444 	 	0.808 	 	0.400 	 	0.905		0.500	 	0.864	 	0.422	0.857

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.625518e-02           2
AKI                             1.683523e-02           1
WBC                             1.018958e-02           4
neutropenia                     1.320809e-02           3
PT_percent                      8.064520e-03           6
PLT                             4.444107e-03          10
SOFA_D1                         5.525111e-03           9
CRRT                            7.494971e-03           7
CRP                             2.908007e-03          15
Vasoactiveagent                 8.217058e-03           5
bacteremia                      6.370906e-03           8
BUN                             2.693482e-03          17
APACH_II                        2.701266e-03          16
hospital_LOS                    1.888706e-03          18
timefromdx                      1.336737e-03          21
Death_Cause                     4.213238e-03          11
Cause_Ca_problem                3.000914e-03          14
Albumin                         1.037501e-03          22
Pneumonia                       4.154354e-03          12
SAPS_II                         8.334229e-04          25
thrombocytopenia                3.231796e-03          13
post_dc_days                    1.357848e-03          20
prev_wbrt                       1.707335e-03          19
age                             4.651479e-04          32
post_icu_survival               1.004927e-03          23
MV_days                         6.219743e-04          28
PaO2FiO2                        4.753929e-04          31
ICU_cause_intensivist           9.976673e-04          24
Underlying_DM                   5.010334e-04          29
prev_ccrt                       7.917885e-04          26
histologyNum                    2.452555e-04          39
ICU_LOS                         1.769693e-04          45
pulmocomorbid                   4.972738e-04          30
ICU_mortal30                    6.326248e-04          27
hypoalbuminemia                 3.955413e-04          34
underlying_pulmo                2.326462e-04          41
StageNum                        1.637915e-04          46
HFNC                            2.358688e-04          40
Intensivist                     2.693297e-04          38
HD                              3.608538e-04          36
aPTT                           -3.277216e-05          68
post2011                        3.700598e-04          35
Distatntmets                    7.933180e-05          51
cardiovasc                      4.356446e-04          33
anemia                          2.129295e-04          43
Hospital_death                  2.763405e-04          37
NewlyDx                         1.272536e-04          49
ICUCPR                          1.621903e-04          47
Hb                             -1.340749e-04          80
ICU_Death                       2.192943e-04          42
smk_hx                          5.141020e-05          55
DischargefromICU                5.163502e-05          54
performance_hospital_DC        -5.091202e-05          71
MV                              1.863092e-04          44
PDT                             2.089710e-05          59
preICUDNR                       1.304106e-04          48
procalcitonin                  -1.896755e-04          84
CTxinICU                        5.119082e-05          56
BIPAP                           1.175933e-04          50
Pre_PS                         -3.182345e-04          88
performance_ICU_DC             -1.996418e-04          87
respfailure                     7.680875e-05          52
DNR                            -2.411485e-05          66
prev_rtx                       -1.964635e-04          85
sex                            -1.630172e-05          65
Surgery                        -5.495900e-05          73
prev_ctx                        3.244331e-05          58
Refractory                     -1.443524e-04          82
Underlying_CV                   4.481822e-05          57
DNR_at_ICU                     -1.027255e-04          79
PCC                             5.326654e-05          53
dx_after_adm                   -5.054232e-05          70
neurology                       1.045286e-05          61
prevCPR                        -5.458071e-05          72
RRT                            -2.663226e-05          67
ICUreadmission                 -8.624756e-05          77
ILD                             4.794000e-06          62
ECMO                            1.353020e-05          60
PoorPS                         -1.976755e-04          86
postICUCPR                     -6.241942e-05          75
PrevICUadm                     -4.235075e-06          64
WBRT                           -3.526054e-05          69
postICURT                      -2.352941e-06          63
Tracheostomy                   -6.043028e-05          74
other_malignancy               -8.632705e-05          78
postICUCtx                     -7.143301e-05          76
prev_gks                       -1.631598e-04          83
Underlying_stroke              -1.372479e-04          81
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.473744708            1
AKI                                         AKI      4.548431673            3
WBC                                         WBC      5.356816902            2
neutropenia                         neutropenia      3.620099387            5
PT_percent                           PT_percent      4.025756555            4
PLT                                         PLT      3.221282831            7
SOFA_D1                                 SOFA_D1      2.958951626            9
CRRT                                       CRRT      2.400272976           13
CRP                                         CRP      3.336064989            6
Vasoactiveagent                 Vasoactiveagent      2.080731241           16
bacteremia                           bacteremia      2.016513602           17
BUN                                         BUN      3.202041470            8
APACH_II                               APACH_II      2.529092216           12
hospital_LOS                       hospital_LOS      2.616185171           11
timefromdx                           timefromdx      2.890700923           10
Death_Cause                         Death_Cause      1.746247565           21
Cause_Ca_problem               Cause_Ca_problem      1.789508687           20
Albumin                                 Albumin      2.127229136           15
Pneumonia                             Pneumonia      1.339726464           26
SAPS_II                                 SAPS_II      2.164895280           14
thrombocytopenia               thrombocytopenia      1.182712496           28
post_dc_days                       post_dc_days      1.435258973           24
prev_wbrt                             prev_wbrt      0.880394551           31
age                                         age      1.862822298           19
post_icu_survival             post_icu_survival      1.046488055           29
MV_days                                 MV_days      1.392491674           25
PaO2FiO2                               PaO2FiO2      1.744907435           22
ICU_cause_intensivist     ICU_cause_intensivist      0.696202660           34
Underlying_DM                     Underlying_DM      0.580941950           37
prev_ccrt                             prev_ccrt      0.516161796           41
histologyNum                       histologyNum      0.847114193           32
ICU_LOS                                 ICU_LOS      1.273831552           27
pulmocomorbid                     pulmocomorbid      0.461602096           42
ICU_mortal30                       ICU_mortal30      0.375928305           47
hypoalbuminemia                 hypoalbuminemia      0.413417598           45
underlying_pulmo               underlying_pulmo      0.569327601           38
StageNum                               StageNum      0.637289720           36
HFNC                                       HFNC      0.444632481           43
Intensivist                         Intensivist      0.383214783           46
HD                                           HD      0.353801573           49
aPTT                                       aPTT      2.008983727           18
post2011                               post2011      0.327951330           51
Distatntmets                       Distatntmets      0.417232769           44
cardiovasc                           cardiovasc      0.266864299           66
anemia                                   anemia      0.310740347           57
Hospital_death                   Hospital_death      0.272179159           64
NewlyDx                                 NewlyDx      0.326257142           52
ICUCPR                                   ICUCPR      0.316261775           55
Hb                                           Hb      1.495814995           23
ICU_Death                             ICU_Death      0.273349809           62
smk_hx                                   smk_hx      0.328697816           50
DischargefromICU               DischargefromICU      0.316607226           54
performance_hospital_DC performance_hospital_DC      0.554107254           39
MV                                           MV      0.211943734           68
PDT                                         PDT      0.324655639           53
preICUDNR                             preICUDNR      0.270018460           65
procalcitonin                     procalcitonin      0.930976826           30
CTxinICU                               CTxinICU      0.286795193           60
BIPAP                                     BIPAP      0.244487629           67
Pre_PS                                   Pre_PS      0.754420143           33
performance_ICU_DC           performance_ICU_DC      0.649774186           35
respfailure                         respfailure      0.206262208           70
DNR                                         DNR      0.297146775           58
prev_rtx                               prev_rtx      0.541875942           40
sex                                         sex      0.279858713           61
Surgery                                 Surgery      0.313078325           56
prev_ctx                               prev_ctx      0.188732552           72
Refractory                           Refractory      0.368869559           48
Underlying_CV                     Underlying_CV      0.140796845           76
DNR_at_ICU                           DNR_at_ICU      0.291352599           59
PCC                                         PCC      0.071537693           86
dx_after_adm                       dx_after_adm      0.161923579           73
neurology                             neurology      0.085829079           82
prevCPR                                 prevCPR      0.192305059           71
RRT                                         RRT      0.136991638           77
ICUreadmission                   ICUreadmission      0.211540541           69
ILD                                         ILD      0.079292535           84
ECMO                                       ECMO      0.017299487           87
PoorPS                                   PoorPS      0.272245569           63
postICUCPR                           postICUCPR      0.145871022           74
PrevICUadm                           PrevICUadm      0.076428652           85
WBRT                                       WBRT      0.098618656           80
postICURT                             postICURT      0.008650195           88
Tracheostomy                       Tracheostomy      0.108431684           78
other_malignancy               other_malignancy      0.141337071           75
postICUCtx                           postICUCtx      0.097203559           81
prev_gks                               prev_gks      0.107618383           79
Underlying_stroke             Underlying_stroke      0.081616909           83
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          3        1                            2
AKI                          4        2                            1
WBC                          6        3                            4
neutropenia                  8        4                            3
PT_percent                  10        5                            6
PLT                         17        6                           10
SOFA_D1                     18        7                            9
CRRT                        20        8                            7
CRP                         21        9                           15
Vasoactiveagent             21       10                            5
bacteremia                  25       11                            8
BUN                         25       12                           17
APACH_II                    28       13                           16
hospital_LOS                29       14                           18
timefromdx                  31       15                           21
Death_Cause                 32       16                           11
Cause_Ca_problem            34       17                           14
Albumin                     37       18                           22
Pneumonia                   38       19                           12
SAPS_II                     39       20                           25
thrombocytopenia            41       21                           13
post_dc_days                44       22                           20
prev_wbrt                   50       23                           19
age                         51       24                           32
post_icu_survival           52       25                           23
MV_days                     53       26                           28
PaO2FiO2                    53       27                           31
ICU_cause_intensivist       58       28                           24
Underlying_DM               66       29                           29
prev_ccrt                   67       30                           26
histologyNum                71       31                           39
ICU_LOS                     72       32                           45
pulmocomorbid               72       33                           30
ICU_mortal30                74       34                           27
hypoalbuminemia             79       35                           34
underlying_pulmo            79       36                           41
StageNum                    82       37                           46
HFNC                        83       38                           40
Intensivist                 84       39                           38
HD                          85       40                           36
aPTT                        86       41                           68
post2011                    86       42                           35
Distatntmets                95       43                           51
cardiovasc                  99       44                           33
anemia                     100       45                           43
Hospital_death             101       46                           37
NewlyDx                    101       47                           49
ICUCPR                     102       48                           47
Hb                         103       49                           80
ICU_Death                  104       50                           42
smk_hx                     105       51                           55
DischargefromICU           108       52                           54
performance_hospital_DC    110       53                           71
MV                         112       54                           44
PDT                        112       55                           59
preICUDNR                  113       56                           48
procalcitonin              114       57                           84
CTxinICU                   116       58                           56
BIPAP                      117       59                           50
Pre_PS                     121       60                           88
performance_ICU_DC         122       61                           87
respfailure                122       62                           52
DNR                        124       63                           66
prev_rtx                   125       64                           85
sex                        126       65                           65
Surgery                    129       66                           73
prev_ctx                   130       67                           58
Refractory                 130       68                           82
Underlying_CV              133       69                           57
DNR_at_ICU                 138       70                           79
PCC                        139       71                           53
dx_after_adm               143       72                           70
neurology                  143       73                           61
prevCPR                    143       74                           72
RRT                        144       75                           67
ICUreadmission             146       76                           77
ILD                        146       77                           62
ECMO                       147       78                           60
PoorPS                     149       79                           86
postICUCPR                 149       80                           75
PrevICUadm                 149       81                           64
WBRT                       149       82                           69
postICURT                  151       83                           63
Tracheostomy               152       84                           74
other_malignancy           153       85                           78
postICUCtx                 157       86                           76
prev_gks                   162       87                           83
Underlying_stroke          164       88                           81
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  3
AKI                                            3                  4
WBC                                            2                  6
neutropenia                                    5                  8
PT_percent                                     4                 10
PLT                                            7                 17
SOFA_D1                                        9                 18
CRRT                                          13                 20
CRP                                            6                 21
Vasoactiveagent                               16                 21
bacteremia                                    17                 25
BUN                                            8                 25
APACH_II                                      12                 28
hospital_LOS                                  11                 29
timefromdx                                    10                 31
Death_Cause                                   21                 32
Cause_Ca_problem                              20                 34
Albumin                                       15                 37
Pneumonia                                     26                 38
SAPS_II                                       14                 39
thrombocytopenia                              28                 41
post_dc_days                                  24                 44
prev_wbrt                                     31                 50
age                                           19                 51
post_icu_survival                             29                 52
MV_days                                       25                 53
PaO2FiO2                                      22                 53
ICU_cause_intensivist                         34                 58
Underlying_DM                                 37                 66
prev_ccrt                                     41                 67
histologyNum                                  32                 71
ICU_LOS                                       27                 72
pulmocomorbid                                 42                 72
ICU_mortal30                                  47                 74
hypoalbuminemia                               45                 79
underlying_pulmo                              38                 79
StageNum                                      36                 82
HFNC                                          43                 83
Intensivist                                   46                 84
HD                                            49                 85
aPTT                                          18                 86
post2011                                      51                 86
Distatntmets                                  44                 95
cardiovasc                                    66                 99
anemia                                        57                100
Hospital_death                                64                101
NewlyDx                                       52                101
ICUCPR                                        55                102
Hb                                            23                103
ICU_Death                                     62                104
smk_hx                                        50                105
DischargefromICU                              54                108
performance_hospital_DC                       39                110
MV                                            68                112
PDT                                           53                112
preICUDNR                                     65                113
procalcitonin                                 30                114
CTxinICU                                      60                116
BIPAP                                         67                117
Pre_PS                                        33                121
performance_ICU_DC                            35                122
respfailure                                   70                122
DNR                                           58                124
prev_rtx                                      40                125
sex                                           61                126
Surgery                                       56                129
prev_ctx                                      72                130
Refractory                                    48                130
Underlying_CV                                 76                133
DNR_at_ICU                                    59                138
PCC                                           86                139
dx_after_adm                                  73                143
neurology                                     82                143
prevCPR                                       71                143
RRT                                           77                144
ICUreadmission                                69                146
ILD                                           84                146
ECMO                                          87                147
PoorPS                                        63                149
postICUCPR                                    74                149
PrevICUadm                                    85                149
WBRT                                          80                149
postICURT                                     88                151
Tracheostomy                                  78                152
other_malignancy                              75                153
postICUCtx                                    81                157
prev_gks                                      79                162
Underlying_stroke                             83                164
number of selected top features: 8
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia" "PT_percent" 
[6] "PLT"         "SOFA_D1"     "CRRT"       

[Training Random Forests classifier on the training set with only the top  8  features]

[Applying the trained Random Forests classifier on the test set with only the top  8  features]

PR AUC (integral) 	0.6535252
ROC AUC 		0.752381

Brier score =  0.153  (best value: 0; worst value: 1)

TOTAL:

 FN =  1  /  5 	 (truth == 1) & (prediction < threshold)
 TP =  4  /  5 	 (truth == 1) & (prediction >= threshold)

 FP =  5  /  21 	 (truth == 0) & (prediction >= threshold)
 TN =  16  /  21 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.465 	 0.571 	 	0.769 	 	0.800 	 	0.762		0.444	 	0.941	 	0.654	0.752

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.703695e-02           1
AKI                             1.378198e-02           2
WBC                             1.091292e-02           3
PT_percent                      7.137154e-03           6
neutropenia                     1.005133e-02           4
PLT                             6.525989e-03           9
SOFA_D1                         7.014691e-03           7
BUN                             4.610452e-03          12
Vasoactiveagent                 8.348921e-03           5
APACH_II                        4.495864e-03          13
bacteremia                      6.534975e-03           8
CRP                             3.295629e-03          15
CRRT                            5.074423e-03          11
thrombocytopenia                5.261076e-03          10
Albumin                         1.862741e-03          18
timefromdx                      1.261637e-03          21
hospital_LOS                    1.230555e-03          22
SAPS_II                         1.530410e-03          19
Cause_Ca_problem                2.227301e-03          17
Death_Cause                     2.701429e-03          16
Pneumonia                       3.661635e-03          14
post_dc_days                    1.462513e-03          20
age                             8.452975e-04          26
MV_days                         7.995482e-04          27
prev_wbrt                       1.194519e-03          24
prev_ccrt                       1.209740e-03          23
post_icu_survival               3.590209e-04          33
ICU_mortal30                    1.176757e-03          25
HFNC                            7.419385e-04          28
ICU_cause_intensivist           6.805041e-04          29
underlying_pulmo                4.098378e-04          32
StageNum                        3.246601e-04          36
Underlying_DM                   3.264118e-04          35
ICUCPR                          4.919576e-04          30
PaO2FiO2                        2.152010e-05          56
pulmocomorbid                   3.067538e-04          38
hypoalbuminemia                 2.985287e-04          40
HD                              3.506766e-04          34
performance_hospital_DC         1.575867e-04          46
procalcitonin                   1.402028e-05          58
Refractory                      2.850893e-04          41
NewlyDx                         2.622176e-04          43
ICU_Death                       4.497183e-04          31
CTxinICU                        1.667414e-04          45
anemia                          3.202581e-04          37
DischargefromICU                2.637186e-04          42
Hb                             -6.013566e-05          71
post2011                        1.038367e-04          50
Intensivist                     5.798643e-05          53
aPTT                           -1.871891e-04          88
cardiovasc                      3.043125e-04          39
ICU_LOS                        -1.047200e-04          78
preICUDNR                       1.529499e-04          47
sex                             5.817238e-05          52
respfailure                     1.435166e-04          48
postICUCtx                      1.929694e-04          44
histologyNum                   -1.383561e-04          85
Distatntmets                   -9.462022e-07          64
performance_ICU_DC             -1.371710e-04          84
Pre_PS                         -1.749056e-04          87
prev_rtx                       -9.331715e-05          75
MV                              2.035715e-05          57
RRT                             3.341277e-05          55
Tracheostomy                    4.698487e-05          54
ILD                             1.144723e-04          49
postICUCPR                      0.000000e+00          63
Hospital_death                  6.101246e-06          61
smk_hx                         -9.962854e-05          76
Surgery                        -3.591302e-05          69
PCC                             9.332883e-05          51
DNR_at_ICU                     -1.081234e-04          81
prevCPR                        -1.128834e-05          65
DNR                            -1.061982e-04          79
prev_ctx                       -6.275567e-05          72
PoorPS                         -1.063708e-04          80
Underlying_CV                  -1.662205e-05          66
ECMO                            9.100825e-06          59
WBRT                           -2.206341e-05          67
ICUreadmission                  6.679515e-06          60
dx_after_adm                   -9.290611e-05          74
PDT                            -8.764876e-05          73
postICURT                       3.169116e-07          62
neurology                      -3.020656e-05          68
PrevICUadm                     -5.930453e-05          70
other_malignancy               -9.989763e-05          77
BIPAP                          -1.585168e-04          86
prev_gks                       -1.242785e-04          83
Underlying_stroke              -1.188561e-04          82
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.475186896            1
AKI                                         AKI      4.019358179            3
WBC                                         WBC      5.189670526            2
PT_percent                           PT_percent      3.949192215            4
neutropenia                         neutropenia      3.295306998            7
PLT                                         PLT      3.744454692            5
SOFA_D1                                 SOFA_D1      2.820954128            9
BUN                                         BUN      3.539680660            6
Vasoactiveagent                 Vasoactiveagent      1.986587537           16
APACH_II                               APACH_II      2.765647556           10
bacteremia                           bacteremia      1.989551603           15
CRP                                         CRP      3.108513627            8
CRRT                                       CRRT      2.141247068           13
thrombocytopenia               thrombocytopenia      1.656360877           19
Albumin                                 Albumin      2.130866059           14
timefromdx                           timefromdx      2.709490029           11
hospital_LOS                       hospital_LOS      2.352306900           12
SAPS_II                                 SAPS_II      1.849265191           18
Cause_Ca_problem               Cause_Ca_problem      1.505262736           22
Death_Cause                         Death_Cause      1.324496543           26
Pneumonia                             Pneumonia      1.163877973           28
post_dc_days                       post_dc_days      1.436401142           23
age                                         age      1.615139403           20
MV_days                                 MV_days      1.338336214           25
prev_wbrt                             prev_wbrt      0.827104718           31
prev_ccrt                             prev_ccrt      0.638499829           35
post_icu_survival             post_icu_survival      0.936420797           30
ICU_mortal30                       ICU_mortal30      0.488577403           42
HFNC                                       HFNC      0.547110613           40
ICU_cause_intensivist     ICU_cause_intensivist      0.559762200           39
underlying_pulmo               underlying_pulmo      0.576434435           37
StageNum                               StageNum      0.644180799           34
Underlying_DM                     Underlying_DM      0.560491732           38
ICUCPR                                   ICUCPR      0.395233646           46
PaO2FiO2                               PaO2FiO2      1.522896055           21
pulmocomorbid                     pulmocomorbid      0.408592103           44
hypoalbuminemia                 hypoalbuminemia      0.447326505           43
HD                                           HD      0.326745910           50
performance_hospital_DC performance_hospital_DC      0.529072209           41
procalcitonin                     procalcitonin      0.952900630           29
Refractory                           Refractory      0.363115646           48
NewlyDx                                 NewlyDx      0.363795944           47
ICU_Death                             ICU_Death      0.286774852           60
CTxinICU                               CTxinICU      0.339506463           49
anemia                                   anemia      0.293899431           58
DischargefromICU               DischargefromICU      0.324059713           53
Hb                                           Hb      1.353995550           24
post2011                               post2011      0.326273484           52
Intensivist                         Intensivist      0.326624481           51
aPTT                                       aPTT      1.927559172           17
cardiovasc                           cardiovasc      0.218177632           66
ICU_LOS                                 ICU_LOS      1.172043424           27
preICUDNR                             preICUDNR      0.289943483           59
sex                                         sex      0.299706012           57
respfailure                         respfailure      0.218966601           65
postICUCtx                           postICUCtx      0.166922139           70
histologyNum                       histologyNum      0.739406455           32
Distatntmets                       Distatntmets      0.314432237           55
performance_ICU_DC           performance_ICU_DC      0.582027479           36
Pre_PS                                   Pre_PS      0.659366214           33
prev_rtx                               prev_rtx      0.407571048           45
MV                                           MV      0.202146845           68
RRT                                         RRT      0.153227273           71
Tracheostomy                       Tracheostomy      0.144464831           72
ILD                                         ILD      0.112789033           78
postICUCPR                           postICUCPR      0.228491566           64
Hospital_death                   Hospital_death      0.213437075           67
smk_hx                                   smk_hx      0.319012905           54
Surgery                                 Surgery      0.257918455           62
PCC                                         PCC      0.093382253           82
DNR_at_ICU                           DNR_at_ICU      0.306758004           56
prevCPR                                 prevCPR      0.142364424           73
DNR                                         DNR      0.265778063           61
prev_ctx                               prev_ctx      0.181602648           69
PoorPS                                   PoorPS      0.255532008           63
Underlying_CV                     Underlying_CV      0.116230992           77
ECMO                                       ECMO      0.030874084           86
WBRT                                       WBRT      0.107689676           79
ICUreadmission                   ICUreadmission      0.014420868           87
dx_after_adm                       dx_after_adm      0.126907109           75
PDT                                         PDT      0.124019618           76
postICURT                             postICURT      0.008200378           88
neurology                             neurology      0.082615023           84
PrevICUadm                           PrevICUadm      0.085766415           83
other_malignancy               other_malignancy      0.096476800           80
BIPAP                                     BIPAP      0.133958692           74
prev_gks                               prev_gks      0.095828641           81
Underlying_stroke             Underlying_stroke      0.076837827           85
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
AKI                          5        2                            2
WBC                          5        3                            3
PT_percent                  10        4                            6
neutropenia                 11        5                            4
PLT                         14        6                            9
SOFA_D1                     16        7                            7
BUN                         18        8                           12
Vasoactiveagent             21        9                            5
APACH_II                    23       10                           13
bacteremia                  23       11                            8
CRP                         23       12                           15
CRRT                        24       13                           11
thrombocytopenia            29       14                           10
Albumin                     32       15                           18
timefromdx                  32       16                           21
hospital_LOS                34       17                           22
SAPS_II                     37       18                           19
Cause_Ca_problem            39       19                           17
Death_Cause                 42       20                           16
Pneumonia                   42       21                           14
post_dc_days                43       22                           20
age                         46       23                           26
MV_days                     52       24                           27
prev_wbrt                   55       25                           24
prev_ccrt                   58       26                           23
post_icu_survival           63       27                           33
ICU_mortal30                67       28                           25
HFNC                        68       29                           28
ICU_cause_intensivist       68       30                           29
underlying_pulmo            69       31                           32
StageNum                    70       32                           36
Underlying_DM               73       33                           35
ICUCPR                      76       34                           30
PaO2FiO2                    77       35                           56
pulmocomorbid               82       36                           38
hypoalbuminemia             83       37                           40
HD                          84       38                           34
performance_hospital_DC     87       39                           46
procalcitonin               87       40                           58
Refractory                  89       41                           41
NewlyDx                     90       42                           43
ICU_Death                   91       43                           31
CTxinICU                    94       44                           45
anemia                      95       45                           37
DischargefromICU            95       46                           42
Hb                          95       47                           71
post2011                   102       48                           50
Intensivist                104       49                           53
aPTT                       105       50                           88
cardiovasc                 105       51                           39
ICU_LOS                    105       52                           78
preICUDNR                  106       53                           47
sex                        109       54                           52
respfailure                113       55                           48
postICUCtx                 114       56                           44
histologyNum               117       57                           85
Distatntmets               119       58                           64
performance_ICU_DC         120       59                           84
Pre_PS                     120       60                           87
prev_rtx                   120       61                           75
MV                         125       62                           57
RRT                        126       63                           55
Tracheostomy               126       64                           54
ILD                        127       65                           49
postICUCPR                 127       66                           63
Hospital_death             128       67                           61
smk_hx                     130       68                           76
Surgery                    131       69                           69
PCC                        133       70                           51
DNR_at_ICU                 137       71                           81
prevCPR                    138       72                           65
DNR                        140       73                           79
prev_ctx                   141       74                           72
PoorPS                     143       75                           80
Underlying_CV              143       76                           66
ECMO                       145       77                           59
WBRT                       146       78                           67
ICUreadmission             147       79                           60
dx_after_adm               149       80                           74
PDT                        149       81                           73
postICURT                  150       82                           62
neurology                  152       83                           68
PrevICUadm                 153       84                           70
other_malignancy           157       85                           77
BIPAP                      160       86                           86
prev_gks                   164       87                           83
Underlying_stroke          167       88                           82
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
AKI                                            3                  5
WBC                                            2                  5
PT_percent                                     4                 10
neutropenia                                    7                 11
PLT                                            5                 14
SOFA_D1                                        9                 16
BUN                                            6                 18
Vasoactiveagent                               16                 21
APACH_II                                      10                 23
bacteremia                                    15                 23
CRP                                            8                 23
CRRT                                          13                 24
thrombocytopenia                              19                 29
Albumin                                       14                 32
timefromdx                                    11                 32
hospital_LOS                                  12                 34
SAPS_II                                       18                 37
Cause_Ca_problem                              22                 39
Death_Cause                                   26                 42
Pneumonia                                     28                 42
post_dc_days                                  23                 43
age                                           20                 46
MV_days                                       25                 52
prev_wbrt                                     31                 55
prev_ccrt                                     35                 58
post_icu_survival                             30                 63
ICU_mortal30                                  42                 67
HFNC                                          40                 68
ICU_cause_intensivist                         39                 68
underlying_pulmo                              37                 69
StageNum                                      34                 70
Underlying_DM                                 38                 73
ICUCPR                                        46                 76
PaO2FiO2                                      21                 77
pulmocomorbid                                 44                 82
hypoalbuminemia                               43                 83
HD                                            50                 84
performance_hospital_DC                       41                 87
procalcitonin                                 29                 87
Refractory                                    48                 89
NewlyDx                                       47                 90
ICU_Death                                     60                 91
CTxinICU                                      49                 94
anemia                                        58                 95
DischargefromICU                              53                 95
Hb                                            24                 95
post2011                                      52                102
Intensivist                                   51                104
aPTT                                          17                105
cardiovasc                                    66                105
ICU_LOS                                       27                105
preICUDNR                                     59                106
sex                                           57                109
respfailure                                   65                113
postICUCtx                                    70                114
histologyNum                                  32                117
Distatntmets                                  55                119
performance_ICU_DC                            36                120
Pre_PS                                        33                120
prev_rtx                                      45                120
MV                                            68                125
RRT                                           71                126
Tracheostomy                                  72                126
ILD                                           78                127
postICUCPR                                    64                127
Hospital_death                                67                128
smk_hx                                        54                130
Surgery                                       62                131
PCC                                           82                133
DNR_at_ICU                                    56                137
prevCPR                                       73                138
DNR                                           61                140
prev_ctx                                      69                141
PoorPS                                        63                143
Underlying_CV                                 77                143
ECMO                                          86                145
WBRT                                          79                146
ICUreadmission                                87                147
dx_after_adm                                  75                149
PDT                                           76                149
postICURT                                     88                150
neurology                                     84                152
PrevICUadm                                    83                153
other_malignancy                              80                157
BIPAP                                         74                160
prev_gks                                      81                164
Underlying_stroke                             85                167
number of selected top features: 8
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "PT_percent"  "neutropenia"
[6] "PLT"         "SOFA_D1"     "BUN"        

[Training Random Forests classifier on the training set with only the top  8  features]

[Applying the trained Random Forests classifier on the test set with only the top  8  features]

PR AUC (integral) 	0.65623
ROC AUC 		0.7320261

Brier score =  0.216  (best value: 0; worst value: 1)

TOTAL:

 FN =  5  /  9 	 (truth == 1) & (prediction < threshold)
 TP =  4  /  9 	 (truth == 1) & (prediction >= threshold)

 FP =  3  /  17 	 (truth == 0) & (prediction >= threshold)
 TN =  14  /  17 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.287 	 0.500 	 	0.692 	 	0.444 	 	0.824		0.571	 	0.737	 	0.656	0.732

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.517755e-02           2
AKI                             1.540905e-02           1
WBC                             8.622336e-03           5
PT_percent                      6.976680e-03           7
bacteremia                      8.652267e-03           4
BUN                             4.596105e-03           9
neutropenia                     7.397943e-03           6
SOFA_D1                         5.677832e-03           8
Vasoactiveagent                 8.802867e-03           3
APACH_II                        3.883271e-03          13
CRP                             3.469306e-03          15
PLT                             3.498626e-03          14
CRRT                            4.431065e-03          10
Death_Cause                     4.115106e-03          12
hospital_LOS                    1.663146e-03          21
Albumin                         1.586189e-03          22
Pneumonia                       4.170229e-03          11
Cause_Ca_problem                2.467631e-03          16
SAPS_II                         1.580649e-03          23
post_dc_days                    1.672694e-03          20
timefromdx                      4.724374e-04          31
age                             8.477802e-04          27
ICU_cause_intensivist           2.136686e-03          17
prev_wbrt                       1.856684e-03          19
thrombocytopenia                1.885792e-03          18
post_icu_survival               1.256867e-03          24
MV_days                         5.682536e-04          29
PaO2FiO2                        2.874923e-04          40
prev_ccrt                       1.112662e-03          25
histologyNum                    3.981013e-04          34
underlying_pulmo                5.324544e-04          30
HFNC                            7.341385e-04          28
ICU_mortal30                    1.046787e-03          26
ICU_LOS                         1.823719e-04          45
NewlyDx                         4.723355e-04          32
Pre_PS                          1.834484e-04          44
pulmocomorbid                   4.174560e-04          33
aPTT                            1.836144e-05          64
Underlying_DM                   2.587729e-04          42
DischargefromICU                3.313298e-04          38
Intensivist                     2.589981e-04          41
ICUCPR                          3.056510e-04          39
post2011                        3.640005e-04          37
ICU_Death                       3.940032e-04          35
performance_hospital_DC         7.590741e-05          55
HD                              2.138872e-04          43
hypoalbuminemia                 1.700864e-04          48
StageNum                        3.791827e-05          60
cardiovasc                      3.856240e-04          36
Hb                             -6.040730e-05          77
Refractory                      8.271053e-05          53
anemia                          1.767752e-04          47
Hospital_death                  1.820563e-04          46
procalcitonin                  -1.079423e-04          82
CTxinICU                        7.818135e-05          54
Distatntmets                   -1.853054e-07          69
sex                             4.369076e-05          59
MV                              1.050723e-04          50
prevCPR                         8.477630e-05          52
ILD                             1.268868e-04          49
performance_ICU_DC             -4.252826e-04          88
PoorPS                         -1.315145e-06          70
prev_ctx                        5.094553e-05          58
Surgery                         1.304016e-05          65
prev_rtx                       -2.184063e-04          87
RRT                             6.994621e-05          56
postICUCtx                      9.695052e-05          51
preICUDNR                       0.000000e+00          68
respfailure                     1.215082e-05          66
DNR_at_ICU                     -5.760283e-05          76
DNR                            -1.354699e-04          85
smk_hx                         -1.321070e-04          84
WBRT                            2.794778e-05          63
PCC                             6.554737e-05          57
ICUreadmission                 -5.357307e-05          74
dx_after_adm                   -5.291578e-05          73
neurology                       2.936028e-05          62
ECMO                            3.082309e-05          61
Underlying_CV                  -4.566057e-05          72
postICUCPR                     -7.450807e-05          78
PrevICUadm                     -7.138602e-06          71
postICURT                       0.000000e+00          67
Tracheostomy                   -5.646937e-05          75
other_malignancy               -1.010014e-04          80
PDT                            -1.560630e-04          86
BIPAP                          -1.117290e-04          83
prev_gks                       -1.046895e-04          81
Underlying_stroke              -9.217645e-05          79
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.444376096            1
AKI                                         AKI      4.025241440            3
WBC                                         WBC      4.889890180            2
PT_percent                           PT_percent      3.805682984            4
bacteremia                           bacteremia      2.698337360            9
BUN                                         BUN      3.531039683            5
neutropenia                         neutropenia      2.696053833           10
SOFA_D1                                 SOFA_D1      2.616994281           11
Vasoactiveagent                 Vasoactiveagent      1.957939973           17
APACH_II                               APACH_II      2.700022626            8
CRP                                         CRP      3.378463726            6
PLT                                         PLT      3.066820801            7
CRRT                                       CRRT      1.701862503           19
Death_Cause                         Death_Cause      1.613499218           21
hospital_LOS                       hospital_LOS      2.533364824           13
Albumin                                 Albumin      2.343921257           14
Pneumonia                             Pneumonia      1.266004701           26
Cause_Ca_problem               Cause_Ca_problem      1.592088906           22
SAPS_II                                 SAPS_II      2.054338891           15
post_dc_days                       post_dc_days      1.562147842           23
timefromdx                           timefromdx      2.558175233           12
age                                         age      1.732122744           18
ICU_cause_intensivist     ICU_cause_intensivist      0.874837933           30
prev_wbrt                             prev_wbrt      0.844321618           32
thrombocytopenia               thrombocytopenia      0.783762269           33
post_icu_survival             post_icu_survival      1.029195723           28
MV_days                                 MV_days      1.363804223           25
PaO2FiO2                               PaO2FiO2      1.679806822           20
prev_ccrt                             prev_ccrt      0.656709745           35
histologyNum                       histologyNum      0.872055892           31
underlying_pulmo               underlying_pulmo      0.598530002           37
HFNC                                       HFNC      0.515632991           40
ICU_mortal30                       ICU_mortal30      0.449578895           43
ICU_LOS                                 ICU_LOS      1.218314358           27
NewlyDx                                 NewlyDx      0.434291915           45
Pre_PS                                   Pre_PS      0.705667652           34
pulmocomorbid                     pulmocomorbid      0.432526512           46
aPTT                                       aPTT      1.976093795           16
Underlying_DM                     Underlying_DM      0.492916061           42
DischargefromICU               DischargefromICU      0.347155504           50
Intensivist                         Intensivist      0.373381701           47
ICUCPR                                   ICUCPR      0.340602283           51
post2011                               post2011      0.333408983           53
ICU_Death                             ICU_Death      0.287479089           59
performance_hospital_DC performance_hospital_DC      0.526869809           39
HD                                           HD      0.318808517           54
hypoalbuminemia                 hypoalbuminemia      0.364601011           49
StageNum                               StageNum      0.582760246           38
cardiovasc                           cardiovasc      0.227859846           65
Hb                                           Hb      1.422599573           24
Refractory                           Refractory      0.364678384           48
anemia                                   anemia      0.279070247           62
Hospital_death                   Hospital_death      0.262206735           63
procalcitonin                     procalcitonin      0.936769616           29
CTxinICU                               CTxinICU      0.288188247           58
Distatntmets                       Distatntmets      0.442634015           44
sex                                         sex      0.299381681           57
MV                                           MV      0.191106907           68
prevCPR                                 prevCPR      0.221551088           66
ILD                                         ILD      0.124597686           75
performance_ICU_DC           performance_ICU_DC      0.634204927           36
PoorPS                                   PoorPS      0.311312758           55
prev_ctx                               prev_ctx      0.217950795           67
Surgery                                 Surgery      0.285070737           61
prev_rtx                               prev_rtx      0.495489315           41
RRT                                         RRT      0.126420845           74
postICUCtx                           postICUCtx      0.110586665           80
preICUDNR                             preICUDNR      0.252016284           64
respfailure                         respfailure      0.165551660           69
DNR_at_ICU                           DNR_at_ICU      0.285267073           60
DNR                                         DNR      0.335954261           52
smk_hx                                   smk_hx      0.305842853           56
WBRT                                       WBRT      0.115957236           77
PCC                                         PCC      0.065295096           86
ICUreadmission                   ICUreadmission      0.153080597           70
dx_after_adm                       dx_after_adm      0.129372645           73
neurology                             neurology      0.066408563           85
ECMO                                       ECMO      0.044889719           87
Underlying_CV                     Underlying_CV      0.122929971           76
postICUCPR                           postICUCPR      0.152545516           71
PrevICUadm                           PrevICUadm      0.080225897           84
postICURT                             postICURT      0.001892808           88
Tracheostomy                       Tracheostomy      0.094107580           82
other_malignancy               other_malignancy      0.114400979           78
PDT                                         PDT      0.142415624           72
BIPAP                                     BIPAP      0.111408051           79
prev_gks                               prev_gks      0.097611698           81
Underlying_stroke             Underlying_stroke      0.091933419           83
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          3        1                            2
AKI                          4        2                            1
WBC                          7        3                            5
PT_percent                  11        4                            7
bacteremia                  13        5                            4
BUN                         14        6                            9
neutropenia                 16        7                            6
SOFA_D1                     19        8                            8
Vasoactiveagent             20        9                            3
APACH_II                    21       10                           13
CRP                         21       11                           15
PLT                         21       12                           14
CRRT                        29       13                           10
Death_Cause                 33       14                           12
hospital_LOS                34       15                           21
Albumin                     36       16                           22
Pneumonia                   37       17                           11
Cause_Ca_problem            38       18                           16
SAPS_II                     38       19                           23
post_dc_days                43       20                           20
timefromdx                  43       21                           31
age                         45       22                           27
ICU_cause_intensivist       47       23                           17
prev_wbrt                   51       24                           19
thrombocytopenia            51       25                           18
post_icu_survival           52       26                           24
MV_days                     54       27                           29
PaO2FiO2                    60       28                           40
prev_ccrt                   60       29                           25
histologyNum                65       30                           34
underlying_pulmo            67       31                           30
HFNC                        68       32                           28
ICU_mortal30                69       33                           26
ICU_LOS                     72       34                           45
NewlyDx                     77       35                           32
Pre_PS                      78       36                           44
pulmocomorbid               79       37                           33
aPTT                        80       38                           64
Underlying_DM               84       39                           42
DischargefromICU            88       40                           38
Intensivist                 88       41                           41
ICUCPR                      90       42                           39
post2011                    90       43                           37
ICU_Death                   94       44                           35
performance_hospital_DC     94       45                           55
HD                          97       46                           43
hypoalbuminemia             97       47                           48
StageNum                    98       48                           60
cardiovasc                 101       49                           36
Hb                         101       50                           77
Refractory                 101       51                           53
anemia                     109       52                           47
Hospital_death             109       53                           46
procalcitonin              111       54                           82
CTxinICU                   112       55                           54
Distatntmets               113       56                           69
sex                        116       57                           59
MV                         118       58                           50
prevCPR                    118       59                           52
ILD                        124       60                           49
performance_ICU_DC         124       61                           88
PoorPS                     125       62                           70
prev_ctx                   125       63                           58
Surgery                    126       64                           65
prev_rtx                   128       65                           87
RRT                        130       66                           56
postICUCtx                 131       67                           51
preICUDNR                  132       68                           67
respfailure                135       69                           66
DNR_at_ICU                 136       70                           76
DNR                        137       71                           85
smk_hx                     140       72                           84
WBRT                       140       73                           63
PCC                        143       74                           57
ICUreadmission             144       75                           74
dx_after_adm               146       76                           73
neurology                  147       77                           62
ECMO                       148       78                           61
Underlying_CV              148       79                           72
postICUCPR                 149       80                           78
PrevICUadm                 155       82                           71
postICURT                  155       81                           68
Tracheostomy               157       83                           75
other_malignancy           158       84                           80
PDT                        158       85                           86
BIPAP                      162       86                           83
prev_gks                   162       87                           81
Underlying_stroke          162       88                           79
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  3
AKI                                            3                  4
WBC                                            2                  7
PT_percent                                     4                 11
bacteremia                                     9                 13
BUN                                            5                 14
neutropenia                                   10                 16
SOFA_D1                                       11                 19
Vasoactiveagent                               17                 20
APACH_II                                       8                 21
CRP                                            6                 21
PLT                                            7                 21
CRRT                                          19                 29
Death_Cause                                   21                 33
hospital_LOS                                  13                 34
Albumin                                       14                 36
Pneumonia                                     26                 37
Cause_Ca_problem                              22                 38
SAPS_II                                       15                 38
post_dc_days                                  23                 43
timefromdx                                    12                 43
age                                           18                 45
ICU_cause_intensivist                         30                 47
prev_wbrt                                     32                 51
thrombocytopenia                              33                 51
post_icu_survival                             28                 52
MV_days                                       25                 54
PaO2FiO2                                      20                 60
prev_ccrt                                     35                 60
histologyNum                                  31                 65
underlying_pulmo                              37                 67
HFNC                                          40                 68
ICU_mortal30                                  43                 69
ICU_LOS                                       27                 72
NewlyDx                                       45                 77
Pre_PS                                        34                 78
pulmocomorbid                                 46                 79
aPTT                                          16                 80
Underlying_DM                                 42                 84
DischargefromICU                              50                 88
Intensivist                                   47                 88
ICUCPR                                        51                 90
post2011                                      53                 90
ICU_Death                                     59                 94
performance_hospital_DC                       39                 94
HD                                            54                 97
hypoalbuminemia                               49                 97
StageNum                                      38                 98
cardiovasc                                    65                101
Hb                                            24                101
Refractory                                    48                101
anemia                                        62                109
Hospital_death                                63                109
procalcitonin                                 29                111
CTxinICU                                      58                112
Distatntmets                                  44                113
sex                                           57                116
MV                                            68                118
prevCPR                                       66                118
ILD                                           75                124
performance_ICU_DC                            36                124
PoorPS                                        55                125
prev_ctx                                      67                125
Surgery                                       61                126
prev_rtx                                      41                128
RRT                                           74                130
postICUCtx                                    80                131
preICUDNR                                     64                131
respfailure                                   69                135
DNR_at_ICU                                    60                136
DNR                                           52                137
smk_hx                                        56                140
WBRT                                          77                140
PCC                                           86                143
ICUreadmission                                70                144
dx_after_adm                                  73                146
neurology                                     85                147
ECMO                                          87                148
Underlying_CV                                 76                148
postICUCPR                                    71                149
PrevICUadm                                    84                155
postICURT                                     88                156
Tracheostomy                                  82                157
other_malignancy                              78                158
PDT                                           72                158
BIPAP                                         79                162
prev_gks                                      81                162
Underlying_stroke                             83                162
number of selected top features: 8
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "PT_percent"  "bacteremia" 
[6] "BUN"         "neutropenia" "SOFA_D1"    

[Training Random Forests classifier on the training set with only the top  8  features]

[Applying the trained Random Forests classifier on the test set with only the top  8  features]

PR AUC (integral) 	0.7130289
ROC AUC 		0.7973856

Brier score =  0.167  (best value: 0; worst value: 1)

TOTAL:

 FN =  4  /  9 	 (truth == 1) & (prediction < threshold)
 TP =  5  /  9 	 (truth == 1) & (prediction >= threshold)

 FP =  3  /  17 	 (truth == 0) & (prediction >= threshold)
 TN =  14  /  17 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.391 	 0.588 	 	0.731 	 	0.556 	 	0.824		0.625	 	0.778	 	0.713	0.797

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.868098e-02           2
neutropenia                     2.005479e-02           1
WBC                             1.234910e-02           4
AKI                             1.360868e-02           3
BUN                             6.910452e-03           7
PT_percent                      6.243442e-03           8
bacteremia                      7.610415e-03           6
Vasoactiveagent                 9.555938e-03           5
PLT                             4.422962e-03          12
CRP                             3.770343e-03          14
SOFA_D1                         4.531920e-03          11
Death_Cause                     5.820836e-03           9
APACH_II                        2.964591e-03          17
CRRT                            4.129300e-03          13
hospital_LOS                    1.520473e-03          21
timefromdx                      1.288298e-03          23
Cause_Ca_problem                3.505219e-03          15
Pneumonia                       5.440127e-03          10
Albumin                         1.686684e-03          19
SAPS_II                         1.134949e-03          24
thrombocytopenia                3.018850e-03          16
MV_days                         1.354480e-03          22
post_dc_days                    1.620772e-03          20
prev_wbrt                       2.434669e-03          18
aPTT                            3.696576e-04          36
PaO2FiO2                        4.173779e-04          33
post_icu_survival               6.575190e-04          27
age                             3.245344e-04          37
ICU_cause_intensivist           9.941516e-04          25
histologyNum                    4.381806e-04          31
StageNum                        4.954663e-04          29
ICU_mortal30                    8.817352e-04          26
prev_ccrt                       6.441100e-04          28
underlying_pulmo                4.155485e-04          34
ICU_LOS                         2.306081e-04          45
HFNC                            3.898166e-04          35
Underlying_DM                   3.096942e-04          38
NewlyDx                         3.024761e-04          39
pulmocomorbid                   2.712392e-04          43
anemia                          2.907657e-04          40
performance_hospital_DC         9.853325e-05          56
Hospital_death                  4.282981e-04          32
MV                              4.644012e-04          30
procalcitonin                   5.218539e-06          68
hypoalbuminemia                 1.923864e-04          47
Surgery                         1.502427e-04          50
Intensivist                     1.179251e-04          53
post2011                        2.581743e-04          44
ICU_Death                       2.757211e-04          42
smk_hx                          7.195320e-05          58
HD                              2.152810e-04          46
ICUCPR                          1.526079e-04          49
Refractory                      1.163843e-04          54
DischargefromICU                1.366679e-04          52
cardiovasc                      2.812559e-04          41
CTxinICU                        1.033560e-04          55
Hb                             -4.442165e-04          88
DNR                             4.812361e-05          62
prevCPR                         1.404925e-04          51
respfailure                     1.724336e-04          48
performance_ICU_DC             -8.330649e-05          81
Pre_PS                         -2.759797e-04          86
prev_rtx                       -3.216711e-04          87
prev_ctx                        7.291695e-05          57
Distatntmets                   -2.312956e-04          85
PDT                             2.785861e-05          65
PoorPS                         -4.763550e-05          77
ICUreadmission                 -1.638016e-05          72
sex                            -4.187853e-05          75
DNR_at_ICU                     -7.453432e-05          79
ILD                             6.731827e-05          59
RRT                             2.508498e-05          66
postICUCtx                      5.308296e-05          61
Tracheostomy                    2.812397e-05          64
Underlying_CV                   7.006240e-06          67
PCC                             5.736902e-05          60
dx_after_adm                   -4.163731e-06          71
BIPAP                          -1.004370e-04          82
ECMO                            3.426561e-05          63
postICUCPR                     -7.281823e-05          78
other_malignancy               -1.459562e-04          83
preICUDNR                       0.000000e+00          69
Underlying_stroke              -1.771879e-05          73
neurology                      -3.426528e-05          74
postICURT                      -2.222222e-06          70
PrevICUadm                     -4.253574e-05          76
WBRT                           -7.471862e-05          80
prev_gks                       -1.566717e-04          84
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC       6.92737468            1
neutropenia                         neutropenia       4.91878911            3
WBC                                         WBC       5.61665810            2
AKI                                         AKI       3.88456359            4
BUN                                         BUN       3.71297771            5
PT_percent                           PT_percent       3.64652162            6
bacteremia                           bacteremia       2.34285389           13
Vasoactiveagent                 Vasoactiveagent       2.27077562           14
PLT                                         PLT       2.98225449            8
CRP                                         CRP       3.34269030            7
SOFA_D1                                 SOFA_D1       2.60351596           10
Death_Cause                         Death_Cause       1.92353596           17
APACH_II                               APACH_II       2.38527061           12
CRRT                                       CRRT       1.95459408           16
hospital_LOS                       hospital_LOS       2.49651297           11
timefromdx                           timefromdx       2.81253911            9
Cause_Ca_problem               Cause_Ca_problem       1.85345192           20
Pneumonia                             Pneumonia       1.47383904           25
Albumin                                 Albumin       1.87579304           19
SAPS_II                                 SAPS_II       1.96146330           15
thrombocytopenia               thrombocytopenia       1.03902908           28
MV_days                                 MV_days       1.53562849           24
post_dc_days                       post_dc_days       1.35499750           26
prev_wbrt                             prev_wbrt       1.02655736           30
aPTT                                       aPTT       1.90153944           18
PaO2FiO2                               PaO2FiO2       1.65482638           22
post_icu_survival             post_icu_survival       1.02916726           29
age                                         age       1.70352322           21
ICU_cause_intensivist     ICU_cause_intensivist       0.65229337           34
histologyNum                       histologyNum       0.87537345           32
StageNum                               StageNum       0.62634349           35
ICU_mortal30                       ICU_mortal30       0.43262770           42
prev_ccrt                             prev_ccrt       0.49351044           40
underlying_pulmo               underlying_pulmo       0.58300492           37
ICU_LOS                                 ICU_LOS       1.30420904           27
HFNC                                       HFNC       0.41968091           44
Underlying_DM                     Underlying_DM       0.43311502           41
NewlyDx                                 NewlyDx       0.35774190           47
pulmocomorbid                     pulmocomorbid       0.42729215           43
anemia                                   anemia       0.31783048           49
performance_hospital_DC performance_hospital_DC       0.58797873           36
Hospital_death                   Hospital_death       0.23992448           62
MV                                           MV       0.19523605           68
procalcitonin                     procalcitonin       0.93341803           31
hypoalbuminemia                 hypoalbuminemia       0.30029557           53
Surgery                                 Surgery       0.30961950           50
Intensivist                         Intensivist       0.32395275           48
post2011                               post2011       0.28773263           57
ICU_Death                             ICU_Death       0.26958339           60
smk_hx                                   smk_hx       0.36877508           45
HD                                           HD       0.28692934           58
ICUCPR                                   ICUCPR       0.29099405           55
Refractory                           Refractory       0.30773829           51
DischargefromICU               DischargefromICU       0.29402085           54
cardiovasc                           cardiovasc       0.19487620           69
CTxinICU                               CTxinICU       0.28810067           56
Hb                                           Hb       1.54743155           23
DNR                                         DNR       0.30094402           52
prevCPR                                 prevCPR       0.23318436           63
respfailure                         respfailure       0.18924303           70
performance_ICU_DC           performance_ICU_DC       0.56325768           38
Pre_PS                                   Pre_PS       0.70353966           33
prev_rtx                               prev_rtx       0.54866292           39
prev_ctx                               prev_ctx       0.18489092           71
Distatntmets                       Distatntmets       0.35934121           46
PDT                                         PDT       0.21074699           66
PoorPS                                   PoorPS       0.27859746           59
ICUreadmission                   ICUreadmission       0.21396844           65
sex                                         sex       0.21738029           64
DNR_at_ICU                           DNR_at_ICU       0.26810292           61
ILD                                         ILD       0.09592818           81
RRT                                         RRT       0.14211541           74
postICUCtx                           postICUCtx       0.09815692           80
Tracheostomy                       Tracheostomy       0.11202857           77
Underlying_CV                     Underlying_CV       0.12406360           76
PCC                                         PCC       0.04029191           85
dx_after_adm                       dx_after_adm       0.14009070           75
BIPAP                                     BIPAP       0.20038982           67
ECMO                                       ECMO       0.03795256           86
postICUCPR                           postICUCPR       0.15599116           72
other_malignancy               other_malignancy       0.14348417           73
preICUDNR                             preICUDNR       0.01724684           87
Underlying_stroke             Underlying_stroke       0.07914094           83
neurology                             neurology       0.07759324           84
postICURT                             postICURT       0.00708258           88
PrevICUadm                           PrevICUadm       0.09282104           82
WBRT                                       WBRT       0.10624039           78
prev_gks                               prev_gks       0.10360523           79
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          3        1                            2
neutropenia                  4        2                            1
WBC                          6        3                            4
AKI                          7        4                            3
BUN                         12        5                            7
PT_percent                  14        6                            8
bacteremia                  19        7                            6
Vasoactiveagent             19        8                            5
PLT                         20        9                           12
CRP                         21       10                           14
SOFA_D1                     21       11                           11
Death_Cause                 26       12                            9
APACH_II                    29       13                           17
CRRT                        29       14                           13
hospital_LOS                32       15                           21
timefromdx                  32       16                           23
Cause_Ca_problem            35       17                           15
Pneumonia                   35       18                           10
Albumin                     38       19                           19
SAPS_II                     39       20                           24
thrombocytopenia            44       21                           16
MV_days                     46       22                           22
post_dc_days                46       23                           20
prev_wbrt                   48       24                           18
aPTT                        54       25                           36
PaO2FiO2                    55       26                           33
post_icu_survival           56       27                           27
age                         58       28                           37
ICU_cause_intensivist       59       29                           25
histologyNum                63       30                           31
StageNum                    64       31                           29
ICU_mortal30                68       32                           26
prev_ccrt                   68       33                           28
underlying_pulmo            71       34                           34
ICU_LOS                     72       35                           45
HFNC                        79       36                           35
Underlying_DM               79       37                           38
NewlyDx                     86       38                           39
pulmocomorbid               86       39                           43
anemia                      89       40                           40
performance_hospital_DC     92       41                           56
Hospital_death              94       42                           32
MV                          98       43                           30
procalcitonin               99       44                           68
hypoalbuminemia            100       45                           47
Surgery                    100       46                           50
Intensivist                101       47                           53
post2011                   101       48                           44
ICU_Death                  102       49                           42
smk_hx                     103       50                           58
HD                         104       51                           46
ICUCPR                     104       52                           49
Refractory                 105       53                           54
DischargefromICU           106       54                           52
cardiovasc                 110       55                           41
CTxinICU                   111       56                           55
Hb                         111       57                           88
DNR                        114       58                           62
prevCPR                    114       59                           51
respfailure                118       60                           48
performance_ICU_DC         119       61                           81
Pre_PS                     119       62                           86
prev_rtx                   126       63                           87
prev_ctx                   128       64                           57
Distatntmets               131       65                           85
PDT                        131       66                           65
PoorPS                     136       67                           77
ICUreadmission             137       68                           72
sex                        139       69                           75
DNR_at_ICU                 140       70                           79
ILD                        140       71                           59
RRT                        140       72                           66
postICUCtx                 141       73                           61
Tracheostomy               141       74                           64
Underlying_CV              143       75                           67
PCC                        145       76                           60
dx_after_adm               146       77                           71
BIPAP                      149       78                           82
ECMO                       149       79                           63
postICUCPR                 150       80                           78
other_malignancy           156       81                           83
preICUDNR                  156       82                           69
Underlying_stroke          156       83                           73
neurology                  158       84                           74
postICURT                  158       85                           70
PrevICUadm                 158       86                           76
WBRT                       158       87                           80
prev_gks                   163       88                           84
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  3
neutropenia                                    3                  4
WBC                                            2                  6
AKI                                            4                  7
BUN                                            5                 12
PT_percent                                     6                 14
bacteremia                                    13                 19
Vasoactiveagent                               14                 19
PLT                                            8                 20
CRP                                            7                 21
SOFA_D1                                       10                 21
Death_Cause                                   17                 26
APACH_II                                      12                 29
CRRT                                          16                 29
hospital_LOS                                  11                 32
timefromdx                                     9                 32
Cause_Ca_problem                              20                 35
Pneumonia                                     25                 35
Albumin                                       19                 38
SAPS_II                                       15                 39
thrombocytopenia                              28                 44
MV_days                                       24                 46
post_dc_days                                  26                 46
prev_wbrt                                     30                 48
aPTT                                          18                 54
PaO2FiO2                                      22                 55
post_icu_survival                             29                 56
age                                           21                 58
ICU_cause_intensivist                         34                 59
histologyNum                                  32                 63
StageNum                                      35                 64
ICU_mortal30                                  42                 68
prev_ccrt                                     40                 68
underlying_pulmo                              37                 71
ICU_LOS                                       27                 72
HFNC                                          44                 79
Underlying_DM                                 41                 79
NewlyDx                                       47                 86
pulmocomorbid                                 43                 86
anemia                                        49                 89
performance_hospital_DC                       36                 92
Hospital_death                                62                 94
MV                                            68                 98
procalcitonin                                 31                 99
hypoalbuminemia                               53                100
Surgery                                       50                100
Intensivist                                   48                101
post2011                                      57                101
ICU_Death                                     60                102
smk_hx                                        45                103
HD                                            58                104
ICUCPR                                        55                104
Refractory                                    51                105
DischargefromICU                              54                106
cardiovasc                                    69                110
CTxinICU                                      56                111
Hb                                            23                111
DNR                                           52                114
prevCPR                                       63                114
respfailure                                   70                118
performance_ICU_DC                            38                119
Pre_PS                                        33                119
prev_rtx                                      39                126
prev_ctx                                      71                128
Distatntmets                                  46                131
PDT                                           66                131
PoorPS                                        59                136
ICUreadmission                                65                137
sex                                           64                139
DNR_at_ICU                                    61                140
ILD                                           81                140
RRT                                           74                140
postICUCtx                                    80                141
Tracheostomy                                  77                141
Underlying_CV                                 76                143
PCC                                           85                145
dx_after_adm                                  75                146
BIPAP                                         67                149
ECMO                                          86                149
postICUCPR                                    72                150
other_malignancy                              73                156
preICUDNR                                     87                156
Underlying_stroke                             83                156
neurology                                     84                158
postICURT                                     88                158
PrevICUadm                                    82                158
WBRT                                          78                158
prev_gks                                      79                163
number of selected top features: 8
selected top features: 
[1] "ANC"             "neutropenia"     "WBC"             "AKI"            
[5] "BUN"             "PT_percent"      "bacteremia"      "Vasoactiveagent"

[Training Random Forests classifier on the training set with only the top  8  features]

[Applying the trained Random Forests classifier on the test set with only the top  8  features]

PR AUC (integral) 	0.5725088
ROC AUC 		0.7333333

Brier score =  0.199  (best value: 0; worst value: 1)

TOTAL:

 FN =  3  /  6 	 (truth == 1) & (prediction < threshold)
 TP =  3  /  6 	 (truth == 1) & (prediction >= threshold)

 FP =  4  /  20 	 (truth == 0) & (prediction >= threshold)
 TN =  16  /  20 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.285 	 0.462 	 	0.731 	 	0.500 	 	0.800		0.429	 	0.842	 	0.573	0.733




=== final results ===
Number of executions = 10
                MCC F1_score accuracy TP_rate TN_rate    PPV    NPV PR_AUC
nbr.val      10.000   10.000   10.000  10.000  10.000 10.000 10.000 10.000
nbr.null      0.000    0.000    0.000   0.000   0.000  0.000  0.000  0.000
nbr.na        0.000    0.000    0.000   0.000   0.000  0.000  0.000  0.000
min           0.088    0.222    0.692   0.250   0.762  0.167  0.684  0.422
max           0.482    0.632    0.846   0.800   0.952  0.857  0.941  0.820
range         0.394    0.409    0.154   0.550   0.190  0.690  0.257  0.398
sum           3.364    4.783    7.462   4.583   8.597  5.593  8.054  6.463
median        0.325    0.500    0.731   0.422   0.849  0.598  0.810  0.676
mean          0.336    0.478    0.746   0.458   0.860  0.559  0.805  0.646
SE.mean       0.037    0.037    0.015   0.047   0.022  0.059  0.028  0.040
CI.mean.0.95  0.083    0.085    0.035   0.106   0.050  0.134  0.064  0.090
var           0.013    0.014    0.002   0.022   0.005  0.035  0.008  0.016
std.dev       0.116    0.118    0.049   0.149   0.070  0.187  0.089  0.126
coef.var      0.344    0.247    0.065   0.325   0.082  0.335  0.111  0.195
             ROC_AUC
nbr.val       10.000
nbr.null       0.000
nbr.na         0.000
min            0.732
max            0.900
range          0.168
sum            7.929
median         0.790
mean           0.793
SE.mean        0.018
CI.mean.0.95   0.041
var            0.003
std.dev        0.058
coef.var       0.073


=== === === ===
          MCC F1_score accuracy TP_rate TN_rate   PPV   NPV PR_AUC ROC_AUC
mean    0.336    0.478    0.746   0.458   0.860 0.559 0.805  0.646   0.793
std.dev 0.116    0.118    0.049   0.149   0.070 0.187 0.089  0.126   0.058


=== === === ===



Total execution time: 1.647329 seconds
0 days, 00 hours, 01 minutes, 38.84 seconds

We'll plot only the top 20 features
applied command: mkdir -p ../results/
just run the command: mkdir -p ../results/
saved plot in file ../results/MeanDecreaseAccuracy_features_83191.pdf
just run the command: mkdir -p ../results/
saved plot in file ../results/MeanDecreaseGini_features_83191.pdf
null device 
          1 
