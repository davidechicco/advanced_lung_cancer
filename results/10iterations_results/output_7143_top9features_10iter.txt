TOP_FEATURES_NUMBER = 9
NUM_ITERATIONS = 10
TRAIN_SET_OVERSAMPLING_SYNTHETIC == FALSE
Read data from file ../data/pone0210951_s006_dataset_EDITED_IMPUTED.csv
adenoca
large_cell_NEC
mixed
neuroendocrine_tumor
nonsmall_cell
others
poorly_differentiated
sarcomatoid
small_cell
squamous


The target feature is Sepsis
application of dplyr::select()
TRAINING_SET_RATIO = 0.9
Number of classification executions = 10	Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.602519e-02           1
AKI                             1.573171e-02           2
WBC                             9.231783e-03           4
neutropenia                     1.282998e-02           3
PT_percent                      5.605389e-03           8
CRRT                            8.646310e-03           5
PLT                             4.294957e-03          10
bacteremia                      8.169275e-03           6
BUN                             2.756229e-03          16
SOFA_D1                         4.160072e-03          11
CRP                             2.384664e-03          18
hospital_LOS                    1.862645e-03          19
APACH_II                        2.677080e-03          17
Death_Cause                     5.296519e-03           9
Vasoactiveagent                 5.866638e-03           7
Cause_Ca_problem                3.130338e-03          14
Albumin                         1.259332e-03          21
prev_wbrt                       3.681832e-03          13
Pneumonia                       3.874085e-03          12
timefromdx                      5.881739e-04          29
SAPS_II                         1.032123e-03          26
post_dc_days                    1.270588e-03          20
thrombocytopenia                3.119784e-03          15
MV_days                         1.039205e-03          25
PaO2FiO2                        4.199787e-04          31
age                             4.090941e-04          32
post_icu_survival               1.147510e-03          23
ICU_cause_intensivist           1.169118e-03          22
ICU_mortal30                    1.095668e-03          24
aPTT                            1.299544e-04          52
Hb                              2.003464e-04          47
StageNum                        3.961625e-04          34
histologyNum                    3.028152e-04          42
Distatntmets                    4.002110e-04          33
underlying_pulmo                3.640251e-04          40
ICUCPR                          4.734879e-04          30
cardiovasc                      7.959362e-04          27
Underlying_DM                   3.731033e-04          38
prev_ccrt                       3.829261e-04          36
HD                              3.814709e-04          37
Hospital_death                  6.646228e-04          28
pulmocomorbid                   2.499242e-04          43
NewlyDx                         2.435642e-04          45
HFNC                            1.354643e-04          51
ICU_Death                       3.860775e-04          35
Intensivist                     1.838404e-04          48
ICU_LOS                        -1.663879e-05          70
DischargefromICU                2.183694e-04          46
procalcitonin                  -1.342735e-06          68
post2011                        3.642428e-04          39
Refractory                      8.901361e-05          56
performance_hospital_DC         6.507555e-06          65
preICUDNR                       1.481249e-04          49
sex                             1.189737e-04          53
hypoalbuminemia                 9.337620e-05          55
anemia                          6.798160e-05          59
MV                              2.442209e-04          44
respfailure                     3.368054e-04          41
Pre_PS                         -1.407696e-04          86
PoorPS                          6.237547e-05          60
performance_ICU_DC             -2.547966e-04          87
prev_rtx                       -2.901798e-04          88
DNR                            -2.354131e-05          72
Surgery                         5.871560e-06          66
BIPAP                           4.020840e-05          61
prev_ctx                        7.959323e-05          57
CTxinICU                        2.158737e-05          64
PCC                             1.467566e-04          50
postICUCtx                      1.121533e-04          54
prevCPR                         3.032133e-05          62
ILD                             6.849060e-05          58
smk_hx                         -4.997494e-05          78
DNR_at_ICU                     -4.479559e-05          75
RRT                             2.209528e-05          63
ICUreadmission                 -4.988746e-05          77
PDT                            -9.171027e-05          82
postICUCPR                     -4.621081e-05          76
Underlying_CV                  -6.014791e-05          79
Tracheostomy                   -3.497388e-05          74
postICURT                       4.521073e-06          67
ECMO                           -2.352941e-06          69
PrevICUadm                     -1.818875e-05          71
dx_after_adm                   -9.750201e-05          83
neurology                      -2.593604e-05          73
other_malignancy               -1.144026e-04          85
WBRT                           -7.923593e-05          80
Underlying_stroke              -8.997767e-05          81
prev_gks                       -1.136825e-04          84
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.414820843            1
AKI                                         AKI      4.258653773            3
WBC                                         WBC      5.359546275            2
neutropenia                         neutropenia      3.979955338            4
PT_percent                           PT_percent      3.293335913            5
CRRT                                       CRRT      2.974849180            9
PLT                                         PLT      3.136438477            6
bacteremia                           bacteremia      2.264532373           14
BUN                                         BUN      3.132450381            7
SOFA_D1                                 SOFA_D1      2.479035812           12
CRP                                         CRP      3.094249666            8
hospital_LOS                       hospital_LOS      2.612067765           10
APACH_II                               APACH_II      2.438281055           13
Death_Cause                         Death_Cause      1.744362450           21
Vasoactiveagent                 Vasoactiveagent      1.452953940           23
Cause_Ca_problem               Cause_Ca_problem      1.748594898           20
Albumin                                 Albumin      1.889198141           16
prev_wbrt                             prev_wbrt      1.280990402           26
Pneumonia                             Pneumonia      1.125361253           28
timefromdx                           timefromdx      2.580741015           11
SAPS_II                                 SAPS_II      1.905945307           15
post_dc_days                       post_dc_days      1.349855015           25
thrombocytopenia               thrombocytopenia      1.048974104           30
MV_days                                 MV_days      1.355666000           24
PaO2FiO2                               PaO2FiO2      1.827750692           18
age                                         age      1.782191463           19
post_icu_survival             post_icu_survival      1.051382556           29
ICU_cause_intensivist     ICU_cause_intensivist      0.689784436           34
ICU_mortal30                       ICU_mortal30      0.519168245           39
aPTT                                       aPTT      1.841087656           17
Hb                                           Hb      1.483229500           22
StageNum                               StageNum      0.624301158           35
histologyNum                       histologyNum      0.887847596           32
Distatntmets                       Distatntmets      0.399843804           43
underlying_pulmo               underlying_pulmo      0.580980108           36
ICUCPR                                   ICUCPR      0.368480944           47
cardiovasc                           cardiovasc      0.325216604           51
Underlying_DM                     Underlying_DM      0.497811733           40
prev_ccrt                             prev_ccrt      0.387154978           44
HD                                           HD      0.341980537           50
Hospital_death                   Hospital_death      0.306272690           59
pulmocomorbid                     pulmocomorbid      0.384524962           45
NewlyDx                                 NewlyDx      0.379583641           46
HFNC                                       HFNC      0.450612530           41
ICU_Death                             ICU_Death      0.294911599           61
Intensivist                         Intensivist      0.363944298           48
ICU_LOS                                 ICU_LOS      1.205356973           27
DischargefromICU               DischargefromICU      0.324450727           52
procalcitonin                     procalcitonin      0.969207615           31
post2011                               post2011      0.283334371           63
Refractory                           Refractory      0.346933417           49
performance_hospital_DC performance_hospital_DC      0.443460328           42
preICUDNR                             preICUDNR      0.307413256           58
sex                                         sex      0.310655056           56
hypoalbuminemia                 hypoalbuminemia      0.317690867           55
anemia                                   anemia      0.320190537           53
MV                                           MV      0.209041328           68
respfailure                         respfailure      0.170916045           72
Pre_PS                                   Pre_PS      0.691279909           33
PoorPS                                   PoorPS      0.279574738           64
performance_ICU_DC           performance_ICU_DC      0.538072481           38
prev_rtx                               prev_rtx      0.580586241           37
DNR                                         DNR      0.319076070           54
Surgery                                 Surgery      0.305937218           60
BIPAP                                     BIPAP      0.226259080           66
prev_ctx                               prev_ctx      0.187327699           70
CTxinICU                               CTxinICU      0.217448547           67
PCC                                         PCC      0.110903084           81
postICUCtx                           postICUCtx      0.132962069           78
prevCPR                                 prevCPR      0.174656898           71
ILD                                         ILD      0.143663472           76
smk_hx                                   smk_hx      0.308700326           57
DNR_at_ICU                           DNR_at_ICU      0.294032679           62
RRT                                         RRT      0.117219715           80
ICUreadmission                   ICUreadmission      0.189133267           69
PDT                                         PDT      0.232629807           65
postICUCPR                           postICUCPR      0.147109942           75
Underlying_CV                     Underlying_CV      0.154282976           73
Tracheostomy                       Tracheostomy      0.118236674           79
postICURT                             postICURT      0.007702831           88
ECMO                                       ECMO      0.024810335           87
PrevICUadm                           PrevICUadm      0.083995704           85
dx_after_adm                       dx_after_adm      0.153307487           74
neurology                             neurology      0.077613199           86
other_malignancy               other_malignancy      0.138009213           77
WBRT                                       WBRT      0.104800999           82
Underlying_stroke             Underlying_stroke      0.095270210           83
prev_gks                               prev_gks      0.094632583           84
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
AKI                          5        2                            2
WBC                          6        3                            4
neutropenia                  7        4                            3
PT_percent                  13        5                            8
CRRT                        14        6                            5
PLT                         16        7                           10
bacteremia                  20        8                            6
BUN                         23        9                           16
SOFA_D1                     23       10                           11
CRP                         26       11                           18
hospital_LOS                29       12                           19
APACH_II                    30       13                           17
Death_Cause                 30       14                            9
Vasoactiveagent             30       15                            7
Cause_Ca_problem            34       16                           14
Albumin                     37       17                           21
prev_wbrt                   39       18                           13
Pneumonia                   40       19                           12
timefromdx                  40       20                           29
SAPS_II                     41       21                           26
post_dc_days                45       22                           20
thrombocytopenia            45       23                           15
MV_days                     49       24                           25
PaO2FiO2                    49       25                           31
age                         51       26                           32
post_icu_survival           52       27                           23
ICU_cause_intensivist       56       28                           22
ICU_mortal30                63       29                           24
aPTT                        69       30                           52
Hb                          69       31                           47
StageNum                    69       32                           34
histologyNum                74       33                           42
Distatntmets                76       34                           33
underlying_pulmo            76       35                           40
ICUCPR                      77       36                           30
cardiovasc                  78       37                           27
Underlying_DM               78       38                           38
prev_ccrt                   80       39                           36
HD                          87       40                           37
Hospital_death              87       41                           28
pulmocomorbid               88       42                           43
NewlyDx                     91       43                           45
HFNC                        92       44                           51
ICU_Death                   96       45                           35
Intensivist                 96       46                           48
ICU_LOS                     97       47                           70
DischargefromICU            98       48                           46
procalcitonin               99       49                           68
post2011                   102       50                           39
Refractory                 105       51                           56
performance_hospital_DC    107       52                           65
preICUDNR                  107       53                           49
sex                        109       54                           53
hypoalbuminemia            110       55                           55
anemia                     112       56                           59
MV                         112       57                           44
respfailure                113       58                           41
Pre_PS                     119       59                           86
PoorPS                     124       60                           60
performance_ICU_DC         125       61                           87
prev_rtx                   125       62                           88
DNR                        126       63                           72
Surgery                    126       64                           66
BIPAP                      127       65                           61
prev_ctx                   127       66                           57
CTxinICU                   131       67                           64
PCC                        131       68                           50
postICUCtx                 132       69                           54
prevCPR                    133       70                           62
ILD                        134       71                           58
smk_hx                     135       72                           78
DNR_at_ICU                 137       73                           75
RRT                        143       74                           63
ICUreadmission             146       75                           77
PDT                        147       76                           82
postICUCPR                 151       77                           76
Underlying_CV              152       78                           79
Tracheostomy               153       79                           74
postICURT                  155       80                           67
ECMO                       156       81                           69
PrevICUadm                 156       82                           71
dx_after_adm               157       83                           83
neurology                  159       84                           73
other_malignancy           162       85                           85
WBRT                       162       86                           80
Underlying_stroke          164       87                           81
prev_gks                   168       88                           84
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
AKI                                            3                  5
WBC                                            2                  6
neutropenia                                    4                  7
PT_percent                                     5                 13
CRRT                                           9                 14
PLT                                            6                 16
bacteremia                                    14                 20
BUN                                            7                 23
SOFA_D1                                       12                 23
CRP                                            8                 26
hospital_LOS                                  10                 29
APACH_II                                      13                 30
Death_Cause                                   21                 30
Vasoactiveagent                               23                 30
Cause_Ca_problem                              20                 34
Albumin                                       16                 37
prev_wbrt                                     26                 39
Pneumonia                                     28                 40
timefromdx                                    11                 40
SAPS_II                                       15                 41
post_dc_days                                  25                 45
thrombocytopenia                              30                 45
MV_days                                       24                 49
PaO2FiO2                                      18                 49
age                                           19                 51
post_icu_survival                             29                 52
ICU_cause_intensivist                         34                 56
ICU_mortal30                                  39                 63
aPTT                                          17                 69
Hb                                            22                 69
StageNum                                      35                 69
histologyNum                                  32                 74
Distatntmets                                  43                 76
underlying_pulmo                              36                 76
ICUCPR                                        47                 77
cardiovasc                                    51                 78
Underlying_DM                                 40                 78
prev_ccrt                                     44                 80
HD                                            50                 87
Hospital_death                                59                 87
pulmocomorbid                                 45                 88
NewlyDx                                       46                 91
HFNC                                          41                 92
ICU_Death                                     61                 96
Intensivist                                   48                 96
ICU_LOS                                       27                 97
DischargefromICU                              52                 98
procalcitonin                                 31                 99
post2011                                      63                102
Refractory                                    49                105
performance_hospital_DC                       42                107
preICUDNR                                     58                107
sex                                           56                109
hypoalbuminemia                               55                110
anemia                                        53                112
MV                                            68                112
respfailure                                   72                113
Pre_PS                                        33                119
PoorPS                                        64                124
performance_ICU_DC                            38                125
prev_rtx                                      37                125
DNR                                           54                126
Surgery                                       60                126
BIPAP                                         66                127
prev_ctx                                      70                127
CTxinICU                                      67                131
PCC                                           81                131
postICUCtx                                    78                132
prevCPR                                       71                133
ILD                                           76                134
smk_hx                                        57                135
DNR_at_ICU                                    62                137
RRT                                           80                143
ICUreadmission                                69                146
PDT                                           65                147
postICUCPR                                    75                151
Underlying_CV                                 73                152
Tracheostomy                                  79                153
postICURT                                     88                155
ECMO                                          87                156
PrevICUadm                                    85                156
dx_after_adm                                  74                157
neurology                                     86                159
other_malignancy                              77                162
WBRT                                          82                162
Underlying_stroke                             83                164
prev_gks                                      84                168
number of selected top features: 9
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia" "PT_percent" 
[6] "CRRT"        "PLT"         "bacteremia"  "BUN"        

[Training Random Forests classifier on the training set with only the top  9  features]

[Applying the trained Random Forests classifier on the test set with only the top  9  features]

PR AUC (integral) 	0.7578406
ROC AUC 		0.8611111

Brier score =  0.138  (best value: 0; worst value: 1)

TOTAL:

 FN =  5  /  8 	 (truth == 1) & (prediction < threshold)
 TP =  3  /  8 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  18 	 (truth == 0) & (prediction >= threshold)
 TN =  17  /  18 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.409 	 0.500 	 	0.769 	 	0.375 	 	0.944		0.750	 	0.773	 	0.758	0.861

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.636275e-02           1
WBC                             9.511805e-03           4
neutropenia                     1.198497e-02           3
AKI                             1.248677e-02           2
CRP                             5.683456e-03           9
PT_percent                      6.528213e-03           7
BUN                             6.276450e-03           8
bacteremia                      8.048821e-03           6
Vasoactiveagent                 8.157572e-03           5
PLT                             4.369050e-03          13
SOFA_D1                         4.473098e-03          12
CRRT                            5.050703e-03          10
timefromdx                      2.421013e-03          19
APACH_II                        3.336413e-03          18
hospital_LOS                    1.846811e-03          20
Cause_Ca_problem                3.421769e-03          16
Death_Cause                     4.206584e-03          14
Albumin                         1.508317e-03          21
Pneumonia                       4.626428e-03          11
SAPS_II                         1.262497e-03          23
thrombocytopenia                3.559599e-03          15
post_dc_days                    1.333412e-03          22
prev_wbrt                       3.376345e-03          17
PaO2FiO2                        5.921483e-04          27
post_icu_survival               6.406646e-04          26
MV_days                         4.074732e-04          34
Hb                              3.404615e-04          37
ICU_cause_intensivist           7.256676e-04          25
ICU_mortal30                    8.709348e-04          24
age                             1.435533e-04          48
Underlying_DM                   5.100354e-04          31
StageNum                        2.802632e-04          38
HFNC                            4.233401e-04          33
histologyNum                    1.462689e-04          47
post2011                        5.754567e-04          29
performance_ICU_DC              1.628725e-04          46
underlying_pulmo                2.223774e-04          42
prev_ccrt                       3.900118e-04          35
cardiovasc                      5.770990e-04          28
hypoalbuminemia                 2.332308e-04          41
aPTT                           -5.923742e-06          70
ICU_Death                       5.224934e-04          30
NewlyDx                         3.575705e-04          36
DischargefromICU                2.367974e-04          40
anemia                          2.419505e-04          39
Distatntmets                    1.279976e-04          53
Refractory                      1.426140e-04          49
MV                              4.335443e-04          32
DNR                             1.247659e-04          54
pulmocomorbid                   8.085827e-05          58
BIPAP                           2.028013e-04          43
HD                              1.988631e-04          45
Intensivist                     1.283342e-04          52
Hospital_death                  2.019993e-04          44
ICU_LOS                        -2.103589e-04          85
ICUCPR                          1.184635e-04          55
sex                             5.299152e-05          61
procalcitonin                  -2.238288e-04          86
Surgery                         1.260898e-05          66
Pre_PS                         -4.316669e-04          88
performance_hospital_DC        -1.298381e-04          83
ILD                             1.378890e-04          50
prev_rtx                       -2.858527e-04          87
respfailure                     8.136460e-05          57
PDT                             1.743847e-05          65
CTxinICU                        7.421567e-05          60
ICUreadmission                  4.220248e-05          63
postICUCtx                      1.333345e-04          51
smk_hx                         -4.252246e-05          74
RRT                             4.743432e-05          62
prev_ctx                        4.215124e-05          64
prevCPR                         8.670881e-06          67
DNR_at_ICU                     -7.148973e-05          77
PoorPS                         -6.581652e-05          76
ECMO                            8.991574e-05          56
PCC                             7.654326e-05          59
Underlying_CV                  -1.656259e-05          71
Tracheostomy                   -2.226468e-05          72
postICUCPR                     -7.200260e-05          78
dx_after_adm                   -7.465550e-05          80
preICUDNR                       0.000000e+00          68
WBRT                           -6.338455e-05          75
postICURT                      -4.794441e-06          69
PrevICUadm                     -2.562812e-05          73
other_malignancy               -1.462742e-04          84
neurology                      -7.270364e-05          79
prev_gks                       -1.297404e-04          82
Underlying_stroke              -1.032733e-04          81
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC       6.75546999            1
WBC                                         WBC       5.27083080            2
neutropenia                         neutropenia       3.79786287            4
AKI                                         AKI       3.71474789            6
CRP                                         CRP       3.86774380            3
PT_percent                           PT_percent       3.78494163            5
BUN                                         BUN       3.70569797            7
bacteremia                           bacteremia       2.42845739           13
Vasoactiveagent                 Vasoactiveagent       2.12847555           14
PLT                                         PLT       3.26265881            8
SOFA_D1                                 SOFA_D1       2.61014292           11
CRRT                                       CRRT       1.90143061           18
timefromdx                           timefromdx       3.03334330            9
APACH_II                               APACH_II       2.57332165           12
hospital_LOS                       hospital_LOS       2.71965479           10
Cause_Ca_problem               Cause_Ca_problem       1.85732302           19
Death_Cause                         Death_Cause       1.58660800           22
Albumin                                 Albumin       1.99339818           16
Pneumonia                             Pneumonia       1.30977859           26
SAPS_II                                 SAPS_II       2.02164036           15
thrombocytopenia               thrombocytopenia       1.28140868           27
post_dc_days                       post_dc_days       1.39790472           24
prev_wbrt                             prev_wbrt       1.22701095           29
PaO2FiO2                               PaO2FiO2       1.68118742           21
post_icu_survival             post_icu_survival       1.00642200           30
MV_days                                 MV_days       1.35186743           25
Hb                                           Hb       1.50680429           23
ICU_cause_intensivist     ICU_cause_intensivist       0.64903628           36
ICU_mortal30                       ICU_mortal30       0.45220765           43
age                                         age       1.81739547           20
Underlying_DM                     Underlying_DM       0.60459116           37
StageNum                               StageNum       0.71191118           33
HFNC                                       HFNC       0.48145705           41
histologyNum                       histologyNum       0.72431532           32
post2011                               post2011       0.36112710           50
performance_ICU_DC           performance_ICU_DC       0.64909578           35
underlying_pulmo               underlying_pulmo       0.55162084           39
prev_ccrt                             prev_ccrt       0.38027459           48
cardiovasc                           cardiovasc       0.31981870           58
hypoalbuminemia                 hypoalbuminemia       0.42267334           45
aPTT                                       aPTT       1.91630302           17
ICU_Death                             ICU_Death       0.32085408           57
NewlyDx                                 NewlyDx       0.34482724           51
DischargefromICU               DischargefromICU       0.36843705           49
anemia                                   anemia       0.34159571           52
Distatntmets                       Distatntmets       0.45889249           42
Refractory                           Refractory       0.40445798           46
MV                                           MV       0.22013563           67
DNR                                         DNR       0.39666956           47
pulmocomorbid                     pulmocomorbid       0.43299496           44
BIPAP                                     BIPAP       0.29779213           62
HD                                           HD       0.31620897           60
Intensivist                         Intensivist       0.34033973           53
Hospital_death                   Hospital_death       0.26529941           63
ICU_LOS                                 ICU_LOS       1.24193342           28
ICUCPR                                   ICUCPR       0.31659467           59
sex                                         sex       0.33732294           54
procalcitonin                     procalcitonin       0.90023674           31
Surgery                                 Surgery       0.32737917           55
Pre_PS                                   Pre_PS       0.70580308           34
performance_hospital_DC performance_hospital_DC       0.51816190           40
ILD                                         ILD       0.13860525           75
prev_rtx                               prev_rtx       0.56473020           38
respfailure                         respfailure       0.20591322           68
PDT                                         PDT       0.30231683           61
CTxinICU                               CTxinICU       0.18874982           69
ICUreadmission                   ICUreadmission       0.22156138           66
postICUCtx                           postICUCtx       0.13090738           78
smk_hx                                   smk_hx       0.32598745           56
RRT                                         RRT       0.17092105           72
prev_ctx                               prev_ctx       0.17522915           71
prevCPR                                 prevCPR       0.18622540           70
DNR_at_ICU                           DNR_at_ICU       0.26343794           64
PoorPS                                   PoorPS       0.25729112           65
ECMO                                       ECMO       0.04810160           86
PCC                                         PCC       0.07148003           85
Underlying_CV                     Underlying_CV       0.13350974           77
Tracheostomy                       Tracheostomy       0.11663381           79
postICUCPR                           postICUCPR       0.16250700           74
dx_after_adm                       dx_after_adm       0.16785560           73
preICUDNR                             preICUDNR       0.01448560           87
WBRT                                       WBRT       0.10174518           81
postICURT                             postICURT       0.01054418           88
PrevICUadm                           PrevICUadm       0.08591637           84
other_malignancy               other_malignancy       0.13700739           76
neurology                             neurology       0.08842392           82
prev_gks                               prev_gks       0.10751174           80
Underlying_stroke             Underlying_stroke       0.08838119           83
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
WBC                          6        2                            4
neutropenia                  7        3                            3
AKI                          8        4                            2
CRP                         12        5                            9
PT_percent                  12        6                            7
BUN                         15        7                            8
bacteremia                  19        8                            6
Vasoactiveagent             19        9                            5
PLT                         21       10                           13
SOFA_D1                     23       11                           12
CRRT                        28       12                           10
timefromdx                  28       13                           19
APACH_II                    30       14                           18
hospital_LOS                30       15                           20
Cause_Ca_problem            35       16                           16
Death_Cause                 36       17                           14
Albumin                     37       18                           21
Pneumonia                   37       19                           11
SAPS_II                     38       20                           23
thrombocytopenia            42       21                           15
post_dc_days                46       22                           22
prev_wbrt                   46       23                           17
PaO2FiO2                    48       24                           27
post_icu_survival           56       25                           26
MV_days                     59       26                           34
Hb                          60       27                           37
ICU_cause_intensivist       61       28                           25
ICU_mortal30                67       29                           24
age                         68       30                           48
Underlying_DM               68       31                           31
StageNum                    71       32                           38
HFNC                        74       33                           33
histologyNum                79       34                           47
post2011                    79       35                           29
performance_ICU_DC          81       36                           46
underlying_pulmo            81       37                           42
prev_ccrt                   83       38                           35
cardiovasc                  86       39                           28
hypoalbuminemia             86       40                           41
aPTT                        87       41                           70
ICU_Death                   87       42                           30
NewlyDx                     87       43                           36
DischargefromICU            89       44                           40
anemia                      91       45                           39
Distatntmets                95       46                           53
Refractory                  95       47                           49
MV                          99       48                           32
DNR                        101       49                           54
pulmocomorbid              102       50                           58
BIPAP                      105       51                           43
HD                         105       52                           45
Intensivist                105       53                           52
Hospital_death             107       54                           44
ICU_LOS                    113       55                           85
ICUCPR                     114       56                           55
sex                        115       57                           61
procalcitonin              117       58                           86
Surgery                    121       59                           66
Pre_PS                     122       60                           88
performance_hospital_DC    123       61                           83
ILD                        125       62                           50
prev_rtx                   125       63                           87
respfailure                125       64                           57
PDT                        126       65                           65
CTxinICU                   129       66                           60
ICUreadmission             129       67                           63
postICUCtx                 129       68                           51
smk_hx                     130       69                           74
RRT                        134       70                           62
prev_ctx                   135       71                           64
prevCPR                    137       72                           67
DNR_at_ICU                 141       73                           77
PoorPS                     141       74                           76
ECMO                       142       75                           56
PCC                        144       76                           59
Underlying_CV              148       77                           71
Tracheostomy               151       78                           72
postICUCPR                 152       79                           78
dx_after_adm               153       80                           80
preICUDNR                  155       81                           68
WBRT                       156       82                           75
postICURT                  157       83                           69
PrevICUadm                 157       84                           73
other_malignancy           160       85                           84
neurology                  161       86                           79
prev_gks                   162       87                           82
Underlying_stroke          164       88                           81
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
WBC                                            2                  6
neutropenia                                    4                  7
AKI                                            6                  8
CRP                                            3                 12
PT_percent                                     5                 12
BUN                                            7                 15
bacteremia                                    13                 19
Vasoactiveagent                               14                 19
PLT                                            8                 21
SOFA_D1                                       11                 23
CRRT                                          18                 28
timefromdx                                     9                 28
APACH_II                                      12                 30
hospital_LOS                                  10                 30
Cause_Ca_problem                              19                 35
Death_Cause                                   22                 36
Albumin                                       16                 37
Pneumonia                                     26                 37
SAPS_II                                       15                 38
thrombocytopenia                              27                 42
post_dc_days                                  24                 46
prev_wbrt                                     29                 46
PaO2FiO2                                      21                 48
post_icu_survival                             30                 56
MV_days                                       25                 59
Hb                                            23                 60
ICU_cause_intensivist                         36                 61
ICU_mortal30                                  43                 67
age                                           20                 68
Underlying_DM                                 37                 68
StageNum                                      33                 71
HFNC                                          41                 74
histologyNum                                  32                 79
post2011                                      50                 79
performance_ICU_DC                            35                 81
underlying_pulmo                              39                 81
prev_ccrt                                     48                 83
cardiovasc                                    58                 86
hypoalbuminemia                               45                 86
aPTT                                          17                 87
ICU_Death                                     57                 87
NewlyDx                                       51                 87
DischargefromICU                              49                 89
anemia                                        52                 91
Distatntmets                                  42                 95
Refractory                                    46                 95
MV                                            67                 99
DNR                                           47                101
pulmocomorbid                                 44                102
BIPAP                                         62                105
HD                                            60                105
Intensivist                                   53                105
Hospital_death                                63                107
ICU_LOS                                       28                113
ICUCPR                                        59                114
sex                                           54                115
procalcitonin                                 31                117
Surgery                                       55                121
Pre_PS                                        34                122
performance_hospital_DC                       40                123
ILD                                           75                125
prev_rtx                                      38                125
respfailure                                   68                125
PDT                                           61                126
CTxinICU                                      69                129
ICUreadmission                                66                129
postICUCtx                                    78                129
smk_hx                                        56                130
RRT                                           72                134
prev_ctx                                      71                135
prevCPR                                       70                137
DNR_at_ICU                                    64                141
PoorPS                                        65                141
ECMO                                          86                142
PCC                                           85                144
Underlying_CV                                 77                148
Tracheostomy                                  79                151
postICUCPR                                    74                152
dx_after_adm                                  73                153
preICUDNR                                     87                155
WBRT                                          81                156
postICURT                                     88                157
PrevICUadm                                    84                157
other_malignancy                              76                160
neurology                                     82                161
prev_gks                                      80                162
Underlying_stroke                             83                164
number of selected top features: 9
selected top features: 
[1] "ANC"             "WBC"             "neutropenia"     "AKI"            
[5] "CRP"             "PT_percent"      "BUN"             "bacteremia"     
[9] "Vasoactiveagent"

[Training Random Forests classifier on the training set with only the top  9  features]

[Applying the trained Random Forests classifier on the test set with only the top  9  features]

PR AUC (integral) 	0.4952117
ROC AUC 		0.7714286

Brier score =  0.139  (best value: 0; worst value: 1)

TOTAL:

 FN =  4  /  5 	 (truth == 1) & (prediction < threshold)
 TP =  1  /  5 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  21 	 (truth == 0) & (prediction >= threshold)
 TN =  20  /  21 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.225 	 0.286 	 	0.808 	 	0.200 	 	0.952		0.500	 	0.833	 	0.495	0.771

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.938205e-02           1
neutropenia                     1.435190e-02           2
WBC                             1.127477e-02           4
AKI                             1.144215e-02           3
PT_percent                      6.359261e-03           7
CRP                             5.551888e-03           9
bacteremia                      8.627349e-03           5
PLT                             5.227187e-03          12
BUN                             4.441513e-03          13
SOFA_D1                         5.294101e-03          11
Death_Cause                     5.508084e-03          10
APACH_II                        3.730477e-03          16
timefromdx                      1.926074e-03          19
Vasoactiveagent                 6.449898e-03           6
Pneumonia                       5.589336e-03           8
CRRT                            4.033136e-03          15
SAPS_II                         1.470678e-03          21
thrombocytopenia                4.046327e-03          14
Albumin                         1.057739e-03          25
Cause_Ca_problem                3.060767e-03          18
hospital_LOS                    9.582115e-04          27
prev_wbrt                       3.067784e-03          17
MV_days                         1.421799e-03          22
PaO2FiO2                        5.248132e-04          32
post_dc_days                    9.904907e-04          26
post_icu_survival               1.210882e-03          23
ICU_cause_intensivist           1.671991e-03          20
age                             4.752149e-04          35
ICU_mortal30                    1.149753e-03          24
ICU_LOS                         3.539225e-04          36
underlying_pulmo                7.235599e-04          29
NewlyDx                         8.194999e-04          28
prev_ccrt                       6.204643e-04          31
aPTT                            7.363609e-05          57
pulmocomorbid                   3.189876e-04          37
StageNum                        2.101986e-04          43
histologyNum                    1.050789e-04          53
post2011                        5.074047e-04          34
cardiovasc                      6.752753e-04          30
ICUCPR                          2.979770e-04          40
Intensivist                     3.136606e-04          38
Refractory                      1.952033e-04          46
ICU_Death                       5.095261e-04          33
DischargefromICU                2.809683e-04          41
HFNC                            1.794493e-04          48
hypoalbuminemia                 2.088099e-04          45
performance_ICU_DC              7.127388e-05          59
procalcitonin                   7.246069e-06          63
anemia                          2.388770e-04          42
Hospital_death                  3.070130e-04          39
sex                             1.057252e-04          52
Distatntmets                    2.367733e-05          61
preICUDNR                       1.240919e-04          49
respfailure                     2.096964e-04          44
Hb                             -2.347120e-04          88
prev_rtx                       -9.558802e-05          80
CTxinICU                        9.199414e-05          54
performance_hospital_DC        -8.436798e-05          77
MV                              1.233953e-04          50
Pre_PS                         -1.559669e-04          85
prev_ctx                        1.125802e-04          51
ICUreadmission                  8.767949e-05          55
ILD                             1.799819e-04          47
HD                              8.613615e-05          56
Underlying_DM                  -5.740626e-05          73
smk_hx                         -5.972961e-05          74
DNR_at_ICU                     -2.434218e-05          69
DNR                            -1.473420e-04          84
RRT                             5.116524e-05          60
prevCPR                        -1.254564e-05          68
PCC                             7.278273e-05          58
PoorPS                         -1.952151e-04          86
postICUCtx                      3.464800e-06          66
PDT                            -9.151371e-05          79
Surgery                        -1.182712e-04          83
neurology                       4.698832e-06          65
Underlying_CV                  -3.061385e-05          70
ECMO                            1.869851e-05          62
postICUCPR                     -6.089097e-05          76
Tracheostomy                    7.071868e-06          64
BIPAP                          -9.071332e-05          78
PrevICUadm                     -3.169375e-05          71
postICURT                      -2.456903e-06          67
WBRT                           -6.022586e-05          75
Underlying_stroke              -4.687609e-05          72
dx_after_adm                   -1.003350e-04          81
other_malignancy               -2.081466e-04          87
prev_gks                       -1.169382e-04          82
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      7.094121943            1
neutropenia                         neutropenia      4.255811717            3
WBC                                         WBC      5.732795094            2
AKI                                         AKI      3.453143652            6
PT_percent                           PT_percent      3.760545112            5
CRP                                         CRP      3.789084151            4
bacteremia                           bacteremia      2.408845406           12
PLT                                         PLT      3.239761305            7
BUN                                         BUN      3.173387298            8
SOFA_D1                                 SOFA_D1      2.925557569           10
Death_Cause                         Death_Cause      1.939289714           16
APACH_II                               APACH_II      2.738743578           11
timefromdx                           timefromdx      3.093250126            9
Vasoactiveagent                 Vasoactiveagent      1.566603291           23
Pneumonia                             Pneumonia      1.659068981           22
CRRT                                       CRRT      1.754923116           19
SAPS_II                                 SAPS_II      1.947482899           15
thrombocytopenia               thrombocytopenia      1.357098639           24
Albumin                                 Albumin      2.062236044           14
Cause_Ca_problem               Cause_Ca_problem      1.710804629           21
hospital_LOS                       hospital_LOS      2.397005307           13
prev_wbrt                             prev_wbrt      1.079618889           29
MV_days                                 MV_days      1.341999346           26
PaO2FiO2                               PaO2FiO2      1.774965897           18
post_dc_days                       post_dc_days      1.289460684           27
post_icu_survival             post_icu_survival      1.037698392           30
ICU_cause_intensivist     ICU_cause_intensivist      0.706664336           34
age                                         age      1.724637561           20
ICU_mortal30                       ICU_mortal30      0.532037912           39
ICU_LOS                                 ICU_LOS      1.171998674           28
underlying_pulmo               underlying_pulmo      0.618371894           37
NewlyDx                                 NewlyDx      0.471767471           42
prev_ccrt                             prev_ccrt      0.475275365           41
aPTT                                       aPTT      1.807857032           17
pulmocomorbid                     pulmocomorbid      0.406989421           43
StageNum                               StageNum      0.579591635           38
histologyNum                       histologyNum      0.888164380           31
post2011                               post2011      0.324095937           50
cardiovasc                           cardiovasc      0.301800256           55
ICUCPR                                   ICUCPR      0.346743459           47
Intensivist                         Intensivist      0.322499102           51
Refractory                           Refractory      0.390756313           44
ICU_Death                             ICU_Death      0.283993884           60
DischargefromICU               DischargefromICU      0.314657376           53
HFNC                                       HFNC      0.370767314           46
hypoalbuminemia                 hypoalbuminemia      0.329306821           49
performance_ICU_DC           performance_ICU_DC      0.635176421           35
procalcitonin                     procalcitonin      0.844205941           32
anemia                                   anemia      0.288825128           57
Hospital_death                   Hospital_death      0.279624087           61
sex                                         sex      0.320044441           52
Distatntmets                       Distatntmets      0.380953991           45
preICUDNR                             preICUDNR      0.287755032           58
respfailure                         respfailure      0.209358360           65
Hb                                           Hb      1.348992683           25
prev_rtx                               prev_rtx      0.625280298           36
CTxinICU                               CTxinICU      0.249783524           63
performance_hospital_DC performance_hospital_DC      0.510110489           40
MV                                           MV      0.201076982           68
Pre_PS                                   Pre_PS      0.760204293           33
prev_ctx                               prev_ctx      0.198699316           69
ICUreadmission                   ICUreadmission      0.207056901           66
ILD                                         ILD      0.133209948           76
HD                                           HD      0.193975686           70
Underlying_DM                     Underlying_DM      0.312931244           54
smk_hx                                   smk_hx      0.290044129           56
DNR_at_ICU                           DNR_at_ICU      0.273779977           62
DNR                                         DNR      0.346486738           48
RRT                                         RRT      0.166121524           73
prevCPR                                 prevCPR      0.189569273           71
PCC                                         PCC      0.055655373           85
PoorPS                                   PoorPS      0.285240852           59
postICUCtx                           postICUCtx      0.115436307           79
PDT                                         PDT      0.206553613           67
Surgery                                 Surgery      0.233603526           64
neurology                             neurology      0.073438621           83
Underlying_CV                     Underlying_CV      0.118109167           78
ECMO                                       ECMO      0.033790383           87
postICUCPR                           postICUCPR      0.155752378           74
Tracheostomy                       Tracheostomy      0.041283525           86
BIPAP                                     BIPAP      0.145521640           75
PrevICUadm                           PrevICUadm      0.087172316           82
postICURT                             postICURT      0.008072056           88
WBRT                                       WBRT      0.111903998           80
Underlying_stroke             Underlying_stroke      0.066953529           84
dx_after_adm                       dx_after_adm      0.130519968           77
other_malignancy               other_malignancy      0.167836311           72
prev_gks                               prev_gks      0.107142201           81
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
neutropenia                  5        2                            2
WBC                          6        3                            4
AKI                          9        4                            3
PT_percent                  12        5                            7
CRP                         13        6                            9
bacteremia                  17        7                            5
PLT                         19        8                           12
BUN                         21        9                           13
SOFA_D1                     21       10                           11
Death_Cause                 26       11                           10
APACH_II                    27       12                           16
timefromdx                  28       13                           19
Vasoactiveagent             29       14                            6
Pneumonia                   30       15                            8
CRRT                        34       16                           15
SAPS_II                     36       17                           21
thrombocytopenia            38       18                           14
Albumin                     39       19                           25
Cause_Ca_problem            39       20                           18
hospital_LOS                40       21                           27
prev_wbrt                   46       22                           17
MV_days                     48       23                           22
PaO2FiO2                    50       24                           32
post_dc_days                53       25                           26
post_icu_survival           53       26                           23
ICU_cause_intensivist       54       27                           20
age                         55       28                           35
ICU_mortal30                63       29                           24
ICU_LOS                     64       30                           36
underlying_pulmo            66       31                           29
NewlyDx                     70       32                           28
prev_ccrt                   72       33                           31
aPTT                        74       34                           57
pulmocomorbid               80       35                           37
StageNum                    81       36                           43
histologyNum                84       37                           53
post2011                    84       38                           34
cardiovasc                  85       39                           30
ICUCPR                      87       40                           40
Intensivist                 89       41                           38
Refractory                  90       42                           46
ICU_Death                   93       43                           33
DischargefromICU            94       44                           41
HFNC                        94       45                           48
hypoalbuminemia             94       46                           45
performance_ICU_DC          94       47                           59
procalcitonin               95       48                           63
anemia                      99       49                           42
Hospital_death             100       50                           39
sex                        104       51                           52
Distatntmets               106       52                           61
preICUDNR                  107       53                           49
respfailure                109       54                           44
Hb                         113       55                           88
prev_rtx                   116       56                           80
CTxinICU                   117       57                           54
performance_hospital_DC    117       58                           77
MV                         118       59                           50
Pre_PS                     118       60                           85
prev_ctx                   120       61                           51
ICUreadmission             121       62                           55
ILD                        123       63                           47
HD                         126       64                           56
Underlying_DM              127       65                           73
smk_hx                     130       66                           74
DNR_at_ICU                 131       67                           69
DNR                        132       68                           84
RRT                        133       69                           60
prevCPR                    139       70                           68
PCC                        143       71                           58
PoorPS                     145       72                           86
postICUCtx                 145       73                           66
PDT                        146       74                           79
Surgery                    147       75                           83
neurology                  148       76                           65
Underlying_CV              148       77                           70
ECMO                       149       78                           62
postICUCPR                 150       79                           76
Tracheostomy               150       80                           64
BIPAP                      153       81                           78
PrevICUadm                 153       82                           71
postICURT                  155       83                           67
WBRT                       155       84                           75
Underlying_stroke          156       85                           72
dx_after_adm               158       86                           81
other_malignancy           159       87                           87
prev_gks                   163       88                           82
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
neutropenia                                    3                  5
WBC                                            2                  6
AKI                                            6                  9
PT_percent                                     5                 12
CRP                                            4                 13
bacteremia                                    12                 17
PLT                                            7                 19
BUN                                            8                 21
SOFA_D1                                       10                 21
Death_Cause                                   16                 26
APACH_II                                      11                 27
timefromdx                                     9                 28
Vasoactiveagent                               23                 29
Pneumonia                                     22                 30
CRRT                                          19                 34
SAPS_II                                       15                 36
thrombocytopenia                              24                 38
Albumin                                       14                 39
Cause_Ca_problem                              21                 39
hospital_LOS                                  13                 40
prev_wbrt                                     29                 46
MV_days                                       26                 48
PaO2FiO2                                      18                 50
post_dc_days                                  27                 53
post_icu_survival                             30                 53
ICU_cause_intensivist                         34                 54
age                                           20                 55
ICU_mortal30                                  39                 63
ICU_LOS                                       28                 64
underlying_pulmo                              37                 66
NewlyDx                                       42                 70
prev_ccrt                                     41                 72
aPTT                                          17                 74
pulmocomorbid                                 43                 80
StageNum                                      38                 81
histologyNum                                  31                 84
post2011                                      50                 84
cardiovasc                                    55                 85
ICUCPR                                        47                 87
Intensivist                                   51                 89
Refractory                                    44                 90
ICU_Death                                     60                 93
DischargefromICU                              53                 94
HFNC                                          46                 94
hypoalbuminemia                               49                 94
performance_ICU_DC                            35                 94
procalcitonin                                 32                 95
anemia                                        57                 99
Hospital_death                                61                100
sex                                           52                104
Distatntmets                                  45                106
preICUDNR                                     58                107
respfailure                                   65                109
Hb                                            25                113
prev_rtx                                      36                116
CTxinICU                                      63                117
performance_hospital_DC                       40                117
MV                                            68                118
Pre_PS                                        33                118
prev_ctx                                      69                120
ICUreadmission                                66                121
ILD                                           76                123
HD                                            70                126
Underlying_DM                                 54                127
smk_hx                                        56                130
DNR_at_ICU                                    62                131
DNR                                           48                132
RRT                                           73                133
prevCPR                                       71                139
PCC                                           85                143
PoorPS                                        59                145
postICUCtx                                    79                145
PDT                                           67                146
Surgery                                       64                147
neurology                                     83                148
Underlying_CV                                 78                148
ECMO                                          87                149
postICUCPR                                    74                150
Tracheostomy                                  86                150
BIPAP                                         75                153
PrevICUadm                                    82                153
postICURT                                     88                155
WBRT                                          80                155
Underlying_stroke                             84                156
dx_after_adm                                  77                158
other_malignancy                              72                159
prev_gks                                      81                163
number of selected top features: 9
selected top features: 
[1] "ANC"         "neutropenia" "WBC"         "AKI"         "PT_percent" 
[6] "CRP"         "bacteremia"  "PLT"         "BUN"        

[Training Random Forests classifier on the training set with only the top  9  features]

[Applying the trained Random Forests classifier on the test set with only the top  9  features]

PR AUC (integral) 	0.6142841
ROC AUC 		0.8083333

Brier score =  0.170  (best value: 0; worst value: 1)

TOTAL:

 FN =  2  /  6 	 (truth == 1) & (prediction < threshold)
 TP =  4  /  6 	 (truth == 1) & (prediction >= threshold)

 FP =  4  /  20 	 (truth == 0) & (prediction >= threshold)
 TN =  16  /  20 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.426 	 0.571 	 	0.769 	 	0.667 	 	0.800		0.500	 	0.889	 	0.614	0.808

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.446495e-02           2
neutropenia                     1.608124e-02           1
WBC                             9.267066e-03           4
AKI                             1.294935e-02           3
PT_percent                      4.874360e-03           8
SOFA_D1                         6.220921e-03           5
BUN                             4.144443e-03          12
PLT                             4.273560e-03          11
CRP                             3.801058e-03          13
Vasoactiveagent                 5.661050e-03           6
APACH_II                        3.770037e-03          14
Death_Cause                     5.532945e-03           7
bacteremia                      4.496455e-03          10
hospital_LOS                    1.319623e-03          21
Albumin                         1.663714e-03          20
Pneumonia                       4.716524e-03           9
SAPS_II                         1.875016e-03          19
Cause_Ca_problem                2.570591e-03          17
timefromdx                      8.081378e-04          26
thrombocytopenia                3.251977e-03          15
CRRT                            2.348272e-03          18
prev_wbrt                       3.092075e-03          16
age                             5.729954e-04          29
PaO2FiO2                        5.859853e-04          28
post_dc_days                    8.978285e-04          24
MV_days                         6.223224e-04          27
post_icu_survival               9.292649e-04          23
ICU_cause_intensivist           8.293352e-04          25
ICU_mortal30                    1.101728e-03          22
aPTT                            5.858657e-05          57
HFNC                            3.869526e-04          32
Underlying_DM                   3.605914e-04          34
procalcitonin                   1.394425e-04          47
StageNum                        1.993821e-04          41
underlying_pulmo                2.119163e-04          40
ICU_LOS                         5.260227e-05          58
anemia                          3.868227e-04          33
histologyNum                    9.843611e-05          54
hypoalbuminemia                 1.947634e-04          42
ICU_Death                       5.700560e-04          30
post2011                        2.945407e-04          37
sex                             2.469380e-04          39
DNR                             1.738359e-04          44
Hospital_death                  5.373568e-04          31
prev_ccrt                       3.164648e-04          36
pulmocomorbid                   1.456460e-04          46
Refractory                      1.314176e-04          48
Hb                             -4.087869e-05          74
HD                              2.490253e-04          38
performance_hospital_DC         3.711665e-05          61
Distatntmets                    4.503373e-05          60
Intensivist                     7.622136e-05          55
cardiovasc                      3.215825e-04          35
DischargefromICU                1.181252e-04          51
ICUCPR                          1.629504e-04          45
prev_rtx                       -1.241768e-05          72
preICUDNR                       1.277193e-04          49
MV                              1.844991e-04          43
CTxinICU                        1.158786e-04          53
prev_ctx                        1.176423e-04          52
Pre_PS                         -2.138958e-04          86
respfailure                     1.241433e-04          50
NewlyDx                         1.012172e-05          69
Surgery                         3.515293e-05          62
performance_ICU_DC             -2.260683e-04          87
PDT                             3.382923e-05          63
BIPAP                           2.198756e-05          65
smk_hx                         -1.203433e-04          84
ICUreadmission                  7.417573e-06          70
PoorPS                         -7.305085e-05          79
postICUCtx                      4.803386e-05          59
PCC                             6.682650e-05          56
RRT                             1.988440e-05          67
dx_after_adm                   -4.240716e-05          75
ILD                             2.051930e-05          66
ECMO                            2.977181e-05          64
DNR_at_ICU                     -2.488079e-04          88
postICUCPR                     -5.308817e-05          78
Tracheostomy                   -4.406893e-05          76
PrevICUadm                      1.582988e-05          68
prevCPR                        -9.352165e-05          82
neurology                      -3.348506e-05          73
WBRT                           -4.920021e-05          77
other_malignancy               -1.752971e-04          85
postICURT                       8.405716e-08          71
Underlying_CV                  -9.498119e-05          83
prev_gks                       -8.841929e-05          80
Underlying_stroke              -9.251726e-05          81
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.159784604            1
neutropenia                         neutropenia      4.218026576            3
WBC                                         WBC      5.110241513            2
AKI                                         AKI      3.613454203            4
PT_percent                           PT_percent      3.466890046            6
SOFA_D1                                 SOFA_D1      3.152186702            9
BUN                                         BUN      3.481908816            5
PLT                                         PLT      3.392681284            8
CRP                                         CRP      3.414189526            7
Vasoactiveagent                 Vasoactiveagent      1.914713823           16
APACH_II                               APACH_II      2.746056952           10
Death_Cause                         Death_Cause      1.723650596           20
bacteremia                           bacteremia      1.651838280           22
hospital_LOS                       hospital_LOS      2.693305583           11
Albumin                                 Albumin      2.270174946           13
Pneumonia                             Pneumonia      1.430500219           24
SAPS_II                                 SAPS_II      2.267592672           14
Cause_Ca_problem               Cause_Ca_problem      1.775619900           18
timefromdx                           timefromdx      2.650127740           12
thrombocytopenia               thrombocytopenia      1.212552450           28
CRRT                                       CRRT      1.265055115           27
prev_wbrt                             prev_wbrt      1.134757888           29
age                                         age      1.839705909           17
PaO2FiO2                               PaO2FiO2      1.762272038           19
post_dc_days                       post_dc_days      1.302486511           25
MV_days                                 MV_days      1.454981482           23
post_icu_survival             post_icu_survival      0.964746026           31
ICU_cause_intensivist     ICU_cause_intensivist      0.674575198           34
ICU_mortal30                       ICU_mortal30      0.443227046           43
aPTT                                       aPTT      2.070927038           15
HFNC                                       HFNC      0.490598775           41
Underlying_DM                     Underlying_DM      0.557652289           39
procalcitonin                     procalcitonin      1.086299316           30
StageNum                               StageNum      0.609915831           36
underlying_pulmo               underlying_pulmo      0.518477989           40
ICU_LOS                                 ICU_LOS      1.290015369           26
anemia                                   anemia      0.331013106           52
histologyNum                       histologyNum      0.902430131           32
hypoalbuminemia                 hypoalbuminemia      0.410290871           44
ICU_Death                             ICU_Death      0.301509787           56
post2011                               post2011      0.336359759           49
sex                                         sex      0.343319927           48
DNR                                         DNR      0.375856926           45
Hospital_death                   Hospital_death      0.294828095           58
prev_ccrt                             prev_ccrt      0.324616860           54
pulmocomorbid                     pulmocomorbid      0.356048066           47
Refractory                           Refractory      0.356607451           46
Hb                                           Hb      1.662059276           21
HD                                           HD      0.295278026           57
performance_hospital_DC performance_hospital_DC      0.568255706           38
Distatntmets                       Distatntmets      0.466287834           42
Intensivist                         Intensivist      0.335987642           50
cardiovasc                           cardiovasc      0.198493699           71
DischargefromICU               DischargefromICU      0.308738053           55
ICUCPR                                   ICUCPR      0.277172017           61
prev_rtx                               prev_rtx      0.599144677           37
preICUDNR                             preICUDNR      0.267766737           63
MV                                           MV      0.207674180           70
CTxinICU                               CTxinICU      0.276731556           62
prev_ctx                               prev_ctx      0.263761903           65
Pre_PS                                   Pre_PS      0.715980016           33
respfailure                         respfailure      0.212860351           69
NewlyDx                                 NewlyDx      0.333544194           51
Surgery                                 Surgery      0.290695077           59
performance_ICU_DC           performance_ICU_DC      0.622336865           35
PDT                                         PDT      0.252508473           66
BIPAP                                     BIPAP      0.225085940           67
smk_hx                                   smk_hx      0.327480097           53
ICUreadmission                   ICUreadmission      0.218334640           68
PoorPS                                   PoorPS      0.282085405           60
postICUCtx                           postICUCtx      0.096014232           80
PCC                                         PCC      0.054735861           86
RRT                                         RRT      0.114228982           78
dx_after_adm                       dx_after_adm      0.134901150           75
ILD                                         ILD      0.085738751           84
ECMO                                       ECMO      0.029333451           87
DNR_at_ICU                           DNR_at_ICU      0.265429012           64
postICUCPR                           postICUCPR      0.136684418           74
Tracheostomy                       Tracheostomy      0.133746040           76
PrevICUadm                           PrevICUadm      0.068869548           85
prevCPR                                 prevCPR      0.171566430           72
neurology                             neurology      0.089332121           82
WBRT                                       WBRT      0.111305614           79
other_malignancy               other_malignancy      0.153275028           73
postICURT                             postICURT      0.006522424           88
Underlying_CV                     Underlying_CV      0.128214911           77
prev_gks                               prev_gks      0.091394648           81
Underlying_stroke             Underlying_stroke      0.086693197           83
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          3        1                            2
neutropenia                  4        2                            1
WBC                          6        3                            4
AKI                          7        4                            3
PT_percent                  14        5                            8
SOFA_D1                     14        6                            5
BUN                         17        7                           12
PLT                         19        8                           11
CRP                         20        9                           13
Vasoactiveagent             22       10                            6
APACH_II                    24       11                           14
Death_Cause                 27       12                            7
bacteremia                  32       13                           10
hospital_LOS                32       14                           21
Albumin                     33       15                           20
Pneumonia                   33       16                            9
SAPS_II                     33       17                           19
Cause_Ca_problem            35       18                           17
timefromdx                  38       19                           26
thrombocytopenia            43       20                           15
CRRT                        45       21                           18
prev_wbrt                   45       22                           16
age                         46       23                           29
PaO2FiO2                    47       24                           28
post_dc_days                49       25                           24
MV_days                     50       26                           27
post_icu_survival           54       27                           23
ICU_cause_intensivist       59       28                           25
ICU_mortal30                65       29                           22
aPTT                        72       30                           57
HFNC                        73       31                           32
Underlying_DM               73       32                           34
procalcitonin               77       33                           47
StageNum                    77       34                           41
underlying_pulmo            80       35                           40
ICU_LOS                     84       36                           58
anemia                      85       37                           33
histologyNum                86       38                           54
hypoalbuminemia             86       39                           42
ICU_Death                   86       40                           30
post2011                    86       41                           37
sex                         87       42                           39
DNR                         89       43                           44
Hospital_death              89       44                           31
prev_ccrt                   90       45                           36
pulmocomorbid               93       46                           46
Refractory                  94       47                           48
Hb                          95       48                           74
HD                          95       49                           38
performance_hospital_DC     99       50                           61
Distatntmets               102       51                           60
Intensivist                105       52                           55
cardiovasc                 106       53                           35
DischargefromICU           106       54                           51
ICUCPR                     106       55                           45
prev_rtx                   109       56                           72
preICUDNR                  112       57                           49
MV                         113       58                           43
CTxinICU                   115       59                           53
prev_ctx                   117       60                           52
Pre_PS                     119       61                           86
respfailure                119       62                           50
NewlyDx                    120       63                           69
Surgery                    121       64                           62
performance_ICU_DC         122       65                           87
PDT                        129       66                           63
BIPAP                      132       67                           65
smk_hx                     137       68                           84
ICUreadmission             138       69                           70
PoorPS                     139       70                           79
postICUCtx                 139       71                           59
PCC                        142       72                           56
RRT                        145       73                           67
dx_after_adm               150       74                           75
ILD                        150       75                           66
ECMO                       151       76                           64
DNR_at_ICU                 152       77                           88
postICUCPR                 152       78                           78
Tracheostomy               152       79                           76
PrevICUadm                 153       80                           68
prevCPR                    154       81                           82
neurology                  155       82                           73
WBRT                       156       83                           77
other_malignancy           158       84                           85
postICURT                  159       85                           71
Underlying_CV              160       86                           83
prev_gks                   161       87                           80
Underlying_stroke          164       88                           81
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  3
neutropenia                                    3                  4
WBC                                            2                  6
AKI                                            4                  7
PT_percent                                     6                 14
SOFA_D1                                        9                 14
BUN                                            5                 17
PLT                                            8                 19
CRP                                            7                 20
Vasoactiveagent                               16                 22
APACH_II                                      10                 24
Death_Cause                                   20                 27
bacteremia                                    22                 32
hospital_LOS                                  11                 32
Albumin                                       13                 33
Pneumonia                                     24                 33
SAPS_II                                       14                 33
Cause_Ca_problem                              18                 35
timefromdx                                    12                 38
thrombocytopenia                              28                 43
CRRT                                          27                 45
prev_wbrt                                     29                 45
age                                           17                 46
PaO2FiO2                                      19                 47
post_dc_days                                  25                 49
MV_days                                       23                 50
post_icu_survival                             31                 54
ICU_cause_intensivist                         34                 59
ICU_mortal30                                  43                 65
aPTT                                          15                 72
HFNC                                          41                 73
Underlying_DM                                 39                 73
procalcitonin                                 30                 77
StageNum                                      36                 77
underlying_pulmo                              40                 80
ICU_LOS                                       26                 84
anemia                                        52                 85
histologyNum                                  32                 86
hypoalbuminemia                               44                 86
ICU_Death                                     56                 86
post2011                                      49                 86
sex                                           48                 87
DNR                                           45                 89
Hospital_death                                58                 89
prev_ccrt                                     54                 90
pulmocomorbid                                 47                 93
Refractory                                    46                 94
Hb                                            21                 95
HD                                            57                 95
performance_hospital_DC                       38                 99
Distatntmets                                  42                102
Intensivist                                   50                105
cardiovasc                                    71                106
DischargefromICU                              55                106
ICUCPR                                        61                106
prev_rtx                                      37                109
preICUDNR                                     63                112
MV                                            70                113
CTxinICU                                      62                115
prev_ctx                                      65                117
Pre_PS                                        33                119
respfailure                                   69                119
NewlyDx                                       51                120
Surgery                                       59                121
performance_ICU_DC                            35                122
PDT                                           66                129
BIPAP                                         67                132
smk_hx                                        53                137
ICUreadmission                                68                138
PoorPS                                        60                139
postICUCtx                                    80                139
PCC                                           86                142
RRT                                           78                145
dx_after_adm                                  75                150
ILD                                           84                150
ECMO                                          87                151
DNR_at_ICU                                    64                152
postICUCPR                                    74                152
Tracheostomy                                  76                152
PrevICUadm                                    85                153
prevCPR                                       72                154
neurology                                     82                155
WBRT                                          79                156
other_malignancy                              73                158
postICURT                                     88                159
Underlying_CV                                 77                160
prev_gks                                      81                161
Underlying_stroke                             83                164
number of selected top features: 9
selected top features: 
[1] "ANC"         "neutropenia" "WBC"         "AKI"         "PT_percent" 
[6] "SOFA_D1"     "BUN"         "PLT"         "CRP"        

[Training Random Forests classifier on the training set with only the top  9  features]

[Applying the trained Random Forests classifier on the test set with only the top  9  features]

PR AUC (integral) 	0.7760533
ROC AUC 		0.8646617

Brier score =  0.130  (best value: 0; worst value: 1)

TOTAL:

 FN =  3  /  7 	 (truth == 1) & (prediction < threshold)
 TP =  4  /  7 	 (truth == 1) & (prediction >= threshold)

 FP =  2  /  19 	 (truth == 0) & (prediction >= threshold)
 TN =  17  /  19 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.491 	 0.615 	 	0.808 	 	0.571 	 	0.895		0.667	 	0.850	 	0.776	0.865

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
AKI                             2.033449e-02           1
ANC                             9.999666e-03           2
WBC                             8.303557e-03           4
PT_percent                      8.157179e-03           5
BUN                             6.355514e-03           8
bacteremia                      9.255074e-03           3
SOFA_D1                         7.297090e-03           6
CRP                             6.277379e-03           9
APACH_II                        6.162695e-03          11
Death_Cause                     6.616046e-03           7
neutropenia                     6.236357e-03          10
PLT                             3.164094e-03          16
timefromdx                      2.330638e-03          18
CRRT                            4.944233e-03          13
Vasoactiveagent                 5.401387e-03          12
hospital_LOS                    1.224860e-03          22
SAPS_II                         1.468797e-03          20
Albumin                         1.135326e-03          23
Cause_Ca_problem                2.493375e-03          17
Pneumonia                       3.263967e-03          15
prev_wbrt                       3.307574e-03          14
MV_days                         1.107796e-03          24
thrombocytopenia                2.014844e-03          19
post_dc_days                    8.465788e-04          26
age                             4.556412e-04          34
ICU_cause_intensivist           1.256479e-03          21
post_icu_survival               1.016491e-03          25
histologyNum                    8.146738e-04          27
PaO2FiO2                        3.308598e-04          37
ICU_LOS                         3.301137e-04          38
HFNC                            7.863860e-04          29
prev_ccrt                       5.886343e-04          30
ICU_mortal30                    7.966519e-04          28
underlying_pulmo                2.722065e-04          40
aPTT                            6.442666e-05          59
pulmocomorbid                   3.940743e-04          35
NewlyDx                         3.665425e-04          36
Underlying_DM                   2.532060e-04          41
procalcitonin                   9.857985e-05          54
Distatntmets                    1.952820e-04          42
ICUCPR                          3.185206e-04          39
cardiovasc                      5.604965e-04          32
Hospital_death                  5.663276e-04          31
StageNum                        1.123396e-04          53
hypoalbuminemia                 1.274472e-04          49
ICU_Death                       5.118628e-04          33
HD                              1.804636e-04          45
Intensivist                     1.911265e-04          43
DischargefromICU                1.291910e-04          48
anemia                          1.776292e-04          46
performance_ICU_DC              1.793088e-06          67
preICUDNR                       1.188031e-04          51
DNR                             2.759604e-05          62
Hb                             -5.530831e-04          88
PoorPS                          6.471055e-05          58
MV                              1.617977e-04          47
respfailure                     1.246073e-04          50
Refractory                      1.349152e-05          65
sex                             1.175393e-04          52
ILD                             1.855563e-04          44
CTxinICU                        8.826321e-05          57
post2011                        9.334681e-05          56
Pre_PS                         -2.642205e-04          87
performance_hospital_DC        -1.268495e-04          83
prev_rtx                       -1.666549e-04          85
Surgery                        -2.976520e-05          70
BIPAP                           2.311714e-05          63
smk_hx                         -8.783642e-05          79
ICUreadmission                 -5.264738e-06          68
postICUCtx                      5.475671e-05          60
PCC                             9.469103e-05          55
prev_ctx                       -1.258447e-05          69
PDT                            -5.596836e-05          75
DNR_at_ICU                     -1.866394e-04          86
postICUCPR                     -4.107274e-05          73
neurology                       3.682008e-05          61
ECMO                            1.598646e-05          64
dx_after_adm                   -9.301449e-05          80
RRT                            -4.696413e-05          74
Tracheostomy                   -4.025396e-05          72
postICURT                       4.255319e-06          66
prevCPR                        -7.450335e-05          78
PrevICUadm                     -3.266248e-05          71
Underlying_CV                  -6.243703e-05          76
other_malignancy               -1.450976e-04          84
WBRT                           -1.107533e-04          81
Underlying_stroke              -6.289562e-05          77
prev_gks                       -1.188439e-04          82
                                       features MeanDecreaseGini secondColPos
AKI                                         AKI       5.30444037            1
ANC                                         ANC       5.18075135            2
WBC                                         WBC       4.61174879            3
PT_percent                           PT_percent       3.96763324            5
BUN                                         BUN       3.99601468            4
bacteremia                           bacteremia       2.67049330           11
SOFA_D1                                 SOFA_D1       3.27100124            8
CRP                                         CRP       3.84196762            6
APACH_II                               APACH_II       3.31653574            7
Death_Cause                         Death_Cause       2.18389471           15
neutropenia                         neutropenia       2.47313577           12
PLT                                         PLT       2.99977447           10
timefromdx                           timefromdx       3.05798931            9
CRRT                                       CRRT       2.08779131           17
Vasoactiveagent                 Vasoactiveagent       1.59239429           21
hospital_LOS                       hospital_LOS       2.45546424           13
SAPS_II                                 SAPS_II       2.13620190           16
Albumin                                 Albumin       2.24996134           14
Cause_Ca_problem               Cause_Ca_problem       1.53091573           22
Pneumonia                             Pneumonia       1.17712866           27
prev_wbrt                             prev_wbrt       1.16011065           28
MV_days                                 MV_days       1.42635983           24
thrombocytopenia               thrombocytopenia       0.91039707           31
post_dc_days                       post_dc_days       1.38209503           25
age                                         age       1.76890018           20
ICU_cause_intensivist     ICU_cause_intensivist       0.76967413           33
post_icu_survival             post_icu_survival       0.98586377           30
histologyNum                       histologyNum       1.00369690           29
PaO2FiO2                               PaO2FiO2       1.77476418           19
ICU_LOS                                 ICU_LOS       1.25334060           26
HFNC                                       HFNC       0.54655514           38
prev_ccrt                             prev_ccrt       0.45576276           41
ICU_mortal30                       ICU_mortal30       0.37040599           47
underlying_pulmo               underlying_pulmo       0.64127367           35
aPTT                                       aPTT       2.01283646           18
pulmocomorbid                     pulmocomorbid       0.41817680           43
NewlyDx                                 NewlyDx       0.41585214           44
Underlying_DM                     Underlying_DM       0.45523067           42
procalcitonin                     procalcitonin       0.86276542           32
Distatntmets                       Distatntmets       0.38875484           45
ICUCPR                                   ICUCPR       0.32393896           50
cardiovasc                           cardiovasc       0.28032321           58
Hospital_death                   Hospital_death       0.27415859           60
StageNum                               StageNum       0.45811236           40
hypoalbuminemia                 hypoalbuminemia       0.37530559           46
ICU_Death                             ICU_Death       0.26673429           62
HD                                           HD       0.30229193           51
Intensivist                         Intensivist       0.30005771           53
DischargefromICU               DischargefromICU       0.33862160           49
anemia                                   anemia       0.28326697           57
performance_ICU_DC           performance_ICU_DC       0.62945858           36
preICUDNR                             preICUDNR       0.28659355           55
DNR                                         DNR       0.34986807           48
Hb                                           Hb       1.49147130           23
PoorPS                                   PoorPS       0.28495312           56
MV                                           MV       0.22474583           68
respfailure                         respfailure       0.24741873           66
Refractory                           Refractory       0.30164361           52
sex                                         sex       0.25881337           65
ILD                                         ILD       0.14689302           74
CTxinICU                               CTxinICU       0.26193362           63
post2011                               post2011       0.26006570           64
Pre_PS                                   Pre_PS       0.74953930           34
performance_hospital_DC performance_hospital_DC       0.52208050           39
prev_rtx                               prev_rtx       0.62259733           37
Surgery                                 Surgery       0.27026481           61
BIPAP                                     BIPAP       0.20610885           70
smk_hx                                   smk_hx       0.29224292           54
ICUreadmission                   ICUreadmission       0.21420228           69
postICUCtx                           postICUCtx       0.13123765           77
PCC                                         PCC       0.08113985           83
prev_ctx                               prev_ctx       0.17505490           71
PDT                                         PDT       0.24394786           67
DNR_at_ICU                           DNR_at_ICU       0.27637472           59
postICUCPR                           postICUCPR       0.15187669           73
neurology                             neurology       0.06244605           86
ECMO                                       ECMO       0.02868051           87
dx_after_adm                       dx_after_adm       0.16152834           72
RRT                                         RRT       0.12850866           78
Tracheostomy                       Tracheostomy       0.08558853           81
postICURT                             postICURT       0.01209915           88
prevCPR                                 prevCPR       0.14064977           76
PrevICUadm                           PrevICUadm       0.08076942           84
Underlying_CV                     Underlying_CV       0.09533148           80
other_malignancy               other_malignancy       0.14500045           75
WBRT                                       WBRT       0.11110703           79
Underlying_stroke             Underlying_stroke       0.07611261           85
prev_gks                               prev_gks       0.08315802           82
                        posSum finalPos meanDecreaseAccuracyPosition
AKI                          2        1                            1
ANC                          4        2                            2
WBC                          7        3                            4
PT_percent                  10        4                            5
BUN                         12        5                            8
bacteremia                  14        6                            3
SOFA_D1                     14        7                            6
CRP                         15        8                            9
APACH_II                    18        9                           11
Death_Cause                 22       10                            7
neutropenia                 22       11                           10
PLT                         26       12                           16
timefromdx                  27       13                           18
CRRT                        30       14                           13
Vasoactiveagent             33       15                           12
hospital_LOS                35       16                           22
SAPS_II                     36       17                           20
Albumin                     37       18                           23
Cause_Ca_problem            39       19                           17
Pneumonia                   42       20                           15
prev_wbrt                   42       21                           14
MV_days                     48       22                           24
thrombocytopenia            50       23                           19
post_dc_days                51       24                           26
age                         54       25                           34
ICU_cause_intensivist       54       26                           21
post_icu_survival           55       27                           25
histologyNum                56       28                           27
PaO2FiO2                    56       29                           37
ICU_LOS                     64       30                           38
HFNC                        67       31                           29
prev_ccrt                   71       32                           30
ICU_mortal30                75       33                           28
underlying_pulmo            75       34                           40
aPTT                        77       35                           59
pulmocomorbid               78       36                           35
NewlyDx                     80       37                           36
Underlying_DM               83       38                           41
procalcitonin               86       39                           54
Distatntmets                87       40                           42
ICUCPR                      89       41                           39
cardiovasc                  90       42                           32
Hospital_death              91       43                           31
StageNum                    93       44                           53
hypoalbuminemia             95       45                           49
ICU_Death                   95       46                           33
HD                          96       47                           45
Intensivist                 96       48                           43
DischargefromICU            97       49                           48
anemia                     103       50                           46
performance_ICU_DC         103       51                           67
preICUDNR                  106       52                           51
DNR                        110       53                           62
Hb                         111       54                           88
PoorPS                     114       55                           58
MV                         115       56                           47
respfailure                116       57                           50
Refractory                 117       58                           65
sex                        117       59                           52
ILD                        118       60                           44
CTxinICU                   120       61                           57
post2011                   120       62                           56
Pre_PS                     121       63                           87
performance_hospital_DC    122       64                           83
prev_rtx                   122       65                           85
Surgery                    131       66                           70
BIPAP                      133       67                           63
smk_hx                     133       68                           79
ICUreadmission             137       69                           68
postICUCtx                 137       70                           60
PCC                        138       71                           55
prev_ctx                   140       72                           69
PDT                        142       73                           75
DNR_at_ICU                 145       74                           86
postICUCPR                 146       75                           73
neurology                  147       76                           61
ECMO                       151       77                           64
dx_after_adm               152       78                           80
RRT                        152       79                           74
Tracheostomy               153       80                           72
postICURT                  154       81                           66
prevCPR                    154       82                           78
PrevICUadm                 155       83                           71
Underlying_CV              156       84                           76
other_malignancy           159       85                           84
WBRT                       160       86                           81
Underlying_stroke          162       87                           77
prev_gks                   164       88                           82
                        meanDecreaseGiniPosition aggregatedPosition
AKI                                            1                  2
ANC                                            2                  4
WBC                                            3                  7
PT_percent                                     5                 10
BUN                                            4                 12
bacteremia                                    11                 14
SOFA_D1                                        8                 14
CRP                                            6                 15
APACH_II                                       7                 18
Death_Cause                                   15                 22
neutropenia                                   12                 22
PLT                                           10                 26
timefromdx                                     9                 27
CRRT                                          17                 30
Vasoactiveagent                               21                 33
hospital_LOS                                  13                 35
SAPS_II                                       16                 36
Albumin                                       14                 37
Cause_Ca_problem                              22                 39
Pneumonia                                     27                 42
prev_wbrt                                     28                 42
MV_days                                       24                 48
thrombocytopenia                              31                 50
post_dc_days                                  25                 51
age                                           20                 54
ICU_cause_intensivist                         33                 54
post_icu_survival                             30                 55
histologyNum                                  29                 56
PaO2FiO2                                      19                 56
ICU_LOS                                       26                 64
HFNC                                          38                 67
prev_ccrt                                     41                 71
ICU_mortal30                                  47                 75
underlying_pulmo                              35                 75
aPTT                                          18                 77
pulmocomorbid                                 43                 78
NewlyDx                                       44                 80
Underlying_DM                                 42                 83
procalcitonin                                 32                 86
Distatntmets                                  45                 87
ICUCPR                                        50                 89
cardiovasc                                    58                 90
Hospital_death                                60                 91
StageNum                                      40                 93
hypoalbuminemia                               46                 95
ICU_Death                                     62                 95
HD                                            51                 96
Intensivist                                   53                 96
DischargefromICU                              49                 97
anemia                                        57                103
performance_ICU_DC                            36                103
preICUDNR                                     55                106
DNR                                           48                110
Hb                                            23                111
PoorPS                                        56                114
MV                                            68                115
respfailure                                   66                116
Refractory                                    52                117
sex                                           65                117
ILD                                           74                118
CTxinICU                                      63                120
post2011                                      64                120
Pre_PS                                        34                121
performance_hospital_DC                       39                122
prev_rtx                                      37                122
Surgery                                       61                131
BIPAP                                         70                133
smk_hx                                        54                133
ICUreadmission                                69                137
postICUCtx                                    77                137
PCC                                           83                138
prev_ctx                                      71                140
PDT                                           67                142
DNR_at_ICU                                    59                145
postICUCPR                                    73                146
neurology                                     86                147
ECMO                                          87                151
dx_after_adm                                  72                152
RRT                                           78                152
Tracheostomy                                  81                153
postICURT                                     88                154
prevCPR                                       76                154
PrevICUadm                                    84                155
Underlying_CV                                 80                156
other_malignancy                              75                159
WBRT                                          79                160
Underlying_stroke                             85                162
prev_gks                                      82                164
number of selected top features: 9
selected top features: 
[1] "AKI"        "ANC"        "WBC"        "PT_percent" "BUN"       
[6] "bacteremia" "SOFA_D1"    "CRP"        "APACH_II"  

[Training Random Forests classifier on the training set with only the top  9  features]

[Applying the trained Random Forests classifier on the test set with only the top  9  features]

PR AUC (integral) 	0.5949524
ROC AUC 		0.7666667

Brier score =  0.154  (best value: 0; worst value: 1)

TOTAL:

 FN =  4  /  6 	 (truth == 1) & (prediction < threshold)
 TP =  2  /  6 	 (truth == 1) & (prediction >= threshold)

 FP =  2  /  20 	 (truth == 0) & (prediction >= threshold)
 TN =  18  /  20 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.272 	 0.400 	 	0.769 	 	0.333 	 	0.900		0.500	 	0.818	 	0.595	0.767

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.470243e-02           1
WBC                             9.360855e-03           4
neutropenia                     1.080402e-02           3
AKI                             1.140063e-02           2
PT_percent                      7.388336e-03           5
PLT                             6.055964e-03           9
bacteremia                      6.835827e-03           6
CRP                             4.103583e-03          14
SOFA_D1                         5.498988e-03          10
Death_Cause                     6.835108e-03           7
BUN                             2.531555e-03          18
APACH_II                        2.951172e-03          17
timefromdx                      1.961970e-03          21
CRRT                            4.498053e-03          13
Vasoactiveagent                 6.719051e-03           8
Albumin                         2.223713e-03          19
hospital_LOS                    1.871045e-03          22
thrombocytopenia                4.670098e-03          12
Cause_Ca_problem                3.481749e-03          15
Pneumonia                       4.989030e-03          11
SAPS_II                         8.366915e-04          28
age                             8.628437e-04          26
post_dc_days                    1.982063e-03          20
prev_wbrt                       2.951974e-03          16
MV_days                         8.573053e-04          27
post_icu_survival               1.313203e-03          25
ICU_cause_intensivist           1.376958e-03          24
ICU_mortal30                    1.688415e-03          23
PaO2FiO2                        3.902715e-04          39
aPTT                            1.665853e-04          48
Intensivist                     7.742773e-04          29
ICU_LOS                         2.627406e-04          43
underlying_pulmo                5.636908e-04          36
hypoalbuminemia                 6.609446e-04          32
prev_ccrt                       7.100692e-04          31
histologyNum                    2.540623e-04          44
StageNum                        3.187061e-04          42
post2011                        6.234002e-04          33
Hb                              7.514518e-05          58
ICU_Death                       7.497526e-04          30
HFNC                            3.653664e-04          40
pulmocomorbid                   4.915268e-04          38
NewlyDx                         5.169085e-04          37
Hospital_death                  6.000786e-04          34
ICUCPR                          3.269778e-04          41
cardiovasc                      5.888014e-04          35
CTxinICU                        2.004083e-04          46
DNR                             1.080310e-04          53
Underlying_DM                   1.481921e-04          49
DischargefromICU                1.768906e-04          47
anemia                          2.020204e-04          45
prev_rtx                       -3.320672e-06          69
sex                             8.017159e-05          57
Refractory                      5.211514e-05          60
Surgery                         1.195278e-04          52
BIPAP                           1.364228e-04          50
performance_hospital_DC        -3.518178e-05          73
procalcitonin                  -1.772203e-04          84
preICUDNR                       1.223513e-04          51
HD                              8.783872e-05          55
performance_ICU_DC             -1.757414e-04          83
MV                              9.417700e-05          54
Pre_PS                         -4.292802e-04          88
PDT                             3.261076e-05          64
respfailure                     4.681647e-05          62
prev_ctx                        5.077111e-05          61
Distatntmets                   -2.312826e-04          86
DNR_at_ICU                     -6.953204e-05          75
ILD                             7.012681e-05          59
PCC                             8.431116e-05          56
postICUCtx                      3.383850e-05          63
PoorPS                         -7.009823e-05          76
smk_hx                         -2.317217e-04          87
Tracheostomy                   -2.358239e-07          68
dx_after_adm                   -1.061866e-05          71
ICUreadmission                 -7.710503e-05          77
RRT                             6.777207e-06          67
prevCPR                        -8.024953e-05          78
ECMO                            3.094028e-05          65
postICUCPR                     -1.040013e-04          80
neurology                      -7.068868e-06          70
postICURT                       6.953926e-06          66
WBRT                           -5.101035e-05          74
PrevICUadm                     -2.738145e-05          72
Underlying_CV                  -8.158556e-05          79
other_malignancy               -1.955468e-04          85
prev_gks                       -1.080792e-04          81
Underlying_stroke              -1.146080e-04          82
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      5.992218128            1
WBC                                         WBC      5.014296904            2
neutropenia                         neutropenia      3.716202329            5
AKI                                         AKI      3.432455436            7
PT_percent                           PT_percent      3.843797594            4
PLT                                         PLT      3.929187256            3
bacteremia                           bacteremia      2.195981034           14
CRP                                         CRP      3.662785017            6
SOFA_D1                                 SOFA_D1      2.844555563           10
Death_Cause                         Death_Cause      2.157912827           15
BUN                                         BUN      2.986952216            9
APACH_II                               APACH_II      2.526157259           12
timefromdx                           timefromdx      3.083378908            8
CRRT                                       CRRT      1.883936924           18
Vasoactiveagent                 Vasoactiveagent      1.643391868           23
Albumin                                 Albumin      2.441317860           13
hospital_LOS                       hospital_LOS      2.761269247           11
thrombocytopenia               thrombocytopenia      1.719772945           22
Cause_Ca_problem               Cause_Ca_problem      1.744788163           20
Pneumonia                             Pneumonia      1.444908294           25
SAPS_II                                 SAPS_II      1.982474602           16
age                                         age      1.845352996           19
post_dc_days                       post_dc_days      1.441756981           26
prev_wbrt                             prev_wbrt      0.994623988           30
MV_days                                 MV_days      1.427507802           27
post_icu_survival             post_icu_survival      1.040408297           29
ICU_cause_intensivist     ICU_cause_intensivist      0.804337866           33
ICU_mortal30                       ICU_mortal30      0.612820884           37
PaO2FiO2                               PaO2FiO2      1.742241109           21
aPTT                                       aPTT      1.958233833           17
Intensivist                         Intensivist      0.516898706           41
ICU_LOS                                 ICU_LOS      1.274625107           28
underlying_pulmo               underlying_pulmo      0.660717397           35
hypoalbuminemia                 hypoalbuminemia      0.520275665           40
prev_ccrt                             prev_ccrt      0.470179279           44
histologyNum                       histologyNum      0.844304666           32
StageNum                               StageNum      0.656458249           36
post2011                               post2011      0.420759129           46
Hb                                           Hb      1.466037742           24
ICU_Death                             ICU_Death      0.356657071           52
HFNC                                       HFNC      0.478301740           43
pulmocomorbid                     pulmocomorbid      0.456001468           45
NewlyDx                                 NewlyDx      0.389027594           47
Hospital_death                   Hospital_death      0.325876068           55
ICUCPR                                   ICUCPR      0.329021122           54
cardiovasc                           cardiovasc      0.293769308           63
CTxinICU                               CTxinICU      0.322368116           56
DNR                                         DNR      0.374769982           49
Underlying_DM                     Underlying_DM      0.347316260           53
DischargefromICU               DischargefromICU      0.311717839           57
anemia                                   anemia      0.302893728           60
prev_rtx                               prev_rtx      0.563351616           39
sex                                         sex      0.358666084           51
Refractory                           Refractory      0.359700993           50
Surgery                                 Surgery      0.303189144           59
BIPAP                                     BIPAP      0.296431729           62
performance_hospital_DC performance_hospital_DC      0.489079306           42
procalcitonin                     procalcitonin      0.851863092           31
preICUDNR                             preICUDNR      0.223584171           67
HD                                           HD      0.248770906           66
performance_ICU_DC           performance_ICU_DC      0.582478875           38
MV                                           MV      0.214284915           68
Pre_PS                                   Pre_PS      0.674648226           34
PDT                                         PDT      0.256192746           65
respfailure                         respfailure      0.210984455           69
prev_ctx                               prev_ctx      0.187814688           71
Distatntmets                       Distatntmets      0.378867511           48
DNR_at_ICU                           DNR_at_ICU      0.300402372           61
ILD                                         ILD      0.124619945           79
PCC                                         PCC      0.095201364           83
postICUCtx                           postICUCtx      0.125959944           76
PoorPS                                   PoorPS      0.257604285           64
smk_hx                                   smk_hx      0.307474452           58
Tracheostomy                       Tracheostomy      0.125505809           77
dx_after_adm                       dx_after_adm      0.129213673           75
ICUreadmission                   ICUreadmission      0.203829582           70
RRT                                         RRT      0.118755176           80
prevCPR                                 prevCPR      0.169894244           72
ECMO                                       ECMO      0.039956778           87
postICUCPR                           postICUCPR      0.142173119           73
neurology                             neurology      0.090016668           84
postICURT                             postICURT      0.008369303           88
WBRT                                       WBRT      0.117000177           81
PrevICUadm                           PrevICUadm      0.076010715           85
Underlying_CV                     Underlying_CV      0.124830398           78
other_malignancy               other_malignancy      0.141880524           74
prev_gks                               prev_gks      0.101416552           82
Underlying_stroke             Underlying_stroke      0.070842931           86
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
WBC                          6        2                            4
neutropenia                  8        3                            3
AKI                          9        4                            2
PT_percent                   9        5                            5
PLT                         12        6                            9
bacteremia                  20        7                            6
CRP                         20        8                           14
SOFA_D1                     20        9                           10
Death_Cause                 22       10                            7
BUN                         27       11                           18
APACH_II                    29       12                           17
timefromdx                  29       13                           21
CRRT                        31       14                           13
Vasoactiveagent             31       15                            8
Albumin                     32       16                           19
hospital_LOS                33       17                           22
thrombocytopenia            34       18                           12
Cause_Ca_problem            35       19                           15
Pneumonia                   36       20                           11
SAPS_II                     44       21                           28
age                         45       22                           26
post_dc_days                46       23                           20
prev_wbrt                   46       24                           16
MV_days                     54       25                           27
post_icu_survival           54       26                           25
ICU_cause_intensivist       57       27                           24
ICU_mortal30                60       28                           23
PaO2FiO2                    60       29                           39
aPTT                        65       30                           48
Intensivist                 70       31                           29
ICU_LOS                     71       32                           43
underlying_pulmo            71       33                           36
hypoalbuminemia             72       34                           32
prev_ccrt                   75       35                           31
histologyNum                76       36                           44
StageNum                    78       37                           42
post2011                    79       38                           33
Hb                          82       39                           58
ICU_Death                   82       40                           30
HFNC                        83       41                           40
pulmocomorbid               83       42                           38
NewlyDx                     84       43                           37
Hospital_death              89       44                           34
ICUCPR                      95       45                           41
cardiovasc                  98       46                           35
CTxinICU                   102       47                           46
DNR                        102       48                           53
Underlying_DM              102       49                           49
DischargefromICU           104       50                           47
anemia                     105       51                           45
prev_rtx                   108       52                           69
sex                        108       53                           57
Refractory                 110       54                           60
Surgery                    111       55                           52
BIPAP                      112       56                           50
performance_hospital_DC    115       57                           73
procalcitonin              115       58                           84
preICUDNR                  118       59                           51
HD                         121       60                           55
performance_ICU_DC         121       61                           83
MV                         122       62                           54
Pre_PS                     122       63                           88
PDT                        129       64                           64
respfailure                131       65                           62
prev_ctx                   132       66                           61
Distatntmets               134       67                           86
DNR_at_ICU                 136       68                           75
ILD                        138       69                           59
PCC                        139       70                           56
postICUCtx                 139       71                           63
PoorPS                     140       72                           76
smk_hx                     145       73                           87
Tracheostomy               145       74                           68
dx_after_adm               146       75                           71
ICUreadmission             147       76                           77
RRT                        147       77                           67
prevCPR                    150       78                           78
ECMO                       152       79                           65
postICUCPR                 153       80                           80
neurology                  154       81                           70
postICURT                  154       82                           66
WBRT                       155       83                           74
PrevICUadm                 157       84                           72
Underlying_CV              157       85                           79
other_malignancy           159       86                           85
prev_gks                   163       87                           81
Underlying_stroke          168       88                           82
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
WBC                                            2                  6
neutropenia                                    5                  8
AKI                                            7                  9
PT_percent                                     4                  9
PLT                                            3                 12
bacteremia                                    14                 20
CRP                                            6                 20
SOFA_D1                                       10                 20
Death_Cause                                   15                 22
BUN                                            9                 27
APACH_II                                      12                 29
timefromdx                                     8                 29
CRRT                                          18                 31
Vasoactiveagent                               23                 31
Albumin                                       13                 32
hospital_LOS                                  11                 33
thrombocytopenia                              22                 34
Cause_Ca_problem                              20                 35
Pneumonia                                     25                 36
SAPS_II                                       16                 44
age                                           19                 45
post_dc_days                                  26                 46
prev_wbrt                                     30                 46
MV_days                                       27                 54
post_icu_survival                             29                 54
ICU_cause_intensivist                         33                 57
ICU_mortal30                                  37                 60
PaO2FiO2                                      21                 60
aPTT                                          17                 65
Intensivist                                   41                 70
ICU_LOS                                       28                 71
underlying_pulmo                              35                 71
hypoalbuminemia                               40                 72
prev_ccrt                                     44                 75
histologyNum                                  32                 76
StageNum                                      36                 78
post2011                                      46                 79
Hb                                            24                 82
ICU_Death                                     52                 82
HFNC                                          43                 83
pulmocomorbid                                 45                 83
NewlyDx                                       47                 84
Hospital_death                                55                 89
ICUCPR                                        54                 95
cardiovasc                                    63                 98
CTxinICU                                      56                102
DNR                                           49                102
Underlying_DM                                 53                102
DischargefromICU                              57                104
anemia                                        60                105
prev_rtx                                      39                108
sex                                           51                108
Refractory                                    50                110
Surgery                                       59                111
BIPAP                                         62                112
performance_hospital_DC                       42                115
procalcitonin                                 31                115
preICUDNR                                     67                118
HD                                            66                121
performance_ICU_DC                            38                121
MV                                            68                122
Pre_PS                                        34                122
PDT                                           65                129
respfailure                                   69                131
prev_ctx                                      71                132
Distatntmets                                  48                134
DNR_at_ICU                                    61                136
ILD                                           79                138
PCC                                           83                139
postICUCtx                                    76                139
PoorPS                                        64                140
smk_hx                                        58                145
Tracheostomy                                  77                145
dx_after_adm                                  75                146
ICUreadmission                                70                147
RRT                                           80                147
prevCPR                                       72                150
ECMO                                          87                152
postICUCPR                                    73                153
neurology                                     84                154
postICURT                                     88                154
WBRT                                          81                155
PrevICUadm                                    85                157
Underlying_CV                                 78                157
other_malignancy                              74                159
prev_gks                                      82                163
Underlying_stroke                             86                168
number of selected top features: 9
selected top features: 
[1] "ANC"         "WBC"         "neutropenia" "AKI"         "PT_percent" 
[6] "PLT"         "bacteremia"  "CRP"         "SOFA_D1"    

[Training Random Forests classifier on the training set with only the top  9  features]

[Applying the trained Random Forests classifier on the test set with only the top  9  features]

PR AUC (integral) 	0.8654111
ROC AUC 		0.9619048

Brier score =  0.074  (best value: 0; worst value: 1)

TOTAL:

 FN =  2  /  5 	 (truth == 1) & (prediction < threshold)
 TP =  3  /  5 	 (truth == 1) & (prediction >= threshold)

 FP =  2  /  21 	 (truth == 0) & (prediction >= threshold)
 TN =  19  /  21 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.505 	 0.600 	 	0.846 	 	0.600 	 	0.905		0.600	 	0.905	 	0.865	0.962

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.570073e-02           1
neutropenia                     1.235881e-02           2
WBC                             1.055514e-02           4
AKI                             1.227317e-02           3
PT_percent                      5.855784e-03           7
CRP                             5.398137e-03          10
PLT                             5.199965e-03          11
SOFA_D1                         5.443076e-03           9
bacteremia                      7.351637e-03           5
BUN                             4.013031e-03          15
APACH_II                        3.184394e-03          16
Vasoactiveagent                 6.980922e-03           6
Pneumonia                       5.785844e-03           8
Albumin                         2.199202e-03          19
CRRT                            4.540464e-03          13
hospital_LOS                    1.557132e-03          21
Death_Cause                     4.644246e-03          12
timefromdx                      1.318321e-03          23
Cause_Ca_problem                2.966110e-03          18
SAPS_II                         1.653563e-03          20
thrombocytopenia                4.235146e-03          14
prev_wbrt                       3.008143e-03          17
age                             4.916965e-04          30
post_dc_days                    1.453094e-03          22
MV_days                         8.947011e-04          27
PaO2FiO2                        3.415507e-04          34
post_icu_survival               1.057905e-03          26
ICU_cause_intensivist           1.062601e-03          25
histologyNum                    4.921652e-04          29
ICU_mortal30                    1.309110e-03          24
HFNC                            4.723888e-04          31
underlying_pulmo                3.124731e-04          35
hypoalbuminemia                 4.025421e-04          32
ICU_LOS                         1.412553e-04          47
prev_ccrt                       3.897679e-04          33
StageNum                        1.579485e-04          45
procalcitonin                   1.213524e-04          50
Refractory                      2.578058e-04          36
DischargefromICU                2.447199e-04          37
post2011                        2.377800e-04          39
Intensivist                     1.877742e-04          43
ICU_Death                       2.428129e-04          38
cardiovasc                      5.708901e-04          28
Distatntmets                    1.085215e-04          51
pulmocomorbid                   1.317540e-04          49
anemia                          1.530746e-04          46
DNR                             1.367149e-04          48
HD                              2.325304e-04          41
NewlyDx                         1.662921e-04          44
Hospital_death                  2.189009e-04          42
aPTT                           -3.367025e-04          88
respfailure                     2.362654e-04          40
Pre_PS                         -8.150788e-05          75
Hb                             -2.482683e-04          86
Surgery                         8.960764e-05          53
performance_ICU_DC             -9.657608e-05          77
sex                             4.829183e-05          59
Underlying_DM                   2.818681e-05          61
preICUDNR                       7.987116e-05          56
CTxinICU                        3.712156e-05          60
performance_hospital_DC        -1.759060e-04          85
prev_rtx                       -2.748017e-04          87
ILD                             9.788042e-05          52
postICUCtx                      8.313599e-05          54
RRT                             5.242555e-05          58
BIPAP                          -2.223405e-05          68
DNR_at_ICU                     -9.945772e-05          78
ICUCPR                          2.884201e-06          66
MV                             -1.349062e-05          67
PCC                             8.051492e-05          55
PoorPS                         -1.302679e-04          82
prev_ctx                       -2.820569e-05          69
smk_hx                         -1.289661e-04          81
ICUreadmission                 -3.541627e-05          70
prevCPR                        -6.408900e-05          72
Tracheostomy                    1.232405e-05          62
ECMO                            5.621561e-05          57
dx_after_adm                   -7.279565e-05          74
neurology                       8.287606e-06          63
PDT                            -9.183460e-05          76
postICUCPR                     -5.197293e-05          71
PrevICUadm                      6.496266e-06          64
postICURT                       4.597701e-06          65
Underlying_CV                  -1.085184e-04          79
WBRT                           -6.999625e-05          73
other_malignancy               -1.545591e-04          83
prev_gks                       -1.597620e-04          84
Underlying_stroke              -1.181407e-04          80
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.697591626            1
neutropenia                         neutropenia      3.963540406            4
WBC                                         WBC      5.629389546            2
AKI                                         AKI      3.641286087            6
PT_percent                           PT_percent      3.829971689            5
CRP                                         CRP      4.050224434            3
PLT                                         PLT      3.640798002            7
SOFA_D1                                 SOFA_D1      2.941107008            9
bacteremia                           bacteremia      2.295460481           14
BUN                                         BUN      3.435576501            8
APACH_II                               APACH_II      2.627871583           12
Vasoactiveagent                 Vasoactiveagent      1.772429301           22
Pneumonia                             Pneumonia      1.643819151           23
Albumin                                 Albumin      2.535377772           13
CRRT                                       CRRT      1.908293615           19
hospital_LOS                       hospital_LOS      2.720597051           11
Death_Cause                         Death_Cause      1.772702622           21
timefromdx                           timefromdx      2.813566990           10
Cause_Ca_problem               Cause_Ca_problem      2.003772419           16
SAPS_II                                 SAPS_II      2.060525445           15
thrombocytopenia               thrombocytopenia      1.413205054           27
prev_wbrt                             prev_wbrt      1.165166344           29
age                                         age      1.980569814           17
post_dc_days                       post_dc_days      1.489703073           25
MV_days                                 MV_days      1.425953322           26
PaO2FiO2                               PaO2FiO2      1.890451375           20
post_icu_survival             post_icu_survival      1.120706461           30
ICU_cause_intensivist     ICU_cause_intensivist      0.634435889           35
histologyNum                       histologyNum      0.984909497           32
ICU_mortal30                       ICU_mortal30      0.551247818           38
HFNC                                       HFNC      0.515275079           41
underlying_pulmo               underlying_pulmo      0.593840827           37
hypoalbuminemia                 hypoalbuminemia      0.441097698           43
ICU_LOS                                 ICU_LOS      1.301968020           28
prev_ccrt                             prev_ccrt      0.434614164           44
StageNum                               StageNum      0.693169296           34
procalcitonin                     procalcitonin      1.025617502           31
Refractory                           Refractory      0.415760791           45
DischargefromICU               DischargefromICU      0.361599444           48
post2011                               post2011      0.350168978           49
Intensivist                         Intensivist      0.388021468           47
ICU_Death                             ICU_Death      0.323384464           53
cardiovasc                           cardiovasc      0.262322018           64
Distatntmets                       Distatntmets      0.441442627           42
pulmocomorbid                     pulmocomorbid      0.400126698           46
anemia                                   anemia      0.347440415           50
DNR                                         DNR      0.342949518           51
HD                                           HD      0.291811671           60
NewlyDx                                 NewlyDx      0.303147502           57
Hospital_death                   Hospital_death      0.268408493           62
aPTT                                       aPTT      1.926253352           18
respfailure                         respfailure      0.234924074           66
Pre_PS                                   Pre_PS      0.745472704           33
Hb                                           Hb      1.543123062           24
Surgery                                 Surgery      0.301682244           58
performance_ICU_DC           performance_ICU_DC      0.612396501           36
sex                                         sex      0.320108548           54
Underlying_DM                     Underlying_DM      0.342379553           52
preICUDNR                             preICUDNR      0.280377824           61
CTxinICU                               CTxinICU      0.262540196           63
performance_hospital_DC performance_hospital_DC      0.533398708           39
prev_rtx                               prev_rtx      0.528020323           40
ILD                                         ILD      0.129530356           79
postICUCtx                           postICUCtx      0.136977691           77
RRT                                         RRT      0.164407140           74
BIPAP                                     BIPAP      0.259670311           65
DNR_at_ICU                           DNR_at_ICU      0.317051143           55
ICUCPR                                   ICUCPR      0.214683976           68
MV                                           MV      0.215611288           67
PCC                                         PCC      0.082003904           83
PoorPS                                   PoorPS      0.303243368           56
prev_ctx                               prev_ctx      0.214488000           69
smk_hx                                   smk_hx      0.295878699           59
ICUreadmission                   ICUreadmission      0.172675236           72
prevCPR                                 prevCPR      0.181602077           70
Tracheostomy                       Tracheostomy      0.116854251           80
ECMO                                       ECMO      0.043143037           87
dx_after_adm                       dx_after_adm      0.177821764           71
neurology                             neurology      0.081268943           84
PDT                                         PDT      0.167319368           73
postICUCPR                           postICUCPR      0.130588038           78
PrevICUadm                           PrevICUadm      0.080761571           85
postICURT                             postICURT      0.009455184           88
Underlying_CV                     Underlying_CV      0.140826853           76
WBRT                                       WBRT      0.102858870           82
other_malignancy               other_malignancy      0.151830008           75
prev_gks                               prev_gks      0.108758557           81
Underlying_stroke             Underlying_stroke      0.061966540           86
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
neutropenia                  6        2                            2
WBC                          6        3                            4
AKI                          9        4                            3
PT_percent                  12        5                            7
CRP                         13        6                           10
PLT                         18        7                           11
SOFA_D1                     18        8                            9
bacteremia                  19        9                            5
BUN                         23       10                           15
APACH_II                    28       11                           16
Vasoactiveagent             28       12                            6
Pneumonia                   31       13                            8
Albumin                     32       14                           19
CRRT                        32       15                           13
hospital_LOS                32       16                           21
Death_Cause                 33       17                           12
timefromdx                  33       18                           23
Cause_Ca_problem            34       19                           18
SAPS_II                     35       20                           20
thrombocytopenia            41       21                           14
prev_wbrt                   46       22                           17
age                         47       23                           30
post_dc_days                47       24                           22
MV_days                     53       25                           27
PaO2FiO2                    54       26                           34
post_icu_survival           56       27                           26
ICU_cause_intensivist       60       28                           25
histologyNum                61       29                           29
ICU_mortal30                62       30                           24
HFNC                        72       31                           31
underlying_pulmo            72       32                           35
hypoalbuminemia             75       33                           32
ICU_LOS                     75       34                           47
prev_ccrt                   77       35                           33
StageNum                    79       36                           45
procalcitonin               81       37                           50
Refractory                  81       38                           36
DischargefromICU            85       39                           37
post2011                    88       40                           39
Intensivist                 90       41                           43
ICU_Death                   91       42                           38
cardiovasc                  92       43                           28
Distatntmets                93       44                           51
pulmocomorbid               95       45                           49
anemia                      96       46                           46
DNR                         99       47                           48
HD                         101       48                           41
NewlyDx                    101       49                           44
Hospital_death             104       50                           42
aPTT                       106       51                           88
respfailure                106       52                           40
Pre_PS                     108       53                           75
Hb                         110       54                           86
Surgery                    111       55                           53
performance_ICU_DC         113       56                           77
sex                        113       57                           59
Underlying_DM              113       58                           61
preICUDNR                  117       59                           56
CTxinICU                   123       60                           60
performance_hospital_DC    124       61                           85
prev_rtx                   127       62                           87
ILD                        131       63                           52
postICUCtx                 131       64                           54
RRT                        132       65                           58
BIPAP                      133       66                           68
DNR_at_ICU                 133       67                           78
ICUCPR                     134       68                           66
MV                         134       69                           67
PCC                        138       70                           55
PoorPS                     138       71                           82
prev_ctx                   138       72                           69
smk_hx                     140       73                           81
ICUreadmission             142       74                           70
prevCPR                    142       75                           72
Tracheostomy               142       76                           62
ECMO                       144       77                           57
dx_after_adm               145       78                           74
neurology                  147       79                           63
PDT                        149       80                           76
postICUCPR                 149       81                           71
PrevICUadm                 149       82                           64
postICURT                  153       83                           65
Underlying_CV              155       84                           79
WBRT                       155       85                           73
other_malignancy           158       86                           83
prev_gks                   165       87                           84
Underlying_stroke          166       88                           80
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
neutropenia                                    4                  6
WBC                                            2                  6
AKI                                            6                  9
PT_percent                                     5                 12
CRP                                            3                 13
PLT                                            7                 18
SOFA_D1                                        9                 18
bacteremia                                    14                 19
BUN                                            8                 23
APACH_II                                      12                 28
Vasoactiveagent                               22                 28
Pneumonia                                     23                 31
Albumin                                       13                 32
CRRT                                          19                 32
hospital_LOS                                  11                 32
Death_Cause                                   21                 33
timefromdx                                    10                 33
Cause_Ca_problem                              16                 34
SAPS_II                                       15                 35
thrombocytopenia                              27                 41
prev_wbrt                                     29                 46
age                                           17                 47
post_dc_days                                  25                 47
MV_days                                       26                 53
PaO2FiO2                                      20                 54
post_icu_survival                             30                 56
ICU_cause_intensivist                         35                 60
histologyNum                                  32                 61
ICU_mortal30                                  38                 62
HFNC                                          41                 72
underlying_pulmo                              37                 72
hypoalbuminemia                               43                 75
ICU_LOS                                       28                 75
prev_ccrt                                     44                 77
StageNum                                      34                 79
procalcitonin                                 31                 81
Refractory                                    45                 81
DischargefromICU                              48                 85
post2011                                      49                 88
Intensivist                                   47                 90
ICU_Death                                     53                 91
cardiovasc                                    64                 92
Distatntmets                                  42                 93
pulmocomorbid                                 46                 95
anemia                                        50                 96
DNR                                           51                 99
HD                                            60                101
NewlyDx                                       57                101
Hospital_death                                62                104
aPTT                                          18                106
respfailure                                   66                106
Pre_PS                                        33                108
Hb                                            24                110
Surgery                                       58                111
performance_ICU_DC                            36                113
sex                                           54                113
Underlying_DM                                 52                113
preICUDNR                                     61                117
CTxinICU                                      63                123
performance_hospital_DC                       39                124
prev_rtx                                      40                127
ILD                                           79                131
postICUCtx                                    77                131
RRT                                           74                132
BIPAP                                         65                133
DNR_at_ICU                                    55                133
ICUCPR                                        68                134
MV                                            67                134
PCC                                           83                138
PoorPS                                        56                138
prev_ctx                                      69                138
smk_hx                                        59                140
ICUreadmission                                72                142
prevCPR                                       70                142
Tracheostomy                                  80                142
ECMO                                          87                144
dx_after_adm                                  71                145
neurology                                     84                147
PDT                                           73                149
postICUCPR                                    78                149
PrevICUadm                                    85                149
postICURT                                     88                153
Underlying_CV                                 76                155
WBRT                                          82                155
other_malignancy                              75                158
prev_gks                                      81                165
Underlying_stroke                             86                166
number of selected top features: 9
selected top features: 
[1] "ANC"         "neutropenia" "WBC"         "AKI"         "PT_percent" 
[6] "CRP"         "PLT"         "SOFA_D1"     "bacteremia" 

[Training Random Forests classifier on the training set with only the top  9  features]

[Applying the trained Random Forests classifier on the test set with only the top  9  features]

PR AUC (integral) 	0.3068528
ROC AUC 		0.9166667

Brier score =  0.071  (best value: 0; worst value: 1)

TOTAL:

 FN =  2  /  2 	 (truth == 1) & (prediction < threshold)
 TP =  0  /  2 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  24 	 (truth == 0) & (prediction >= threshold)
 TN =  23  /  24 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      -0.058 	 0.000 	 	0.885 	 	0.000 	 	0.958		0.000	 	0.920	 	0.307	0.917

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.942557e-02           1
neutropenia                     1.856037e-02           2
WBC                             1.221090e-02           4
AKI                             1.601446e-02           3
PLT                             5.881304e-03           7
PT_percent                      5.679784e-03           8
CRRT                            6.250225e-03           6
SOFA_D1                         4.881353e-03          10
bacteremia                      6.282004e-03           5
BUN                             3.241445e-03          14
CRP                             2.908460e-03          16
APACH_II                        3.170642e-03          15
hospital_LOS                    1.642303e-03          20
Vasoactiveagent                 5.234108e-03           9
Albumin                         2.404811e-03          18
Death_Cause                     4.058038e-03          12
thrombocytopenia                4.165360e-03          11
Cause_Ca_problem                2.594499e-03          17
timefromdx                      7.325051e-04          27
Pneumonia                       3.494497e-03          13
SAPS_II                         9.527855e-04          25
MV_days                         1.006148e-03          24
post_icu_survival               1.172133e-03          22
ICU_cause_intensivist           1.599725e-03          21
prev_wbrt                       1.831705e-03          19
post_dc_days                    6.641089e-04          28
age                             3.508912e-04          37
PaO2FiO2                        4.148781e-04          34
underlying_pulmo                7.920384e-04          26
histologyNum                    5.291722e-04          31
ICU_mortal30                    1.024946e-03          23
hypoalbuminemia                 6.006608e-04          30
HFNC                            6.097712e-04          29
ICU_LOS                         2.398739e-04          42
pulmocomorbid                   3.895787e-04          35
procalcitonin                   1.104960e-04          51
performance_hospital_DC         2.656707e-04          41
HD                              2.775126e-04          40
ICU_Death                       4.518279e-04          33
NewlyDx                         2.392328e-04          43
DischargefromICU                2.339690e-04          44
Hb                             -3.111908e-05          70
cardiovasc                      5.290190e-04          32
Pre_PS                          3.323835e-05          60
ICUCPR                          3.364894e-04          38
Intensivist                     3.343415e-04          39
sex                             2.085482e-04          47
preICUDNR                       1.352679e-04          48
Hospital_death                  3.594327e-04          36
anemia                          2.333470e-04          45
StageNum                       -2.943255e-05          69
aPTT                           -3.404628e-04          88
prev_ccrt                       9.889224e-05          53
Refractory                      2.740096e-06          64
CTxinICU                        1.310368e-04          49
post2011                        5.777831e-05          55
MV                              1.240919e-04          50
PoorPS                         -2.921282e-06          66
Underlying_DM                  -4.167801e-05          73
performance_ICU_DC             -1.387423e-04          83
ILD                             2.229099e-04          46
BIPAP                           5.456298e-05          56
prev_rtx                       -3.011045e-04          87
Distatntmets                   -2.747024e-05          68
RRT                             1.039120e-04          52
respfailure                     3.757715e-05          58
smk_hx                         -8.235563e-05          79
PDT                             5.116214e-06          63
postICUCtx                      8.634623e-05          54
DNR                            -3.466065e-05          71
DNR_at_ICU                     -2.016927e-04          85
ICUreadmission                 -4.154062e-05          72
PCC                             3.769147e-05          57
Surgery                        -6.913305e-05          77
ECMO                            3.559254e-05          59
Tracheostomy                    1.348264e-05          62
postICUCPR                     -7.329921e-05          78
prevCPR                        -5.429849e-05          76
PrevICUadm                      2.298359e-05          61
neurology                      -8.268850e-06          67
postICURT                       2.469136e-06          65
prev_ctx                       -5.193373e-05          75
dx_after_adm                   -1.171408e-04          82
WBRT                           -4.457625e-05          74
other_malignancy               -2.247523e-04          86
Underlying_CV                  -9.497873e-05          80
Underlying_stroke              -1.086797e-04          81
prev_gks                       -1.698007e-04          84
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC       7.09253219            1
neutropenia                         neutropenia       5.14568548            3
WBC                                         WBC       5.85848431            2
AKI                                         AKI       4.23733520            4
PLT                                         PLT       3.43493323            5
PT_percent                           PT_percent       3.43231720            6
CRRT                                       CRRT       2.33011816           13
SOFA_D1                                 SOFA_D1       2.55575724            9
bacteremia                           bacteremia       2.08894110           15
BUN                                         BUN       2.97990270            8
CRP                                         CRP       3.19129117            7
APACH_II                               APACH_II       2.41788294           12
hospital_LOS                       hospital_LOS       2.49661539           10
Vasoactiveagent                 Vasoactiveagent       1.41535036           22
Albumin                                 Albumin       2.26453850           14
Death_Cause                         Death_Cause       1.51549241           21
thrombocytopenia               thrombocytopenia       1.37192229           24
Cause_Ca_problem               Cause_Ca_problem       1.67706086           19
timefromdx                           timefromdx       2.47010956           11
Pneumonia                             Pneumonia       1.14370136           27
SAPS_II                                 SAPS_II       1.95202790           16
MV_days                                 MV_days       1.15959253           26
post_icu_survival             post_icu_survival       1.08009546           28
ICU_cause_intensivist     ICU_cause_intensivist       0.88329510           31
prev_wbrt                             prev_wbrt       0.73342107           33
post_dc_days                       post_dc_days       1.25545648           25
age                                         age       1.76308409           17
PaO2FiO2                               PaO2FiO2       1.64823387           20
underlying_pulmo               underlying_pulmo       0.64051764           36
histologyNum                       histologyNum       0.82231163           32
ICU_mortal30                       ICU_mortal30       0.44005625           42
hypoalbuminemia                 hypoalbuminemia       0.53720675           38
HFNC                                       HFNC       0.52729306           40
ICU_LOS                                 ICU_LOS       1.05673688           29
pulmocomorbid                     pulmocomorbid       0.42402084           43
procalcitonin                     procalcitonin       0.95823663           30
performance_hospital_DC performance_hospital_DC       0.47220819           41
HD                                           HD       0.32650257           48
ICU_Death                             ICU_Death       0.29219533           55
NewlyDx                                 NewlyDx       0.33026015           46
DischargefromICU               DischargefromICU       0.32753237           47
Hb                                           Hb       1.39737671           23
cardiovasc                           cardiovasc       0.26189090           62
Pre_PS                                   Pre_PS       0.66900806           34
ICUCPR                                   ICUCPR       0.28673133           57
Intensivist                         Intensivist       0.28985593           56
sex                                         sex       0.30883777           49
preICUDNR                             preICUDNR       0.30231790           51
Hospital_death                   Hospital_death       0.24549312           64
anemia                                   anemia       0.27533151           59
StageNum                               StageNum       0.64856620           35
aPTT                                       aPTT       1.73997958           18
prev_ccrt                             prev_ccrt       0.29306108           54
Refractory                           Refractory       0.36490455           44
CTxinICU                               CTxinICU       0.26091056           63
post2011                               post2011       0.27850863           58
MV                                           MV       0.20532582           67
PoorPS                                   PoorPS       0.29627911           52
Underlying_DM                     Underlying_DM       0.35181217           45
performance_ICU_DC           performance_ICU_DC       0.55234442           37
ILD                                         ILD       0.14509961           75
BIPAP                                     BIPAP       0.20645617           66
prev_rtx                               prev_rtx       0.53505779           39
Distatntmets                       Distatntmets       0.26587864           60
RRT                                         RRT       0.14157733           76
respfailure                         respfailure       0.19024203           71
smk_hx                                   smk_hx       0.30845552           50
PDT                                         PDT       0.20349169           68
postICUCtx                           postICUCtx       0.14057263           77
DNR                                         DNR       0.26205861           61
DNR_at_ICU                           DNR_at_ICU       0.29351099           53
ICUreadmission                   ICUreadmission       0.19875081           69
PCC                                         PCC       0.07215723           84
Surgery                                 Surgery       0.22757177           65
ECMO                                       ECMO       0.04340110           86
Tracheostomy                       Tracheostomy       0.08679767           83
postICUCPR                           postICUCPR       0.19413195           70
prevCPR                                 prevCPR       0.18750711           72
PrevICUadm                           PrevICUadm       0.01397050           87
neurology                             neurology       0.06572432           85
postICURT                             postICURT       0.01081186           88
prev_ctx                               prev_ctx       0.12904956           78
dx_after_adm                       dx_after_adm       0.14927755           74
WBRT                                       WBRT       0.08681220           82
other_malignancy               other_malignancy       0.15177294           73
Underlying_CV                     Underlying_CV       0.12462971           79
Underlying_stroke             Underlying_stroke       0.09983589           81
prev_gks                               prev_gks       0.10904404           80
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
neutropenia                  5        2                            2
WBC                          6        3                            4
AKI                          7        4                            3
PLT                         12        5                            7
PT_percent                  14        6                            8
CRRT                        19        7                            6
SOFA_D1                     19        8                           10
bacteremia                  20        9                            5
BUN                         22       10                           14
CRP                         23       11                           16
APACH_II                    27       12                           15
hospital_LOS                30       13                           20
Vasoactiveagent             31       14                            9
Albumin                     32       15                           18
Death_Cause                 33       16                           12
thrombocytopenia            35       17                           11
Cause_Ca_problem            36       18                           17
timefromdx                  38       19                           27
Pneumonia                   40       20                           13
SAPS_II                     41       21                           25
MV_days                     50       22                           24
post_icu_survival           50       23                           22
ICU_cause_intensivist       52       24                           21
prev_wbrt                   52       25                           19
post_dc_days                53       26                           28
age                         54       27                           37
PaO2FiO2                    54       28                           34
underlying_pulmo            62       29                           26
histologyNum                63       30                           31
ICU_mortal30                65       31                           23
hypoalbuminemia             68       32                           30
HFNC                        69       33                           29
ICU_LOS                     71       34                           42
pulmocomorbid               78       35                           35
procalcitonin               81       36                           51
performance_hospital_DC     82       37                           41
HD                          88       38                           40
ICU_Death                   88       39                           33
NewlyDx                     89       40                           43
DischargefromICU            91       41                           44
Hb                          93       42                           70
cardiovasc                  94       43                           32
Pre_PS                      94       44                           60
ICUCPR                      95       45                           38
Intensivist                 95       46                           39
sex                         96       47                           47
preICUDNR                   99       48                           48
Hospital_death             100       49                           36
anemia                     104       50                           45
StageNum                   104       51                           69
aPTT                       106       52                           88
prev_ccrt                  107       53                           53
Refractory                 108       54                           64
CTxinICU                   112       55                           49
post2011                   113       56                           55
MV                         117       57                           50
PoorPS                     118       58                           66
Underlying_DM              118       59                           73
performance_ICU_DC         120       60                           83
ILD                        121       61                           46
BIPAP                      122       62                           56
prev_rtx                   126       63                           87
Distatntmets               128       64                           68
RRT                        128       65                           52
respfailure                129       66                           58
smk_hx                     129       67                           79
PDT                        131       68                           63
postICUCtx                 131       69                           54
DNR                        132       70                           71
DNR_at_ICU                 138       71                           85
ICUreadmission             141       72                           72
PCC                        141       73                           57
Surgery                    142       74                           77
ECMO                       145       75                           59
Tracheostomy               145       76                           62
postICUCPR                 148       77                           78
prevCPR                    148       78                           76
PrevICUadm                 148       79                           61
neurology                  152       80                           67
postICURT                  153       81                           65
prev_ctx                   153       82                           75
dx_after_adm               156       83                           82
WBRT                       156       84                           74
other_malignancy           159       85                           86
Underlying_CV              159       86                           80
Underlying_stroke          162       87                           81
prev_gks                   164       88                           84
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
neutropenia                                    3                  5
WBC                                            2                  6
AKI                                            4                  7
PLT                                            5                 12
PT_percent                                     6                 14
CRRT                                          13                 19
SOFA_D1                                        9                 19
bacteremia                                    15                 20
BUN                                            8                 22
CRP                                            7                 23
APACH_II                                      12                 27
hospital_LOS                                  10                 30
Vasoactiveagent                               22                 31
Albumin                                       14                 32
Death_Cause                                   21                 33
thrombocytopenia                              24                 35
Cause_Ca_problem                              19                 36
timefromdx                                    11                 38
Pneumonia                                     27                 40
SAPS_II                                       16                 41
MV_days                                       26                 50
post_icu_survival                             28                 50
ICU_cause_intensivist                         31                 52
prev_wbrt                                     33                 52
post_dc_days                                  25                 53
age                                           17                 54
PaO2FiO2                                      20                 54
underlying_pulmo                              36                 62
histologyNum                                  32                 63
ICU_mortal30                                  42                 65
hypoalbuminemia                               38                 68
HFNC                                          40                 69
ICU_LOS                                       29                 71
pulmocomorbid                                 43                 78
procalcitonin                                 30                 81
performance_hospital_DC                       41                 82
HD                                            48                 88
ICU_Death                                     55                 88
NewlyDx                                       46                 89
DischargefromICU                              47                 91
Hb                                            23                 93
cardiovasc                                    62                 94
Pre_PS                                        34                 94
ICUCPR                                        57                 95
Intensivist                                   56                 95
sex                                           49                 96
preICUDNR                                     51                 99
Hospital_death                                64                100
anemia                                        59                104
StageNum                                      35                104
aPTT                                          18                106
prev_ccrt                                     54                107
Refractory                                    44                108
CTxinICU                                      63                112
post2011                                      58                113
MV                                            67                117
PoorPS                                        52                118
Underlying_DM                                 45                118
performance_ICU_DC                            37                120
ILD                                           75                121
BIPAP                                         66                122
prev_rtx                                      39                126
Distatntmets                                  60                128
RRT                                           76                128
respfailure                                   71                129
smk_hx                                        50                129
PDT                                           68                131
postICUCtx                                    77                131
DNR                                           61                132
DNR_at_ICU                                    53                138
ICUreadmission                                69                141
PCC                                           84                141
Surgery                                       65                142
ECMO                                          86                145
Tracheostomy                                  83                145
postICUCPR                                    70                148
prevCPR                                       72                148
PrevICUadm                                    87                148
neurology                                     85                152
postICURT                                     88                153
prev_ctx                                      78                153
dx_after_adm                                  74                156
WBRT                                          82                156
other_malignancy                              73                159
Underlying_CV                                 79                159
Underlying_stroke                             81                162
prev_gks                                      80                164
number of selected top features: 9
selected top features: 
[1] "ANC"         "neutropenia" "WBC"         "AKI"         "PLT"        
[6] "PT_percent"  "CRRT"        "SOFA_D1"     "bacteremia" 

[Training Random Forests classifier on the training set with only the top  9  features]

[Applying the trained Random Forests classifier on the test set with only the top  9  features]

PR AUC (integral) 	0.361969
ROC AUC 		0.6458333

Brier score =  0.254  (best value: 0; worst value: 1)

TOTAL:

 FN =  4  /  8 	 (truth == 1) & (prediction < threshold)
 TP =  4  /  8 	 (truth == 1) & (prediction >= threshold)

 FP =  5  /  18 	 (truth == 0) & (prediction >= threshold)
 TN =  13  /  18 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.216 	 0.471 	 	0.654 	 	0.500 	 	0.722		0.444	 	0.765	 	0.362	0.646

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.701021e-02           1
AKI                             1.665083e-02           2
WBC                             1.043000e-02           4
neutropenia                     1.229800e-02           3
PT_percent                      8.056057e-03           6
bacteremia                      9.742908e-03           5
PLT                             5.182025e-03          10
CRP                             4.424660e-03          12
SOFA_D1                         5.528903e-03           9
Death_Cause                     7.040323e-03           7
BUN                             3.400347e-03          16
timefromdx                      2.483536e-03          18
APACH_II                        3.424026e-03          15
Vasoactiveagent                 6.160097e-03           8
CRRT                            4.026933e-03          14
hospital_LOS                    2.176372e-03          20
thrombocytopenia                4.612361e-03          11
Cause_Ca_problem                3.034005e-03          17
Albumin                         1.413979e-03          23
Pneumonia                       4.319777e-03          13
SAPS_II                         1.291298e-03          24
post_dc_days                    1.903286e-03          21
MV_days                         1.080591e-03          25
post_icu_survival               1.537060e-03          22
prev_wbrt                       2.239008e-03          19
PaO2FiO2                        4.730241e-04          31
histologyNum                    5.859464e-04          30
HFNC                            8.417027e-04          27
ICU_cause_intensivist           7.957389e-04          29
ICU_mortal30                    1.061980e-03          26
prev_ccrt                       8.195425e-04          28
StageNum                        3.646818e-04          34
age                             1.423478e-04          54
Intensivist                     4.559107e-04          32
Distatntmets                    3.468823e-04          35
post2011                        4.114670e-04          33
performance_ICU_DC              2.070714e-04          47
pulmocomorbid                   2.488653e-04          40
ICUCPR                          3.241233e-04          37
procalcitonin                   3.815054e-05          61
underlying_pulmo                1.515606e-04          52
CTxinICU                        2.462496e-04          42
aPTT                           -9.046725e-05          78
Refractory                      2.148215e-04          45
Underlying_DM                   1.570632e-04          51
NewlyDx                         2.451302e-04          43
Hospital_death                  3.357671e-04          36
DischargefromICU                2.481872e-04          41
ICU_Death                       2.293449e-04          44
HD                              1.582195e-04          50
hypoalbuminemia                 1.246713e-04          55
anemia                          2.051902e-04          49
cardiovasc                      2.781477e-04          38
ICU_LOS                        -1.276413e-04          82
MV                              2.644064e-04          39
Hb                             -2.381537e-04          85
smk_hx                          2.486953e-05          64
prev_ctx                        2.056355e-04          48
performance_hospital_DC        -3.675645e-05          73
respfailure                     2.097930e-04          46
PDT                             1.144802e-04          56
sex                             9.946227e-05          57
DNR                             1.675634e-05          66
Pre_PS                         -3.414723e-04          88
prev_rtx                       -2.802728e-04          87
preICUDNR                       8.987284e-05          59
BIPAP                           9.338981e-05          58
PoorPS                          2.640742e-05          63
PCC                             1.452659e-04          53
Surgery                        -1.068028e-04          80
ICUreadmission                  8.613293e-06          68
RRT                             4.071740e-05          60
Tracheostomy                    2.032470e-05          65
Underlying_CV                   9.586498e-06          67
ILD                             3.236447e-05          62
DNR_at_ICU                     -2.611431e-04          86
other_malignancy               -7.127220e-05          77
postICUCPR                     -5.066936e-05          76
dx_after_adm                   -1.270594e-04          81
postICUCtx                     -4.040173e-05          75
WBRT                           -3.840386e-05          74
neurology                      -3.132751e-05          72
PrevICUadm                     -2.215866e-05          71
ECMO                            4.519918e-06          69
prevCPR                        -1.618817e-04          83
postICURT                       5.165956e-08          70
Underlying_stroke              -9.365247e-05          79
prev_gks                       -1.929340e-04          84
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC       6.48034470            1
AKI                                         AKI       4.30191581            4
WBC                                         WBC       5.22086366            2
neutropenia                         neutropenia       3.70970685            5
PT_percent                           PT_percent       4.30851252            3
bacteremia                           bacteremia       2.73370141           11
PLT                                         PLT       3.47725667            6
CRP                                         CRP       3.34584952            7
SOFA_D1                                 SOFA_D1       2.81799619           10
Death_Cause                         Death_Cause       2.11184580           15
BUN                                         BUN       2.92257063            9
timefromdx                           timefromdx       3.19400829            8
APACH_II                               APACH_II       2.58006454           13
Vasoactiveagent                 Vasoactiveagent       1.63713334           22
CRRT                                       CRRT       1.75499646           18
hospital_LOS                       hospital_LOS       2.64147423           12
thrombocytopenia               thrombocytopenia       1.60892180           23
Cause_Ca_problem               Cause_Ca_problem       1.72484996           19
Albumin                                 Albumin       2.20771045           14
Pneumonia                             Pneumonia       1.32736721           27
SAPS_II                                 SAPS_II       1.91332600           17
post_dc_days                       post_dc_days       1.56272667           24
MV_days                                 MV_days       1.41692277           25
post_icu_survival             post_icu_survival       1.13340445           29
prev_wbrt                             prev_wbrt       0.86242149           32
PaO2FiO2                               PaO2FiO2       1.69639814           21
histologyNum                       histologyNum       0.87566723           31
HFNC                                       HFNC       0.55247091           38
ICU_cause_intensivist     ICU_cause_intensivist       0.59448551           37
ICU_mortal30                       ICU_mortal30       0.49501921           41
prev_ccrt                             prev_ccrt       0.50652761           40
StageNum                               StageNum       0.62185482           35
age                                         age       1.71262206           20
Intensivist                         Intensivist       0.41136632           45
Distatntmets                       Distatntmets       0.45424641           44
post2011                               post2011       0.36473995           48
performance_ICU_DC           performance_ICU_DC       0.60610589           36
pulmocomorbid                     pulmocomorbid       0.41135419           46
ICUCPR                                   ICUCPR       0.31841010           54
procalcitonin                     procalcitonin       0.88899362           30
underlying_pulmo               underlying_pulmo       0.54189778           39
CTxinICU                               CTxinICU       0.35804318           50
aPTT                                       aPTT       1.98971801           16
Refractory                           Refractory       0.36134086           49
Underlying_DM                     Underlying_DM       0.45744360           43
NewlyDx                                 NewlyDx       0.34291544           52
Hospital_death                   Hospital_death       0.27668120           60
DischargefromICU               DischargefromICU       0.29445817           57
ICU_Death                             ICU_Death       0.29418190           58
HD                                           HD       0.30252068           56
hypoalbuminemia                 hypoalbuminemia       0.35796794           51
anemia                                   anemia       0.29217875           59
cardiovasc                           cardiovasc       0.20279520           70
ICU_LOS                                 ICU_LOS       1.23606141           28
MV                                           MV       0.19828387           71
Hb                                           Hb       1.40597230           26
smk_hx                                   smk_hx       0.38979827           47
prev_ctx                               prev_ctx       0.22337940           66
performance_hospital_DC performance_hospital_DC       0.48599911           42
respfailure                         respfailure       0.20482498           69
PDT                                         PDT       0.26338130           62
sex                                         sex       0.27559812           61
DNR                                         DNR       0.32408822           53
Pre_PS                                   Pre_PS       0.71310032           33
prev_rtx                               prev_rtx       0.62394682           34
preICUDNR                             preICUDNR       0.25652333           63
BIPAP                                     BIPAP       0.21866038           67
PoorPS                                   PoorPS       0.25039586           65
PCC                                         PCC       0.10296833           81
Surgery                                 Surgery       0.30266435           55
ICUreadmission                   ICUreadmission       0.20713917           68
RRT                                         RRT       0.11202718           80
Tracheostomy                       Tracheostomy       0.12906131           76
Underlying_CV                     Underlying_CV       0.12477232           77
ILD                                         ILD       0.06959913           86
DNR_at_ICU                           DNR_at_ICU       0.25539980           64
other_malignancy               other_malignancy       0.15345494           73
postICUCPR                           postICUCPR       0.13998549           75
dx_after_adm                       dx_after_adm       0.15646626           72
postICUCtx                           postICUCtx       0.12279259           78
WBRT                                       WBRT       0.11557330           79
neurology                             neurology       0.07992600           83
PrevICUadm                           PrevICUadm       0.07864210           84
ECMO                                       ECMO       0.02840943           87
prevCPR                                 prevCPR       0.15229304           74
postICURT                             postICURT       0.00623210           88
Underlying_stroke             Underlying_stroke       0.07192472           85
prev_gks                               prev_gks       0.09781329           82
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
AKI                          6        2                            2
WBC                          6        3                            4
neutropenia                  8        4                            3
PT_percent                   9        5                            6
bacteremia                  16        6                            5
PLT                         16        7                           10
CRP                         19        8                           12
SOFA_D1                     19        9                            9
Death_Cause                 22       10                            7
BUN                         25       11                           16
timefromdx                  26       12                           18
APACH_II                    28       13                           15
Vasoactiveagent             30       14                            8
CRRT                        32       15                           14
hospital_LOS                32       16                           20
thrombocytopenia            34       17                           11
Cause_Ca_problem            36       18                           17
Albumin                     37       19                           23
Pneumonia                   40       20                           13
SAPS_II                     41       21                           24
post_dc_days                45       22                           21
MV_days                     50       23                           25
post_icu_survival           51       24                           22
prev_wbrt                   51       25                           19
PaO2FiO2                    52       26                           31
histologyNum                61       27                           30
HFNC                        65       28                           27
ICU_cause_intensivist       66       29                           29
ICU_mortal30                67       30                           26
prev_ccrt                   68       31                           28
StageNum                    69       32                           34
age                         74       33                           54
Intensivist                 77       34                           32
Distatntmets                79       35                           35
post2011                    81       36                           33
performance_ICU_DC          83       37                           47
pulmocomorbid               86       38                           40
ICUCPR                      91       39                           37
procalcitonin               91       40                           61
underlying_pulmo            91       41                           52
CTxinICU                    92       42                           42
aPTT                        94       43                           78
Refractory                  94       44                           45
Underlying_DM               94       45                           51
NewlyDx                     95       46                           43
Hospital_death              96       47                           36
DischargefromICU            98       48                           41
ICU_Death                  102       49                           44
HD                         106       50                           50
hypoalbuminemia            106       51                           55
anemia                     108       52                           49
cardiovasc                 108       53                           38
ICU_LOS                    110       54                           82
MV                         110       55                           39
Hb                         111       56                           85
smk_hx                     111       57                           64
prev_ctx                   114       58                           48
performance_hospital_DC    115       59                           73
respfailure                115       60                           46
PDT                        118       61                           56
sex                        118       62                           57
DNR                        119       63                           66
Pre_PS                     121       64                           88
prev_rtx                   121       65                           87
preICUDNR                  122       66                           59
BIPAP                      125       67                           58
PoorPS                     128       68                           63
PCC                        134       69                           53
Surgery                    135       70                           80
ICUreadmission             136       71                           68
RRT                        140       72                           60
Tracheostomy               141       73                           65
Underlying_CV              144       74                           67
ILD                        148       75                           62
DNR_at_ICU                 150       76                           86
other_malignancy           150       77                           77
postICUCPR                 151       78                           76
dx_after_adm               153       79                           81
postICUCtx                 153       80                           75
WBRT                       153       81                           74
neurology                  155       82                           72
PrevICUadm                 155       83                           71
ECMO                       156       84                           69
prevCPR                    157       85                           83
postICURT                  158       86                           70
Underlying_stroke          164       87                           79
prev_gks                   166       88                           84
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
AKI                                            4                  6
WBC                                            2                  6
neutropenia                                    5                  8
PT_percent                                     3                  9
bacteremia                                    11                 16
PLT                                            6                 16
CRP                                            7                 19
SOFA_D1                                       10                 19
Death_Cause                                   15                 22
BUN                                            9                 25
timefromdx                                     8                 26
APACH_II                                      13                 28
Vasoactiveagent                               22                 30
CRRT                                          18                 32
hospital_LOS                                  12                 32
thrombocytopenia                              23                 34
Cause_Ca_problem                              19                 36
Albumin                                       14                 37
Pneumonia                                     27                 40
SAPS_II                                       17                 41
post_dc_days                                  24                 45
MV_days                                       25                 50
post_icu_survival                             29                 51
prev_wbrt                                     32                 51
PaO2FiO2                                      21                 52
histologyNum                                  31                 61
HFNC                                          38                 65
ICU_cause_intensivist                         37                 66
ICU_mortal30                                  41                 67
prev_ccrt                                     40                 68
StageNum                                      35                 69
age                                           20                 74
Intensivist                                   45                 77
Distatntmets                                  44                 79
post2011                                      48                 81
performance_ICU_DC                            36                 83
pulmocomorbid                                 46                 86
ICUCPR                                        54                 91
procalcitonin                                 30                 91
underlying_pulmo                              39                 91
CTxinICU                                      50                 92
aPTT                                          16                 94
Refractory                                    49                 94
Underlying_DM                                 43                 94
NewlyDx                                       52                 95
Hospital_death                                60                 96
DischargefromICU                              57                 98
ICU_Death                                     58                102
HD                                            56                106
hypoalbuminemia                               51                106
anemia                                        59                108
cardiovasc                                    70                108
ICU_LOS                                       28                110
MV                                            71                110
Hb                                            26                111
smk_hx                                        47                111
prev_ctx                                      66                114
performance_hospital_DC                       42                115
respfailure                                   69                115
PDT                                           62                118
sex                                           61                118
DNR                                           53                119
Pre_PS                                        33                121
prev_rtx                                      34                121
preICUDNR                                     63                122
BIPAP                                         67                125
PoorPS                                        65                128
PCC                                           81                134
Surgery                                       55                135
ICUreadmission                                68                136
RRT                                           80                140
Tracheostomy                                  76                141
Underlying_CV                                 77                144
ILD                                           86                148
DNR_at_ICU                                    64                150
other_malignancy                              73                150
postICUCPR                                    75                151
dx_after_adm                                  72                153
postICUCtx                                    78                153
WBRT                                          79                153
neurology                                     83                155
PrevICUadm                                    84                155
ECMO                                          87                156
prevCPR                                       74                157
postICURT                                     88                158
Underlying_stroke                             85                164
prev_gks                                      82                166
number of selected top features: 9
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia" "PT_percent" 
[6] "bacteremia"  "PLT"         "CRP"         "SOFA_D1"    

[Training Random Forests classifier on the training set with only the top  9  features]

[Applying the trained Random Forests classifier on the test set with only the top  9  features]

PR AUC (integral) 	0.4796448
ROC AUC 		0.7904762

Brier score =  0.151  (best value: 0; worst value: 1)

TOTAL:

 FN =  3  /  5 	 (truth == 1) & (prediction < threshold)
 TP =  2  /  5 	 (truth == 1) & (prediction >= threshold)

 FP =  4  /  21 	 (truth == 0) & (prediction >= threshold)
 TN =  17  /  21 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.196 	 0.364 	 	0.731 	 	0.400 	 	0.810		0.333	 	0.850	 	0.480	0.790

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.611319e-02           1
AKI                             1.502752e-02           2
WBC                             9.815252e-03           4
neutropenia                     1.165878e-02           3
PT_percent                      6.133266e-03           8
CRP                             3.256139e-03          13
PLT                             4.147417e-03          11
SOFA_D1                         5.386514e-03           9
bacteremia                      7.341866e-03           5
Death_Cause                     6.136414e-03           7
APACH_II                        3.099868e-03          15
CRRT                            5.248943e-03          10
BUN                             1.290465e-03          19
Vasoactiveagent                 6.252914e-03           6
hospital_LOS                    1.499526e-03          18
timefromdx                      1.096753e-03          22
Albumin                         9.963105e-04          23
SAPS_II                         1.196337e-03          21
Cause_Ca_problem                2.538909e-03          17
Pneumonia                       3.447400e-03          12
thrombocytopenia                3.230247e-03          14
prev_wbrt                       2.836437e-03          16
post_dc_days                    8.838625e-04          25
age                             4.664704e-04          33
MV_days                         5.670638e-04          29
post_icu_survival               8.757356e-04          26
ICU_cause_intensivist           9.565929e-04          24
ICU_mortal30                    1.213854e-03          20
underlying_pulmo                5.903421e-04          28
Hb                              1.794225e-04          43
prev_ccrt                       8.742423e-04          27
PaO2FiO2                        1.193639e-04          47
pulmocomorbid                   4.930982e-04          31
HFNC                            2.437969e-04          39
NewlyDx                         2.873425e-04          36
ICUCPR                          3.460992e-04          35
Distatntmets                    1.892354e-04          41
ICU_Death                       4.944239e-04          30
Underlying_DM                   1.496140e-04          44
DischargefromICU                2.030931e-04          40
post2011                        2.466089e-04          38
HD                              2.495857e-04          37
Intensivist                     1.428052e-04          45
aPTT                           -1.013444e-04          76
cardiovasc                      4.826825e-04          32
Hospital_death                  3.548629e-04          34
hypoalbuminemia                 7.556122e-05          50
histologyNum                   -4.976772e-05          70
anemia                          9.638640e-05          48
ICU_LOS                        -1.076732e-04          78
CTxinICU                        1.395607e-04          46
Refractory                      7.021921e-06          59
MV                              1.796378e-04          42
Surgery                         4.847225e-05          51
StageNum                       -8.100008e-05          75
performance_ICU_DC             -1.364843e-04          82
Pre_PS                         -1.637928e-04          84
procalcitonin                  -3.956633e-04          88
performance_hospital_DC        -1.135521e-04          79
DNR                            -4.357740e-05          69
prev_rtx                       -1.759528e-04          86
respfailure                     3.835759e-05          53
ILD                             7.903700e-05          49
preICUDNR                       0.000000e+00          61
prev_ctx                        2.091520e-05          57
smk_hx                         -6.308842e-05          72
RRT                             2.448460e-05          55
ICUreadmission                 -2.517566e-05          66
prevCPR                        -2.093188e-05          64
postICUCtx                      1.684943e-05          58
WBRT                            2.315104e-05          56
PrevICUadm                      2.524334e-05          54
sex                            -7.646657e-05          73
dx_after_adm                   -1.356165e-05          63
PDT                            -5.992207e-05          71
ECMO                            4.339345e-05          52
DNR_at_ICU                     -1.283979e-04          81
postICUCPR                     -3.021083e-05          67
PCC                             1.723436e-06          60
PoorPS                         -2.796504e-04          87
postICURT                      -2.479986e-06          62
Tracheostomy                   -2.152784e-05          65
neurology                      -3.916557e-05          68
BIPAP                          -7.689809e-05          74
other_malignancy               -1.744980e-04          85
prev_gks                       -1.029165e-04          77
Underlying_CV                  -1.418078e-04          83
Underlying_stroke              -1.174304e-04          80
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC       6.42690401            1
AKI                                         AKI       4.00506405            3
WBC                                         WBC       5.30501045            2
neutropenia                         neutropenia       3.44555937            5
PT_percent                           PT_percent       3.44051712            6
CRP                                         CRP       3.46394944            4
PLT                                         PLT       3.07892357            7
SOFA_D1                                 SOFA_D1       2.67377443           10
bacteremia                           bacteremia       2.09342284           15
Death_Cause                         Death_Cause       2.10735755           13
APACH_II                               APACH_II       2.57254717           11
CRRT                                       CRRT       2.04162094           17
BUN                                         BUN       2.68544417            9
Vasoactiveagent                 Vasoactiveagent       1.63692982           22
hospital_LOS                       hospital_LOS       2.53049266           12
timefromdx                           timefromdx       2.86654267            8
Albumin                                 Albumin       2.10061591           14
SAPS_II                                 SAPS_II       2.06895260           16
Cause_Ca_problem               Cause_Ca_problem       1.70307991           21
Pneumonia                             Pneumonia       1.10793320           28
thrombocytopenia               thrombocytopenia       1.18230006           27
prev_wbrt                             prev_wbrt       0.97559697           30
post_dc_days                       post_dc_days       1.35887281           25
age                                         age       1.93774200           18
MV_days                                 MV_days       1.40693006           24
post_icu_survival             post_icu_survival       1.09349009           29
ICU_cause_intensivist     ICU_cause_intensivist       0.70873023           35
ICU_mortal30                       ICU_mortal30       0.51463559           40
underlying_pulmo               underlying_pulmo       0.69172824           36
Hb                                           Hb       1.46467651           23
prev_ccrt                             prev_ccrt       0.58988476           39
PaO2FiO2                               PaO2FiO2       1.77788887           20
pulmocomorbid                     pulmocomorbid       0.51083024           41
HFNC                                       HFNC       0.48655923           43
NewlyDx                                 NewlyDx       0.40897547           46
ICUCPR                                   ICUCPR       0.36820026           50
Distatntmets                       Distatntmets       0.41877072           45
ICU_Death                             ICU_Death       0.31217979           58
Underlying_DM                     Underlying_DM       0.46723094           44
DischargefromICU               DischargefromICU       0.37353302           49
post2011                               post2011       0.34618439           52
HD                                           HD       0.33152080           54
Intensivist                         Intensivist       0.37569410           47
aPTT                                       aPTT       1.88141995           19
cardiovasc                           cardiovasc       0.25643527           63
Hospital_death                   Hospital_death       0.26338384           62
hypoalbuminemia                 hypoalbuminemia       0.35937009           51
histologyNum                       histologyNum       0.87758749           32
anemia                                   anemia       0.32138341           56
ICU_LOS                                 ICU_LOS       1.24463647           26
CTxinICU                               CTxinICU       0.29828064           60
Refractory                           Refractory       0.37432221           48
MV                                           MV       0.21541700           66
Surgery                                 Surgery       0.31905748           57
StageNum                               StageNum       0.59979416           38
performance_ICU_DC           performance_ICU_DC       0.73374199           34
Pre_PS                                   Pre_PS       0.75573727           33
procalcitonin                     procalcitonin       0.88595526           31
performance_hospital_DC performance_hospital_DC       0.49417290           42
DNR                                         DNR       0.33304978           53
prev_rtx                               prev_rtx       0.61743946           37
respfailure                         respfailure       0.17712061           71
ILD                                         ILD       0.14198012           76
preICUDNR                             preICUDNR       0.24823875           65
prev_ctx                               prev_ctx       0.18704197           69
smk_hx                                   smk_hx       0.32632980           55
RRT                                         RRT       0.15188588           74
ICUreadmission                   ICUreadmission       0.19729938           68
prevCPR                                 prevCPR       0.17717650           70
postICUCtx                           postICUCtx       0.13826623           77
WBRT                                       WBRT       0.12996575           79
PrevICUadm                           PrevICUadm       0.08458875           82
sex                                         sex       0.24967410           64
dx_after_adm                       dx_after_adm       0.15074866           75
PDT                                         PDT       0.19806580           67
ECMO                                       ECMO       0.03499081           87
DNR_at_ICU                           DNR_at_ICU       0.30315417           59
postICUCPR                           postICUCPR       0.15579597           73
PCC                                         PCC       0.03599511           86
PoorPS                                   PoorPS       0.27082609           61
postICURT                             postICURT       0.00760413           88
Tracheostomy                       Tracheostomy       0.06499829           85
neurology                             neurology       0.08416979           83
BIPAP                                     BIPAP       0.12326797           80
other_malignancy               other_malignancy       0.17335622           72
prev_gks                               prev_gks       0.10244257           81
Underlying_CV                     Underlying_CV       0.13337743           78
Underlying_stroke             Underlying_stroke       0.08371270           84
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
AKI                          5        2                            2
WBC                          6        3                            4
neutropenia                  8        4                            3
PT_percent                  14        5                            8
CRP                         17        6                           13
PLT                         18        7                           11
SOFA_D1                     19        8                            9
bacteremia                  20        9                            5
Death_Cause                 20       10                            7
APACH_II                    26       11                           15
CRRT                        27       12                           10
BUN                         28       13                           19
Vasoactiveagent             28       14                            6
hospital_LOS                30       15                           18
timefromdx                  30       16                           22
Albumin                     37       17                           23
SAPS_II                     37       18                           21
Cause_Ca_problem            38       19                           17
Pneumonia                   40       20                           12
thrombocytopenia            41       21                           14
prev_wbrt                   46       22                           16
post_dc_days                50       23                           25
age                         51       24                           33
MV_days                     53       25                           29
post_icu_survival           55       26                           26
ICU_cause_intensivist       59       27                           24
ICU_mortal30                60       28                           20
underlying_pulmo            64       29                           28
Hb                          66       30                           43
prev_ccrt                   66       31                           27
PaO2FiO2                    67       32                           47
pulmocomorbid               72       33                           31
HFNC                        82       34                           39
NewlyDx                     82       35                           36
ICUCPR                      85       36                           35
Distatntmets                86       37                           41
ICU_Death                   88       38                           30
Underlying_DM               88       39                           44
DischargefromICU            89       40                           40
post2011                    90       41                           38
HD                          91       42                           37
Intensivist                 92       43                           45
aPTT                        95       44                           76
cardiovasc                  95       45                           32
Hospital_death              96       46                           34
hypoalbuminemia            101       47                           50
histologyNum               102       48                           70
anemia                     104       49                           48
ICU_LOS                    104       50                           78
CTxinICU                   106       51                           46
Refractory                 107       52                           59
MV                         108       53                           42
Surgery                    108       54                           51
StageNum                   113       55                           75
performance_ICU_DC         116       56                           82
Pre_PS                     117       57                           84
procalcitonin              119       58                           88
performance_hospital_DC    121       59                           79
DNR                        122       60                           69
prev_rtx                   123       61                           86
respfailure                124       62                           53
ILD                        125       63                           49
preICUDNR                  126       64                           61
prev_ctx                   126       65                           57
smk_hx                     127       66                           72
RRT                        129       67                           55
ICUreadmission             134       68                           66
prevCPR                    134       69                           64
postICUCtx                 135       70                           58
WBRT                       135       71                           56
PrevICUadm                 136       72                           54
sex                        137       73                           73
dx_after_adm               138       74                           63
PDT                        138       75                           71
ECMO                       139       76                           52
DNR_at_ICU                 140       77                           81
postICUCPR                 140       78                           67
PCC                        146       79                           60
PoorPS                     148       80                           87
postICURT                  150       81                           62
Tracheostomy               150       82                           65
neurology                  151       83                           68
BIPAP                      154       84                           74
other_malignancy           157       85                           85
prev_gks                   158       86                           77
Underlying_CV              161       87                           83
Underlying_stroke          164       88                           80
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
AKI                                            3                  5
WBC                                            2                  6
neutropenia                                    5                  8
PT_percent                                     6                 14
CRP                                            4                 17
PLT                                            7                 18
SOFA_D1                                       10                 19
bacteremia                                    15                 20
Death_Cause                                   13                 20
APACH_II                                      11                 26
CRRT                                          17                 27
BUN                                            9                 28
Vasoactiveagent                               22                 28
hospital_LOS                                  12                 30
timefromdx                                     8                 30
Albumin                                       14                 37
SAPS_II                                       16                 37
Cause_Ca_problem                              21                 38
Pneumonia                                     28                 40
thrombocytopenia                              27                 41
prev_wbrt                                     30                 46
post_dc_days                                  25                 50
age                                           18                 51
MV_days                                       24                 53
post_icu_survival                             29                 55
ICU_cause_intensivist                         35                 59
ICU_mortal30                                  40                 60
underlying_pulmo                              36                 64
Hb                                            23                 66
prev_ccrt                                     39                 66
PaO2FiO2                                      20                 67
pulmocomorbid                                 41                 72
HFNC                                          43                 82
NewlyDx                                       46                 82
ICUCPR                                        50                 85
Distatntmets                                  45                 86
ICU_Death                                     58                 88
Underlying_DM                                 44                 88
DischargefromICU                              49                 89
post2011                                      52                 90
HD                                            54                 91
Intensivist                                   47                 92
aPTT                                          19                 95
cardiovasc                                    63                 95
Hospital_death                                62                 96
hypoalbuminemia                               51                101
histologyNum                                  32                102
anemia                                        56                104
ICU_LOS                                       26                104
CTxinICU                                      60                106
Refractory                                    48                107
MV                                            66                108
Surgery                                       57                108
StageNum                                      38                113
performance_ICU_DC                            34                116
Pre_PS                                        33                117
procalcitonin                                 31                119
performance_hospital_DC                       42                121
DNR                                           53                122
prev_rtx                                      37                123
respfailure                                   71                124
ILD                                           76                125
preICUDNR                                     65                126
prev_ctx                                      69                126
smk_hx                                        55                127
RRT                                           74                129
ICUreadmission                                68                134
prevCPR                                       70                134
postICUCtx                                    77                135
WBRT                                          79                135
PrevICUadm                                    82                136
sex                                           64                137
dx_after_adm                                  75                138
PDT                                           67                138
ECMO                                          87                139
DNR_at_ICU                                    59                140
postICUCPR                                    73                140
PCC                                           86                146
PoorPS                                        61                148
postICURT                                     88                150
Tracheostomy                                  85                150
neurology                                     83                151
BIPAP                                         80                154
other_malignancy                              72                157
prev_gks                                      81                158
Underlying_CV                                 78                161
Underlying_stroke                             84                164
number of selected top features: 9
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia" "PT_percent" 
[6] "CRP"         "PLT"         "SOFA_D1"     "bacteremia" 

[Training Random Forests classifier on the training set with only the top  9  features]

[Applying the trained Random Forests classifier on the test set with only the top  9  features]

PR AUC (integral) 	0.7465339
ROC AUC 		0.8194444

Brier score =  0.128  (best value: 0; worst value: 1)

TOTAL:

 FN =  2  /  8 	 (truth == 1) & (prediction < threshold)
 TP =  6  /  8 	 (truth == 1) & (prediction >= threshold)

 FP =  2  /  18 	 (truth == 0) & (prediction >= threshold)
 TN =  16  /  18 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.639 	 0.750 	 	0.846 	 	0.750 	 	0.889		0.750	 	0.889	 	0.747	0.819




=== final results ===
Number of executions = 10
                MCC F1_score accuracy TP_rate TN_rate    PPV    NPV PR_AUC
nbr.val      10.000   10.000   10.000  10.000  10.000 10.000 10.000 10.000
nbr.null      0.000    1.000    0.000   1.000   0.000  1.000  0.000  0.000
nbr.na        0.000    0.000    0.000   0.000   0.000  0.000  0.000  0.000
min          -0.058    0.000    0.654   0.000   0.722  0.000  0.765  0.307
max           0.639    0.750    0.885   0.750   0.958  0.750  0.920  0.865
range         0.697    0.750    0.231   0.750   0.236  0.750  0.155  0.559
sum           3.321    4.557    7.885   4.396   8.775  5.044  8.491  5.999
median        0.341    0.485    0.788   0.450   0.897  0.500  0.850  0.605
mean          0.332    0.456    0.788   0.440   0.878  0.504  0.849  0.600
SE.mean       0.063    0.066    0.021   0.072   0.024  0.070  0.017  0.059
CI.mean.0.95  0.144    0.150    0.047   0.162   0.055  0.159  0.038  0.134
var           0.040    0.044    0.004   0.051   0.006  0.049  0.003  0.035
std.dev       0.201    0.210    0.066   0.227   0.077  0.222  0.053  0.187
coef.var      0.605    0.461    0.084   0.516   0.087  0.440  0.063  0.312
             ROC_AUC
nbr.val       10.000
nbr.null       0.000
nbr.na         0.000
min            0.646
max            0.962
range          0.316
sum            8.207
median         0.814
mean           0.821
SE.mean        0.028
CI.mean.0.95   0.063
var            0.008
std.dev        0.088
coef.var       0.107


=== === === ===
          MCC F1_score accuracy TP_rate TN_rate   PPV   NPV PR_AUC ROC_AUC
mean    0.332    0.456    0.788   0.440   0.878 0.504 0.849  0.600   0.821
std.dev 0.201    0.210    0.066   0.227   0.077 0.222 0.053  0.187   0.088


=== === === ===



Total execution time: 1.642866 seconds
0 days, 00 hours, 01 minutes, 38.57 seconds

We'll plot only the top 20 features
applied command: mkdir -p ../results/
just run the command: mkdir -p ../results/
saved plot in file ../results/MeanDecreaseAccuracy_features_83191.pdf
just run the command: mkdir -p ../results/
saved plot in file ../results/MeanDecreaseGini_features_83191.pdf
null device 
          1 
