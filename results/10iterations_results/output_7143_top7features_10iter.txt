TOP_FEATURES_NUMBER = 7
NUM_ITERATIONS = 10
TRAIN_SET_OVERSAMPLING_SYNTHETIC == FALSE
Read data from file ../data/pone0210951_s006_dataset_EDITED_IMPUTED.csv
adenoca
large_cell_NEC
mixed
neuroendocrine_tumor
nonsmall_cell
others
poorly_differentiated
sarcomatoid
small_cell
squamous


The target feature is Sepsis
application of dplyr::select()
TRAINING_SET_RATIO = 0.9
Number of classification executions = 10	Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.602519e-02           1
AKI                             1.573171e-02           2
WBC                             9.231783e-03           4
neutropenia                     1.282998e-02           3
PT_percent                      5.605389e-03           8
CRRT                            8.646310e-03           5
PLT                             4.294957e-03          10
bacteremia                      8.169275e-03           6
BUN                             2.756229e-03          16
SOFA_D1                         4.160072e-03          11
CRP                             2.384664e-03          18
hospital_LOS                    1.862645e-03          19
APACH_II                        2.677080e-03          17
Death_Cause                     5.296519e-03           9
Vasoactiveagent                 5.866638e-03           7
Cause_Ca_problem                3.130338e-03          14
Albumin                         1.259332e-03          21
prev_wbrt                       3.681832e-03          13
Pneumonia                       3.874085e-03          12
timefromdx                      5.881739e-04          29
SAPS_II                         1.032123e-03          26
post_dc_days                    1.270588e-03          20
thrombocytopenia                3.119784e-03          15
MV_days                         1.039205e-03          25
PaO2FiO2                        4.199787e-04          31
age                             4.090941e-04          32
post_icu_survival               1.147510e-03          23
ICU_cause_intensivist           1.169118e-03          22
ICU_mortal30                    1.095668e-03          24
aPTT                            1.299544e-04          52
Hb                              2.003464e-04          47
StageNum                        3.961625e-04          34
histologyNum                    3.028152e-04          42
Distatntmets                    4.002110e-04          33
underlying_pulmo                3.640251e-04          40
ICUCPR                          4.734879e-04          30
cardiovasc                      7.959362e-04          27
Underlying_DM                   3.731033e-04          38
prev_ccrt                       3.829261e-04          36
HD                              3.814709e-04          37
Hospital_death                  6.646228e-04          28
pulmocomorbid                   2.499242e-04          43
NewlyDx                         2.435642e-04          45
HFNC                            1.354643e-04          51
ICU_Death                       3.860775e-04          35
Intensivist                     1.838404e-04          48
ICU_LOS                        -1.663879e-05          70
DischargefromICU                2.183694e-04          46
procalcitonin                  -1.342735e-06          68
post2011                        3.642428e-04          39
Refractory                      8.901361e-05          56
performance_hospital_DC         6.507555e-06          65
preICUDNR                       1.481249e-04          49
sex                             1.189737e-04          53
hypoalbuminemia                 9.337620e-05          55
anemia                          6.798160e-05          59
MV                              2.442209e-04          44
respfailure                     3.368054e-04          41
Pre_PS                         -1.407696e-04          86
PoorPS                          6.237547e-05          60
performance_ICU_DC             -2.547966e-04          87
prev_rtx                       -2.901798e-04          88
DNR                            -2.354131e-05          72
Surgery                         5.871560e-06          66
BIPAP                           4.020840e-05          61
prev_ctx                        7.959323e-05          57
CTxinICU                        2.158737e-05          64
PCC                             1.467566e-04          50
postICUCtx                      1.121533e-04          54
prevCPR                         3.032133e-05          62
ILD                             6.849060e-05          58
smk_hx                         -4.997494e-05          78
DNR_at_ICU                     -4.479559e-05          75
RRT                             2.209528e-05          63
ICUreadmission                 -4.988746e-05          77
PDT                            -9.171027e-05          82
postICUCPR                     -4.621081e-05          76
Underlying_CV                  -6.014791e-05          79
Tracheostomy                   -3.497388e-05          74
postICURT                       4.521073e-06          67
ECMO                           -2.352941e-06          69
PrevICUadm                     -1.818875e-05          71
dx_after_adm                   -9.750201e-05          83
neurology                      -2.593604e-05          73
other_malignancy               -1.144026e-04          85
WBRT                           -7.923593e-05          80
Underlying_stroke              -8.997767e-05          81
prev_gks                       -1.136825e-04          84
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.414820843            1
AKI                                         AKI      4.258653773            3
WBC                                         WBC      5.359546275            2
neutropenia                         neutropenia      3.979955338            4
PT_percent                           PT_percent      3.293335913            5
CRRT                                       CRRT      2.974849180            9
PLT                                         PLT      3.136438477            6
bacteremia                           bacteremia      2.264532373           14
BUN                                         BUN      3.132450381            7
SOFA_D1                                 SOFA_D1      2.479035812           12
CRP                                         CRP      3.094249666            8
hospital_LOS                       hospital_LOS      2.612067765           10
APACH_II                               APACH_II      2.438281055           13
Death_Cause                         Death_Cause      1.744362450           21
Vasoactiveagent                 Vasoactiveagent      1.452953940           23
Cause_Ca_problem               Cause_Ca_problem      1.748594898           20
Albumin                                 Albumin      1.889198141           16
prev_wbrt                             prev_wbrt      1.280990402           26
Pneumonia                             Pneumonia      1.125361253           28
timefromdx                           timefromdx      2.580741015           11
SAPS_II                                 SAPS_II      1.905945307           15
post_dc_days                       post_dc_days      1.349855015           25
thrombocytopenia               thrombocytopenia      1.048974104           30
MV_days                                 MV_days      1.355666000           24
PaO2FiO2                               PaO2FiO2      1.827750692           18
age                                         age      1.782191463           19
post_icu_survival             post_icu_survival      1.051382556           29
ICU_cause_intensivist     ICU_cause_intensivist      0.689784436           34
ICU_mortal30                       ICU_mortal30      0.519168245           39
aPTT                                       aPTT      1.841087656           17
Hb                                           Hb      1.483229500           22
StageNum                               StageNum      0.624301158           35
histologyNum                       histologyNum      0.887847596           32
Distatntmets                       Distatntmets      0.399843804           43
underlying_pulmo               underlying_pulmo      0.580980108           36
ICUCPR                                   ICUCPR      0.368480944           47
cardiovasc                           cardiovasc      0.325216604           51
Underlying_DM                     Underlying_DM      0.497811733           40
prev_ccrt                             prev_ccrt      0.387154978           44
HD                                           HD      0.341980537           50
Hospital_death                   Hospital_death      0.306272690           59
pulmocomorbid                     pulmocomorbid      0.384524962           45
NewlyDx                                 NewlyDx      0.379583641           46
HFNC                                       HFNC      0.450612530           41
ICU_Death                             ICU_Death      0.294911599           61
Intensivist                         Intensivist      0.363944298           48
ICU_LOS                                 ICU_LOS      1.205356973           27
DischargefromICU               DischargefromICU      0.324450727           52
procalcitonin                     procalcitonin      0.969207615           31
post2011                               post2011      0.283334371           63
Refractory                           Refractory      0.346933417           49
performance_hospital_DC performance_hospital_DC      0.443460328           42
preICUDNR                             preICUDNR      0.307413256           58
sex                                         sex      0.310655056           56
hypoalbuminemia                 hypoalbuminemia      0.317690867           55
anemia                                   anemia      0.320190537           53
MV                                           MV      0.209041328           68
respfailure                         respfailure      0.170916045           72
Pre_PS                                   Pre_PS      0.691279909           33
PoorPS                                   PoorPS      0.279574738           64
performance_ICU_DC           performance_ICU_DC      0.538072481           38
prev_rtx                               prev_rtx      0.580586241           37
DNR                                         DNR      0.319076070           54
Surgery                                 Surgery      0.305937218           60
BIPAP                                     BIPAP      0.226259080           66
prev_ctx                               prev_ctx      0.187327699           70
CTxinICU                               CTxinICU      0.217448547           67
PCC                                         PCC      0.110903084           81
postICUCtx                           postICUCtx      0.132962069           78
prevCPR                                 prevCPR      0.174656898           71
ILD                                         ILD      0.143663472           76
smk_hx                                   smk_hx      0.308700326           57
DNR_at_ICU                           DNR_at_ICU      0.294032679           62
RRT                                         RRT      0.117219715           80
ICUreadmission                   ICUreadmission      0.189133267           69
PDT                                         PDT      0.232629807           65
postICUCPR                           postICUCPR      0.147109942           75
Underlying_CV                     Underlying_CV      0.154282976           73
Tracheostomy                       Tracheostomy      0.118236674           79
postICURT                             postICURT      0.007702831           88
ECMO                                       ECMO      0.024810335           87
PrevICUadm                           PrevICUadm      0.083995704           85
dx_after_adm                       dx_after_adm      0.153307487           74
neurology                             neurology      0.077613199           86
other_malignancy               other_malignancy      0.138009213           77
WBRT                                       WBRT      0.104800999           82
Underlying_stroke             Underlying_stroke      0.095270210           83
prev_gks                               prev_gks      0.094632583           84
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
AKI                          5        2                            2
WBC                          6        3                            4
neutropenia                  7        4                            3
PT_percent                  13        5                            8
CRRT                        14        6                            5
PLT                         16        7                           10
bacteremia                  20        8                            6
BUN                         23        9                           16
SOFA_D1                     23       10                           11
CRP                         26       11                           18
hospital_LOS                29       12                           19
APACH_II                    30       13                           17
Death_Cause                 30       14                            9
Vasoactiveagent             30       15                            7
Cause_Ca_problem            34       16                           14
Albumin                     37       17                           21
prev_wbrt                   39       18                           13
Pneumonia                   40       19                           12
timefromdx                  40       20                           29
SAPS_II                     41       21                           26
post_dc_days                45       22                           20
thrombocytopenia            45       23                           15
MV_days                     49       24                           25
PaO2FiO2                    49       25                           31
age                         51       26                           32
post_icu_survival           52       27                           23
ICU_cause_intensivist       56       28                           22
ICU_mortal30                63       29                           24
aPTT                        69       30                           52
Hb                          69       31                           47
StageNum                    69       32                           34
histologyNum                74       33                           42
Distatntmets                76       34                           33
underlying_pulmo            76       35                           40
ICUCPR                      77       36                           30
cardiovasc                  78       37                           27
Underlying_DM               78       38                           38
prev_ccrt                   80       39                           36
HD                          87       40                           37
Hospital_death              87       41                           28
pulmocomorbid               88       42                           43
NewlyDx                     91       43                           45
HFNC                        92       44                           51
ICU_Death                   96       45                           35
Intensivist                 96       46                           48
ICU_LOS                     97       47                           70
DischargefromICU            98       48                           46
procalcitonin               99       49                           68
post2011                   102       50                           39
Refractory                 105       51                           56
performance_hospital_DC    107       52                           65
preICUDNR                  107       53                           49
sex                        109       54                           53
hypoalbuminemia            110       55                           55
anemia                     112       56                           59
MV                         112       57                           44
respfailure                113       58                           41
Pre_PS                     119       59                           86
PoorPS                     124       60                           60
performance_ICU_DC         125       61                           87
prev_rtx                   125       62                           88
DNR                        126       63                           72
Surgery                    126       64                           66
BIPAP                      127       65                           61
prev_ctx                   127       66                           57
CTxinICU                   131       67                           64
PCC                        131       68                           50
postICUCtx                 132       69                           54
prevCPR                    133       70                           62
ILD                        134       71                           58
smk_hx                     135       72                           78
DNR_at_ICU                 137       73                           75
RRT                        143       74                           63
ICUreadmission             146       75                           77
PDT                        147       76                           82
postICUCPR                 151       77                           76
Underlying_CV              152       78                           79
Tracheostomy               153       79                           74
postICURT                  155       80                           67
ECMO                       156       81                           69
PrevICUadm                 156       82                           71
dx_after_adm               157       83                           83
neurology                  159       84                           73
other_malignancy           162       85                           85
WBRT                       162       86                           80
Underlying_stroke          164       87                           81
prev_gks                   168       88                           84
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
AKI                                            3                  5
WBC                                            2                  6
neutropenia                                    4                  7
PT_percent                                     5                 13
CRRT                                           9                 14
PLT                                            6                 16
bacteremia                                    14                 20
BUN                                            7                 23
SOFA_D1                                       12                 23
CRP                                            8                 26
hospital_LOS                                  10                 29
APACH_II                                      13                 30
Death_Cause                                   21                 30
Vasoactiveagent                               23                 30
Cause_Ca_problem                              20                 34
Albumin                                       16                 37
prev_wbrt                                     26                 39
Pneumonia                                     28                 40
timefromdx                                    11                 40
SAPS_II                                       15                 41
post_dc_days                                  25                 45
thrombocytopenia                              30                 45
MV_days                                       24                 49
PaO2FiO2                                      18                 49
age                                           19                 51
post_icu_survival                             29                 52
ICU_cause_intensivist                         34                 56
ICU_mortal30                                  39                 63
aPTT                                          17                 69
Hb                                            22                 69
StageNum                                      35                 69
histologyNum                                  32                 74
Distatntmets                                  43                 76
underlying_pulmo                              36                 76
ICUCPR                                        47                 77
cardiovasc                                    51                 78
Underlying_DM                                 40                 78
prev_ccrt                                     44                 80
HD                                            50                 87
Hospital_death                                59                 87
pulmocomorbid                                 45                 88
NewlyDx                                       46                 91
HFNC                                          41                 92
ICU_Death                                     61                 96
Intensivist                                   48                 96
ICU_LOS                                       27                 97
DischargefromICU                              52                 98
procalcitonin                                 31                 99
post2011                                      63                102
Refractory                                    49                105
performance_hospital_DC                       42                107
preICUDNR                                     58                107
sex                                           56                109
hypoalbuminemia                               55                110
anemia                                        53                112
MV                                            68                112
respfailure                                   72                113
Pre_PS                                        33                119
PoorPS                                        64                124
performance_ICU_DC                            38                125
prev_rtx                                      37                125
DNR                                           54                126
Surgery                                       60                126
BIPAP                                         66                127
prev_ctx                                      70                127
CTxinICU                                      67                131
PCC                                           81                131
postICUCtx                                    78                132
prevCPR                                       71                133
ILD                                           76                134
smk_hx                                        57                135
DNR_at_ICU                                    62                137
RRT                                           80                143
ICUreadmission                                69                146
PDT                                           65                147
postICUCPR                                    75                151
Underlying_CV                                 73                152
Tracheostomy                                  79                153
postICURT                                     88                155
ECMO                                          87                156
PrevICUadm                                    85                156
dx_after_adm                                  74                157
neurology                                     86                159
other_malignancy                              77                162
WBRT                                          82                162
Underlying_stroke                             83                164
prev_gks                                      84                168
number of selected top features: 7
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia" "PT_percent" 
[6] "CRRT"        "PLT"        

[Training Random Forests classifier on the training set with only the top  7  features]

[Applying the trained Random Forests classifier on the test set with only the top  7  features]

PR AUC (integral) 	0.7404724
ROC AUC 		0.8194444

Brier score =  0.160  (best value: 0; worst value: 1)

TOTAL:

 FN =  6  /  8 	 (truth == 1) & (prediction < threshold)
 TP =  2  /  8 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  18 	 (truth == 0) & (prediction >= threshold)
 TN =  17  /  18 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.281 	 0.364 	 	0.731 	 	0.250 	 	0.944		0.667	 	0.739	 	0.740	0.819

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.592404e-02           1
neutropenia                     1.481747e-02           2
WBC                             1.017803e-02           4
AKI                             1.300783e-02           3
BUN                             6.605931e-03           7
PT_percent                      6.447387e-03           8
CRP                             5.578110e-03          11
bacteremia                      9.728111e-03           5
CRRT                            8.183939e-03           6
SOFA_D1                         5.543303e-03          12
PLT                             3.563534e-03          14
Death_Cause                     5.610055e-03          10
APACH_II                        2.896892e-03          17
Vasoactiveagent                 5.740407e-03           9
SAPS_II                         1.811750e-03          19
Albumin                         1.326309e-03          22
Cause_Ca_problem                2.989368e-03          16
Pneumonia                       4.768976e-03          13
timefromdx                      7.734139e-04          28
hospital_LOS                    9.704989e-04          25
thrombocytopenia                3.210875e-03          15
age                             8.566199e-04          26
post_dc_days                    1.322110e-03          23
prev_wbrt                       2.265250e-03          18
PaO2FiO2                        6.971110e-04          30
post_icu_survival               1.524392e-03          21
MV_days                         7.776913e-04          27
ICU_cause_intensivist           1.706594e-03          20
ICU_mortal30                    1.156634e-03          24
HFNC                            7.562305e-04          29
ICU_LOS                         2.020160e-04          43
procalcitonin                   2.349245e-04          42
StageNum                        3.021310e-04          38
HD                              4.337711e-04          31
NewlyDx                         2.568515e-04          40
Intensivist                     2.386543e-04          41
prev_ccrt                       2.832481e-04          39
post2011                        3.567914e-04          34
Underlying_DM                   1.841892e-04          45
pulmocomorbid                   1.593564e-04          47
Hospital_death                  3.872197e-04          33
underlying_pulmo                5.552758e-05          56
ICUCPR                          3.228017e-04          37
cardiovasc                      4.027871e-04          32
anemia                          1.835442e-04          46
Hb                             -5.660736e-05          75
ICU_Death                       3.294026e-04          36
aPTT                           -1.402746e-04          83
MV                              3.371087e-04          35
CTxinICU                        8.760707e-05          53
DischargefromICU                7.325619e-05          55
histologyNum                   -4.123820e-05          74
DNR                             1.294296e-04          48
hypoalbuminemia                -1.061758e-06          65
preICUDNR                       9.140933e-05          52
respfailure                     1.972598e-04          44
smk_hx                         -9.553496e-06          67
PoorPS                          3.508279e-05          59
performance_hospital_DC        -6.353112e-05          77
prevCPR                         1.182127e-04          50
Surgery                         5.408849e-05          57
Pre_PS                         -2.842471e-04          88
performance_ICU_DC             -1.567065e-04          86
DNR_at_ICU                     -1.322010e-05          68
prev_rtx                       -2.463019e-04          87
Distatntmets                   -2.033069e-05          70
postICUCtx                      1.195579e-04          49
prev_ctx                        4.503045e-05          58
ILD                             9.396806e-05          51
Refractory                     -1.058795e-04          80
sex                            -3.379099e-05          73
BIPAP                          -7.274925e-06          66
RRT                             1.197878e-05          61
Underlying_CV                   1.293134e-05          60
PCC                             7.952635e-05          54
WBRT                            3.019454e-06          62
ICUreadmission                 -6.143601e-05          76
PDT                            -1.320665e-04          82
ECMO                            0.000000e+00          63
postICURT                       0.000000e+00          64
dx_after_adm                   -7.131640e-05          79
PrevICUadm                     -1.335426e-05          69
postICUCPR                     -7.122192e-05          78
neurology                      -2.812287e-05          71
other_malignancy               -1.443866e-04          84
prev_gks                       -2.814410e-05          72
Tracheostomy                   -1.170018e-04          81
Underlying_stroke              -1.541238e-04          85
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.548381875            1
neutropenia                         neutropenia      4.190709992            3
WBC                                         WBC      5.261784314            2
AKI                                         AKI      3.940395908            4
BUN                                         BUN      3.716562865            7
PT_percent                           PT_percent      3.720871449            6
CRP                                         CRP      3.746205621            5
bacteremia                           bacteremia      2.513384233           12
CRRT                                       CRRT      2.481119975           13
SOFA_D1                                 SOFA_D1      2.828775760            9
PLT                                         PLT      2.867597407            8
Death_Cause                         Death_Cause      1.931948282           17
APACH_II                               APACH_II      2.613636007           11
Vasoactiveagent                 Vasoactiveagent      1.583186311           22
SAPS_II                                 SAPS_II      2.117266768           16
Albumin                                 Albumin      2.186810134           15
Cause_Ca_problem               Cause_Ca_problem      1.626807092           21
Pneumonia                             Pneumonia      1.378102745           25
timefromdx                           timefromdx      2.675592508           10
hospital_LOS                       hospital_LOS      2.222393753           14
thrombocytopenia               thrombocytopenia      1.140020442           28
age                                         age      1.844946759           19
post_dc_days                       post_dc_days      1.464377158           23
prev_wbrt                             prev_wbrt      0.982423443           31
PaO2FiO2                               PaO2FiO2      1.821648480           20
post_icu_survival             post_icu_survival      1.113083939           29
MV_days                                 MV_days      1.342588012           26
ICU_cause_intensivist     ICU_cause_intensivist      0.788031935           34
ICU_mortal30                       ICU_mortal30      0.414866796           41
HFNC                                       HFNC      0.506284164           38
ICU_LOS                                 ICU_LOS      1.265651489           27
procalcitonin                     procalcitonin      1.073184396           30
StageNum                               StageNum      0.622838848           35
HD                                           HD      0.321734013           50
NewlyDx                                 NewlyDx      0.396600554           42
Intensivist                         Intensivist      0.356033525           46
prev_ccrt                             prev_ccrt      0.341692431           48
post2011                               post2011      0.301648180           54
Underlying_DM                     Underlying_DM      0.390115195           44
pulmocomorbid                     pulmocomorbid      0.361113019           45
Hospital_death                   Hospital_death      0.272268989           62
underlying_pulmo               underlying_pulmo      0.499513096           39
ICUCPR                                   ICUCPR      0.288704532           59
cardiovasc                           cardiovasc      0.264618400           65
anemia                                   anemia      0.316954529           53
Hb                                           Hb      1.451207039           24
ICU_Death                             ICU_Death      0.268986402           64
aPTT                                       aPTT      1.931259739           18
MV                                           MV      0.217461189           67
CTxinICU                               CTxinICU      0.320912593           51
DischargefromICU               DischargefromICU      0.325540931           49
histologyNum                       histologyNum      0.821020908           32
DNR                                         DNR      0.283741794           60
hypoalbuminemia                 hypoalbuminemia      0.390207606           43
preICUDNR                             preICUDNR      0.297634769           58
respfailure                         respfailure      0.201750783           69
smk_hx                                   smk_hx      0.342468525           47
PoorPS                                   PoorPS      0.299433191           56
performance_hospital_DC performance_hospital_DC      0.434654077           40
prevCPR                                 prevCPR      0.215557415           68
Surgery                                 Surgery      0.279322984           61
Pre_PS                                   Pre_PS      0.806052626           33
performance_ICU_DC           performance_ICU_DC      0.552367313           36
DNR_at_ICU                           DNR_at_ICU      0.300431202           55
prev_rtx                               prev_rtx      0.549371283           37
Distatntmets                       Distatntmets      0.297934107           57
postICUCtx                           postICUCtx      0.117855771           79
prev_ctx                               prev_ctx      0.197981988           72
ILD                                         ILD      0.115952624           80
Refractory                           Refractory      0.318791165           52
sex                                         sex      0.269198723           63
BIPAP                                     BIPAP      0.200081132           71
RRT                                         RRT      0.143657136           76
Underlying_CV                     Underlying_CV      0.141357762           77
PCC                                         PCC      0.068408764           85
WBRT                                       WBRT      0.135437805           78
ICUreadmission                   ICUreadmission      0.201626432           70
PDT                                         PDT      0.244067520           66
ECMO                                       ECMO      0.004200905           88
postICURT                             postICURT      0.009339385           87
dx_after_adm                       dx_after_adm      0.164238622           73
PrevICUadm                           PrevICUadm      0.086806264           83
postICUCPR                           postICUCPR      0.146023318           75
neurology                             neurology      0.079722132           84
other_malignancy               other_malignancy      0.160716388           74
prev_gks                               prev_gks      0.050840338           86
Tracheostomy                       Tracheostomy      0.105443929           81
Underlying_stroke             Underlying_stroke      0.089416708           82
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
neutropenia                  5        2                            2
WBC                          6        3                            4
AKI                          7        4                            3
BUN                         14        5                            7
PT_percent                  14        6                            8
CRP                         16        7                           11
bacteremia                  17        8                            5
CRRT                        19        9                            6
SOFA_D1                     21       10                           12
PLT                         22       11                           14
Death_Cause                 27       12                           10
APACH_II                    28       13                           17
Vasoactiveagent             31       14                            9
SAPS_II                     35       15                           19
Albumin                     37       16                           22
Cause_Ca_problem            37       17                           16
Pneumonia                   38       18                           13
timefromdx                  38       19                           28
hospital_LOS                39       20                           25
thrombocytopenia            43       21                           15
age                         45       22                           26
post_dc_days                46       23                           23
prev_wbrt                   49       24                           18
PaO2FiO2                    50       25                           30
post_icu_survival           50       26                           21
MV_days                     53       27                           27
ICU_cause_intensivist       54       28                           20
ICU_mortal30                65       29                           24
HFNC                        67       30                           29
ICU_LOS                     70       31                           43
procalcitonin               72       32                           42
StageNum                    73       33                           38
HD                          81       34                           31
NewlyDx                     82       35                           40
Intensivist                 87       36                           41
prev_ccrt                   87       37                           39
post2011                    88       38                           34
Underlying_DM               89       39                           45
pulmocomorbid               92       40                           47
Hospital_death              95       41                           33
underlying_pulmo            95       42                           56
ICUCPR                      96       43                           37
cardiovasc                  97       44                           32
anemia                      99       45                           46
Hb                          99       46                           75
ICU_Death                  100       47                           36
aPTT                       101       48                           83
MV                         102       49                           35
CTxinICU                   104       50                           53
DischargefromICU           104       51                           55
histologyNum               106       52                           74
DNR                        108       53                           48
hypoalbuminemia            108       54                           65
preICUDNR                  110       55                           52
respfailure                113       56                           44
smk_hx                     114       57                           67
PoorPS                     115       58                           59
performance_hospital_DC    117       59                           77
prevCPR                    118       60                           50
Surgery                    118       61                           57
Pre_PS                     121       62                           88
performance_ICU_DC         122       63                           86
DNR_at_ICU                 123       64                           68
prev_rtx                   124       65                           87
Distatntmets               127       66                           70
postICUCtx                 128       67                           49
prev_ctx                   130       68                           58
ILD                        131       69                           51
Refractory                 132       70                           80
sex                        136       71                           73
BIPAP                      137       72                           66
RRT                        137       73                           61
Underlying_CV              137       74                           60
PCC                        139       75                           54
WBRT                       140       76                           62
ICUreadmission             146       77                           76
PDT                        148       78                           82
ECMO                       151       79                           63
postICURT                  151       80                           64
dx_after_adm               152       81                           79
PrevICUadm                 152       82                           69
postICUCPR                 153       83                           78
neurology                  155       84                           71
other_malignancy           158       85                           84
prev_gks                   158       86                           72
Tracheostomy               162       87                           81
Underlying_stroke          167       88                           85
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
neutropenia                                    3                  5
WBC                                            2                  6
AKI                                            4                  7
BUN                                            7                 14
PT_percent                                     6                 14
CRP                                            5                 16
bacteremia                                    12                 17
CRRT                                          13                 19
SOFA_D1                                        9                 21
PLT                                            8                 22
Death_Cause                                   17                 27
APACH_II                                      11                 28
Vasoactiveagent                               22                 31
SAPS_II                                       16                 35
Albumin                                       15                 37
Cause_Ca_problem                              21                 37
Pneumonia                                     25                 38
timefromdx                                    10                 38
hospital_LOS                                  14                 39
thrombocytopenia                              28                 43
age                                           19                 45
post_dc_days                                  23                 46
prev_wbrt                                     31                 49
PaO2FiO2                                      20                 50
post_icu_survival                             29                 50
MV_days                                       26                 53
ICU_cause_intensivist                         34                 54
ICU_mortal30                                  41                 65
HFNC                                          38                 67
ICU_LOS                                       27                 70
procalcitonin                                 30                 72
StageNum                                      35                 73
HD                                            50                 81
NewlyDx                                       42                 82
Intensivist                                   46                 87
prev_ccrt                                     48                 87
post2011                                      54                 88
Underlying_DM                                 44                 89
pulmocomorbid                                 45                 92
Hospital_death                                62                 95
underlying_pulmo                              39                 95
ICUCPR                                        59                 96
cardiovasc                                    65                 97
anemia                                        53                 99
Hb                                            24                 99
ICU_Death                                     64                100
aPTT                                          18                101
MV                                            67                102
CTxinICU                                      51                104
DischargefromICU                              49                104
histologyNum                                  32                106
DNR                                           60                108
hypoalbuminemia                               43                108
preICUDNR                                     58                110
respfailure                                   69                113
smk_hx                                        47                114
PoorPS                                        56                115
performance_hospital_DC                       40                117
prevCPR                                       68                118
Surgery                                       61                118
Pre_PS                                        33                121
performance_ICU_DC                            36                122
DNR_at_ICU                                    55                123
prev_rtx                                      37                124
Distatntmets                                  57                127
postICUCtx                                    79                128
prev_ctx                                      72                130
ILD                                           80                131
Refractory                                    52                132
sex                                           63                136
BIPAP                                         71                137
RRT                                           76                137
Underlying_CV                                 77                137
PCC                                           85                139
WBRT                                          78                140
ICUreadmission                                70                146
PDT                                           66                148
ECMO                                          88                151
postICURT                                     87                151
dx_after_adm                                  73                152
PrevICUadm                                    83                152
postICUCPR                                    75                153
neurology                                     84                155
other_malignancy                              74                158
prev_gks                                      86                158
Tracheostomy                                  81                162
Underlying_stroke                             82                167
number of selected top features: 7
selected top features: 
[1] "ANC"         "neutropenia" "WBC"         "AKI"         "BUN"        
[6] "PT_percent"  "CRP"        

[Training Random Forests classifier on the training set with only the top  7  features]

[Applying the trained Random Forests classifier on the test set with only the top  7  features]

PR AUC (integral) 	0.5597683
ROC AUC 		0.775

Brier score =  0.140  (best value: 0; worst value: 1)

TOTAL:

 FN =  5  /  6 	 (truth == 1) & (prediction < threshold)
 TP =  1  /  6 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  20 	 (truth == 0) & (prediction >= threshold)
 TN =  19  /  20 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.184 	 0.250 	 	0.769 	 	0.167 	 	0.950		0.500	 	0.792	 	0.560	0.775

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.864720e-02           1
neutropenia                     1.302955e-02           2
WBC                             1.136206e-02           4
AKI                             1.242776e-02           3
PT_percent                      5.612892e-03           8
bacteremia                      1.052261e-02           5
BUN                             4.452658e-03          10
SOFA_D1                         6.010778e-03           6
PLT                             3.986261e-03          13
APACH_II                        4.436682e-03          11
timefromdx                      3.133257e-03          17
CRP                             3.268893e-03          16
CRRT                            5.167279e-03           9
Vasoactiveagent                 5.653875e-03           7
Death_Cause                     4.212932e-03          12
hospital_LOS                    1.307803e-03          21
SAPS_II                         2.077132e-03          20
Cause_Ca_problem                2.671147e-03          18
Albumin                         1.136588e-03          24
Pneumonia                       3.503139e-03          14
thrombocytopenia                3.273082e-03          15
post_dc_days                    1.219609e-03          22
prev_wbrt                       2.275509e-03          19
PaO2FiO2                        3.680439e-04          34
post_icu_survival               1.077959e-03          25
age                             3.053693e-04          38
MV_days                         4.207562e-04          32
ICU_cause_intensivist           1.137399e-03          23
ICU_LOS                         3.806828e-04          33
aPTT                            1.436929e-04          49
StageNum                        4.333856e-04          31
prev_ccrt                       7.318320e-04          26
HFNC                            5.111401e-04          29
ICU_mortal30                    6.674327e-04          27
Intensivist                     5.458576e-04          28
DischargefromICU                2.427624e-04          41
underlying_pulmo                1.651549e-04          47
hypoalbuminemia                 2.404410e-04          44
post2011                        3.371733e-04          36
Underlying_DM                   3.056359e-04          37
NewlyDx                         2.597394e-04          40
CTxinICU                        2.949990e-04          39
ICU_Death                       3.639588e-04          35
cardiovasc                      4.796829e-04          30
Distatntmets                    1.331205e-04          51
prev_rtx                        2.178385e-05          61
sex                             1.396218e-04          50
ICUCPR                          2.419067e-04          42
preICUDNR                       1.593742e-04          48
Hospital_death                  2.417413e-04          43
MV                              1.780545e-04          45
pulmocomorbid                   4.089962e-05          60
Hb                             -3.797479e-04          88
histologyNum                   -6.889570e-05          79
HD                              1.662158e-04          46
procalcitonin                  -1.468798e-04          82
Pre_PS                         -1.172589e-04          81
anemia                          7.836217e-05          54
DNR                            -3.214252e-05          70
respfailure                     9.280613e-05          52
ICUreadmission                  6.967943e-05          56
performance_hospital_DC        -2.073830e-04          85
performance_ICU_DC             -3.210813e-04          87
PDT                             4.309856e-05          59
Surgery                        -4.124461e-05          72
postICUCtx                      8.101163e-05          53
smk_hx                         -1.922115e-04          84
PoorPS                         -3.782054e-05          71
BIPAP                          -1.434471e-05          65
DNR_at_ICU                     -6.213318e-05          78
ILD                             6.550153e-05          57
PCC                             7.502663e-05          55
RRT                            -1.369388e-05          64
other_malignancy               -2.584135e-05          69
Refractory                     -3.092514e-04          86
ECMO                            4.511150e-05          58
Tracheostomy                   -1.860026e-05          67
prevCPR                        -4.266373e-05          73
prev_ctx                       -6.070322e-05          76
neurology                       1.870292e-05          62
postICUCPR                     -6.160484e-05          77
WBRT                           -2.281022e-05          68
PrevICUadm                     -1.450469e-05          66
postICURT                       0.000000e+00          63
dx_after_adm                   -4.674237e-05          74
Underlying_CV                  -1.134417e-04          80
Underlying_stroke              -5.999228e-05          75
prev_gks                       -1.786295e-04          83
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.667295128            1
neutropenia                         neutropenia      3.997009417            3
WBC                                         WBC      5.623903364            2
AKI                                         AKI      3.514444453            4
PT_percent                           PT_percent      3.469465894            5
bacteremia                           bacteremia      2.971707151           10
BUN                                         BUN      3.195024317            7
SOFA_D1                                 SOFA_D1      2.944612031           11
PLT                                         PLT      3.043816281            9
APACH_II                               APACH_II      2.853705749           12
timefromdx                           timefromdx      3.384492929            6
CRP                                         CRP      3.164734726            8
CRRT                                       CRRT      2.071514477           15
Vasoactiveagent                 Vasoactiveagent      1.621321939           21
Death_Cause                         Death_Cause      1.618207640           22
hospital_LOS                       hospital_LOS      2.629143267           13
SAPS_II                                 SAPS_II      2.176959320           14
Cause_Ca_problem               Cause_Ca_problem      1.638256943           20
Albumin                                 Albumin      2.067857471           16
Pneumonia                             Pneumonia      1.149361044           28
thrombocytopenia               thrombocytopenia      1.167725875           27
post_dc_days                       post_dc_days      1.241209130           25
prev_wbrt                             prev_wbrt      0.924857685           30
PaO2FiO2                               PaO2FiO2      1.649026629           19
post_icu_survival             post_icu_survival      1.108547525           29
age                                         age      1.891177834           18
MV_days                                 MV_days      1.315207139           24
ICU_cause_intensivist     ICU_cause_intensivist      0.727075518           34
ICU_LOS                                 ICU_LOS      1.225650617           26
aPTT                                       aPTT      1.973350548           17
StageNum                               StageNum      0.616721248           35
prev_ccrt                             prev_ccrt      0.482445531           41
HFNC                                       HFNC      0.483068745           40
ICU_mortal30                       ICU_mortal30      0.422637262           42
Intensivist                         Intensivist      0.420601780           43
DischargefromICU               DischargefromICU      0.378006652           45
underlying_pulmo               underlying_pulmo      0.492323683           39
hypoalbuminemia                 hypoalbuminemia      0.391924638           44
post2011                               post2011      0.336520682           53
Underlying_DM                     Underlying_DM      0.338905534           52
NewlyDx                                 NewlyDx      0.347513637           50
CTxinICU                               CTxinICU      0.322987366           54
ICU_Death                             ICU_Death      0.292021876           58
cardiovasc                           cardiovasc      0.241690653           65
Distatntmets                       Distatntmets      0.376372772           46
prev_rtx                               prev_rtx      0.563041226           37
sex                                         sex      0.340626791           51
ICUCPR                                   ICUCPR      0.276517800           60
preICUDNR                             preICUDNR      0.317946806           55
Hospital_death                   Hospital_death      0.242187472           64
MV                                           MV      0.247634593           63
pulmocomorbid                     pulmocomorbid      0.349639596           48
Hb                                           Hb      1.426700144           23
histologyNum                       histologyNum      0.845827161           32
HD                                           HD      0.232155625           67
procalcitonin                     procalcitonin      0.878470588           31
Pre_PS                                   Pre_PS      0.741604703           33
anemia                                   anemia      0.262138196           62
DNR                                         DNR      0.347920069           49
respfailure                         respfailure      0.211732744           69
ICUreadmission                   ICUreadmission      0.241267055           66
performance_hospital_DC performance_hospital_DC      0.508914993           38
performance_ICU_DC           performance_ICU_DC      0.581978575           36
PDT                                         PDT      0.218910691           68
Surgery                                 Surgery      0.303885664           56
postICUCtx                           postICUCtx      0.119388490           78
smk_hx                                   smk_hx      0.358799207           47
PoorPS                                   PoorPS      0.268182834           61
BIPAP                                     BIPAP      0.197947696           70
DNR_at_ICU                           DNR_at_ICU      0.288332764           59
ILD                                         ILD      0.113028854           80
PCC                                         PCC      0.079704628           83
RRT                                         RRT      0.126837884           76
other_malignancy               other_malignancy      0.161464353           74
Refractory                           Refractory      0.298699356           57
ECMO                                       ECMO      0.056354460           86
Tracheostomy                       Tracheostomy      0.120351752           77
prevCPR                                 prevCPR      0.165428197           73
prev_ctx                               prev_ctx      0.173484805           71
neurology                             neurology      0.044801971           87
postICUCPR                           postICUCPR      0.173087657           72
WBRT                                       WBRT      0.105957366           81
PrevICUadm                           PrevICUadm      0.071073069           84
postICURT                             postICURT      0.003130476           88
dx_after_adm                       dx_after_adm      0.115403254           79
Underlying_CV                     Underlying_CV      0.129101372           75
Underlying_stroke             Underlying_stroke      0.064928669           85
prev_gks                               prev_gks      0.100377299           82
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
neutropenia                  5        2                            2
WBC                          6        3                            4
AKI                          7        4                            3
PT_percent                  13        5                            8
bacteremia                  15        6                            5
BUN                         17        7                           10
SOFA_D1                     17        8                            6
PLT                         22        9                           13
APACH_II                    23       10                           11
timefromdx                  23       11                           17
CRP                         24       12                           16
CRRT                        24       13                            9
Vasoactiveagent             28       14                            7
Death_Cause                 34       15                           12
hospital_LOS                34       16                           21
SAPS_II                     34       17                           20
Cause_Ca_problem            38       18                           18
Albumin                     40       19                           24
Pneumonia                   42       20                           14
thrombocytopenia            42       21                           15
post_dc_days                47       22                           22
prev_wbrt                   49       23                           19
PaO2FiO2                    53       24                           34
post_icu_survival           54       25                           25
age                         56       26                           38
MV_days                     56       27                           32
ICU_cause_intensivist       57       28                           23
ICU_LOS                     59       29                           33
aPTT                        66       30                           49
StageNum                    66       31                           31
prev_ccrt                   67       32                           26
HFNC                        69       33                           29
ICU_mortal30                69       34                           27
Intensivist                 71       35                           28
DischargefromICU            86       36                           41
underlying_pulmo            86       37                           47
hypoalbuminemia             88       38                           44
post2011                    89       39                           36
Underlying_DM               89       40                           37
NewlyDx                     90       41                           40
CTxinICU                    93       42                           39
ICU_Death                   93       43                           35
cardiovasc                  95       44                           30
Distatntmets                97       45                           51
prev_rtx                    98       46                           61
sex                        101       47                           50
ICUCPR                     102       48                           42
preICUDNR                  103       49                           48
Hospital_death             107       50                           43
MV                         108       51                           45
pulmocomorbid              108       52                           60
Hb                         111       53                           88
histologyNum               111       54                           79
HD                         113       55                           46
procalcitonin              113       56                           82
Pre_PS                     114       57                           81
anemia                     116       58                           54
DNR                        119       59                           70
respfailure                121       60                           52
ICUreadmission             122       61                           56
performance_hospital_DC    123       62                           85
performance_ICU_DC         123       63                           87
PDT                        127       64                           59
Surgery                    128       65                           72
postICUCtx                 131       66                           53
smk_hx                     131       67                           84
PoorPS                     132       68                           71
BIPAP                      135       69                           65
DNR_at_ICU                 137       70                           78
ILD                        137       71                           57
PCC                        138       72                           55
RRT                        140       73                           64
other_malignancy           143       74                           69
Refractory                 143       75                           86
ECMO                       144       76                           58
Tracheostomy               144       77                           67
prevCPR                    146       78                           73
prev_ctx                   147       79                           76
neurology                  149       80                           62
postICUCPR                 149       81                           77
WBRT                       149       82                           68
PrevICUadm                 150       83                           66
postICURT                  151       84                           63
dx_after_adm               153       85                           74
Underlying_CV              155       86                           80
Underlying_stroke          160       87                           75
prev_gks                   165       88                           83
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
neutropenia                                    3                  5
WBC                                            2                  6
AKI                                            4                  7
PT_percent                                     5                 13
bacteremia                                    10                 15
BUN                                            7                 17
SOFA_D1                                       11                 17
PLT                                            9                 22
APACH_II                                      12                 23
timefromdx                                     6                 23
CRP                                            8                 24
CRRT                                          15                 24
Vasoactiveagent                               21                 28
Death_Cause                                   22                 34
hospital_LOS                                  13                 34
SAPS_II                                       14                 34
Cause_Ca_problem                              20                 38
Albumin                                       16                 40
Pneumonia                                     28                 42
thrombocytopenia                              27                 42
post_dc_days                                  25                 47
prev_wbrt                                     30                 49
PaO2FiO2                                      19                 53
post_icu_survival                             29                 54
age                                           18                 56
MV_days                                       24                 56
ICU_cause_intensivist                         34                 57
ICU_LOS                                       26                 59
aPTT                                          17                 66
StageNum                                      35                 66
prev_ccrt                                     41                 67
HFNC                                          40                 69
ICU_mortal30                                  42                 69
Intensivist                                   43                 71
DischargefromICU                              45                 86
underlying_pulmo                              39                 86
hypoalbuminemia                               44                 88
post2011                                      53                 89
Underlying_DM                                 52                 89
NewlyDx                                       50                 90
CTxinICU                                      54                 93
ICU_Death                                     58                 93
cardiovasc                                    65                 95
Distatntmets                                  46                 97
prev_rtx                                      37                 98
sex                                           51                101
ICUCPR                                        60                102
preICUDNR                                     55                103
Hospital_death                                64                107
MV                                            63                108
pulmocomorbid                                 48                108
Hb                                            23                111
histologyNum                                  32                111
HD                                            67                113
procalcitonin                                 31                113
Pre_PS                                        33                114
anemia                                        62                116
DNR                                           49                119
respfailure                                   69                121
ICUreadmission                                66                122
performance_hospital_DC                       38                123
performance_ICU_DC                            36                123
PDT                                           68                127
Surgery                                       56                128
postICUCtx                                    78                131
smk_hx                                        47                131
PoorPS                                        61                132
BIPAP                                         70                135
DNR_at_ICU                                    59                137
ILD                                           80                137
PCC                                           83                138
RRT                                           76                140
other_malignancy                              74                143
Refractory                                    57                143
ECMO                                          86                144
Tracheostomy                                  77                144
prevCPR                                       73                146
prev_ctx                                      71                147
neurology                                     87                149
postICUCPR                                    72                149
WBRT                                          81                149
PrevICUadm                                    84                150
postICURT                                     88                151
dx_after_adm                                  79                153
Underlying_CV                                 75                155
Underlying_stroke                             85                160
prev_gks                                      82                165
number of selected top features: 7
selected top features: 
[1] "ANC"         "neutropenia" "WBC"         "AKI"         "PT_percent" 
[6] "bacteremia"  "BUN"        

[Training Random Forests classifier on the training set with only the top  7  features]

[Applying the trained Random Forests classifier on the test set with only the top  7  features]

PR AUC (integral) 	0.6942326
ROC AUC 		0.7406015

Brier score =  0.141  (best value: 0; worst value: 1)

TOTAL:

 FN =  4  /  7 	 (truth == 1) & (prediction < threshold)
 TP =  3  /  7 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  19 	 (truth == 0) & (prediction >= threshold)
 TN =  18  /  19 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.462 	 0.545 	 	0.808 	 	0.429 	 	0.947		0.750	 	0.818	 	0.694	0.741

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.461021e-02           1
WBC                             7.862294e-03           4
AKI                             1.236880e-02           2
PT_percent                      5.838618e-03           7
BUN                             5.159869e-03           8
neutropenia                     9.247191e-03           3
SOFA_D1                         7.213301e-03           5
PLT                             4.616042e-03          10
Vasoactiveagent                 6.085981e-03           6
APACH_II                        3.386919e-03          15
CRP                             3.162771e-03          18
hospital_LOS                    2.098608e-03          19
Pneumonia                       5.075355e-03           9
Death_Cause                     4.297646e-03          12
Albumin                         2.062441e-03          20
Cause_Ca_problem                3.290638e-03          16
bacteremia                      4.467081e-03          11
CRRT                            3.963032e-03          13
timefromdx                      9.855794e-04          24
thrombocytopenia                3.776828e-03          14
age                             5.359956e-04          28
SAPS_II                         5.347891e-04          29
prev_wbrt                       3.188012e-03          17
post_dc_days                    1.544622e-03          22
ICU_cause_intensivist           1.802927e-03          21
MV_days                         5.389207e-04          27
post_icu_survival               8.548287e-04          25
aPTT                            2.601534e-04          43
ICU_mortal30                    1.185818e-03          23
ICU_LOS                         3.858479e-04          34
PaO2FiO2                        1.895410e-04          51
StageNum                        3.615774e-04          36
histologyNum                    2.885365e-04          40
hypoalbuminemia                 4.716631e-04          32
prev_ccrt                       3.873583e-04          33
ICU_Death                       6.381449e-04          26
ICUCPR                          5.175080e-04          31
DischargefromICU                3.316289e-04          37
Underlying_DM                   2.748202e-04          42
HFNC                            2.582572e-04          45
underlying_pulmo                2.208386e-04          47
sex                             3.114133e-04          38
NewlyDx                         2.833395e-04          41
Hb                             -2.484596e-05          68
Hospital_death                  5.261155e-04          30
pulmocomorbid                   2.053918e-04          50
post2011                        2.600252e-04          44
Refractory                      9.557667e-05          56
cardiovasc                      3.634034e-04          35
respfailure                     2.992476e-04          39
CTxinICU                        2.439240e-04          46
DNR                             8.864194e-05          57
performance_hospital_DC        -3.547569e-05          70
Pre_PS                         -6.346036e-05          74
anemia                          1.524237e-04          52
HD                              2.201154e-04          48
Intensivist                     1.707576e-05          63
MV                              2.095575e-04          49
Distatntmets                   -4.806366e-05          73
preICUDNR                       1.078880e-04          54
procalcitonin                  -1.766099e-04          86
performance_ICU_DC             -1.228545e-04          82
prev_ctx                        1.476537e-04          53
smk_hx                         -1.158690e-05          67
prev_rtx                       -2.787672e-04          88
PDT                             1.812145e-05          62
Surgery                        -6.575962e-05          75
postICUCtx                      4.584032e-05          58
BIPAP                           1.464577e-05          64
RRT                             2.975365e-05          60
ICUreadmission                 -4.698249e-05          71
PCC                             1.015078e-04          55
DNR_at_ICU                     -1.417822e-04          84
PoorPS                         -1.214883e-04          81
ILD                             2.283907e-05          61
dx_after_adm                   -3.234034e-05          69
ECMO                            3.249662e-05          59
neurology                      -7.118373e-06          66
prevCPR                        -1.035841e-04          79
postICUCPR                     -1.064824e-04          80
postICURT                       1.969317e-06          65
PrevICUadm                     -4.746256e-05          72
Underlying_CV                  -1.002130e-04          78
Tracheostomy                   -7.022444e-05          77
other_malignancy               -1.331648e-04          83
Underlying_stroke              -6.662485e-05          76
WBRT                           -1.753002e-04          85
prev_gks                       -1.865745e-04          87
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.099082804            1
WBC                                         WBC      4.897480771            2
AKI                                         AKI      3.596400303            6
PT_percent                           PT_percent      3.947074943            3
BUN                                         BUN      3.628686771            4
neutropenia                         neutropenia      3.107268324            9
SOFA_D1                                 SOFA_D1      3.467270361            7
PLT                                         PLT      3.606766120            5
Vasoactiveagent                 Vasoactiveagent      1.739279551           19
APACH_II                               APACH_II      2.911080632           11
CRP                                         CRP      3.148978906            8
hospital_LOS                       hospital_LOS      2.961474139           10
Pneumonia                             Pneumonia      1.594168508           22
Death_Cause                         Death_Cause      1.735825713           20
Albumin                                 Albumin      2.407762377           13
Cause_Ca_problem               Cause_Ca_problem      1.857339033           17
bacteremia                           bacteremia      1.573525715           23
CRRT                                       CRRT      1.654685256           21
timefromdx                           timefromdx      2.896143835           12
thrombocytopenia               thrombocytopenia      1.444483923           25
age                                         age      1.871937275           16
SAPS_II                                 SAPS_II      2.106422934           15
prev_wbrt                             prev_wbrt      1.306065863           28
post_dc_days                       post_dc_days      1.423365186           27
ICU_cause_intensivist     ICU_cause_intensivist      0.885436542           31
MV_days                                 MV_days      1.438330134           26
post_icu_survival             post_icu_survival      1.097480878           30
aPTT                                       aPTT      2.142595198           14
ICU_mortal30                       ICU_mortal30      0.615420625           36
ICU_LOS                                 ICU_LOS      1.296895565           29
PaO2FiO2                               PaO2FiO2      1.782074976           18
StageNum                               StageNum      0.663512255           35
histologyNum                       histologyNum      0.879797781           33
hypoalbuminemia                 hypoalbuminemia      0.498128989           42
prev_ccrt                             prev_ccrt      0.382214247           46
ICU_Death                             ICU_Death      0.330827736           54
ICUCPR                                   ICUCPR      0.350410408           52
DischargefromICU               DischargefromICU      0.373129680           48
Underlying_DM                     Underlying_DM      0.481042537           43
HFNC                                       HFNC      0.524663273           41
underlying_pulmo               underlying_pulmo      0.544303405           39
sex                                         sex      0.371306421           49
NewlyDx                                 NewlyDx      0.358851801           50
Hb                                           Hb      1.564790430           24
Hospital_death                   Hospital_death      0.271506283           62
pulmocomorbid                     pulmocomorbid      0.378869347           47
post2011                               post2011      0.324556261           55
Refractory                           Refractory      0.415325579           44
cardiovasc                           cardiovasc      0.227352819           67
respfailure                         respfailure      0.243609519           65
CTxinICU                               CTxinICU      0.273688556           61
DNR                                         DNR      0.355357323           51
performance_hospital_DC performance_hospital_DC      0.545551462           38
Pre_PS                                   Pre_PS      0.742222678           34
anemia                                   anemia      0.307241744           58
HD                                           HD      0.268436023           63
Intensivist                         Intensivist      0.347957057           53
MV                                           MV      0.224169021           68
Distatntmets                       Distatntmets      0.383080056           45
preICUDNR                             preICUDNR      0.251338955           64
procalcitonin                     procalcitonin      0.884291462           32
performance_ICU_DC           performance_ICU_DC      0.598884300           37
prev_ctx                               prev_ctx      0.234431082           66
smk_hx                                   smk_hx      0.315441313           56
prev_rtx                               prev_rtx      0.539708933           40
PDT                                         PDT      0.185724644           70
Surgery                                 Surgery      0.290201041           59
postICUCtx                           postICUCtx      0.136728831           77
BIPAP                                     BIPAP      0.174971309           72
RRT                                         RRT      0.135134345           78
ICUreadmission                   ICUreadmission      0.194732639           69
PCC                                         PCC      0.086560406           85
DNR_at_ICU                           DNR_at_ICU      0.308818651           57
PoorPS                                   PoorPS      0.285406200           60
ILD                                         ILD      0.101487034           81
dx_after_adm                       dx_after_adm      0.157569310           74
ECMO                                       ECMO      0.028674951           87
neurology                             neurology      0.089626200           84
prevCPR                                 prevCPR      0.175730829           71
postICUCPR                           postICUCPR      0.167038827           73
postICURT                             postICURT      0.007372855           88
PrevICUadm                           PrevICUadm      0.092273256           82
Underlying_CV                     Underlying_CV      0.151867054           76
Tracheostomy                       Tracheostomy      0.123549289           79
other_malignancy               other_malignancy      0.152076911           75
Underlying_stroke             Underlying_stroke      0.085971481           86
WBRT                                       WBRT      0.110069767           80
prev_gks                               prev_gks      0.091040956           83
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
WBC                          6        2                            4
AKI                          8        3                            2
PT_percent                  10        4                            7
BUN                         12        5                            8
neutropenia                 12        6                            3
SOFA_D1                     12        7                            5
PLT                         15        8                           10
Vasoactiveagent             25        9                            6
APACH_II                    26       10                           15
CRP                         26       11                           18
hospital_LOS                29       12                           19
Pneumonia                   31       13                            9
Death_Cause                 32       14                           12
Albumin                     33       15                           20
Cause_Ca_problem            33       16                           16
bacteremia                  34       17                           11
CRRT                        34       18                           13
timefromdx                  36       19                           24
thrombocytopenia            39       20                           14
age                         44       21                           28
SAPS_II                     44       22                           29
prev_wbrt                   45       23                           17
post_dc_days                49       24                           22
ICU_cause_intensivist       52       25                           21
MV_days                     53       26                           27
post_icu_survival           55       27                           25
aPTT                        57       28                           43
ICU_mortal30                59       29                           23
ICU_LOS                     63       30                           34
PaO2FiO2                    69       31                           51
StageNum                    71       32                           36
histologyNum                73       33                           40
hypoalbuminemia             74       34                           32
prev_ccrt                   79       35                           33
ICU_Death                   80       36                           26
ICUCPR                      83       37                           31
DischargefromICU            85       38                           37
Underlying_DM               85       39                           42
HFNC                        86       40                           45
underlying_pulmo            86       41                           47
sex                         87       42                           38
NewlyDx                     91       43                           41
Hb                          92       44                           68
Hospital_death              92       45                           30
pulmocomorbid               97       46                           50
post2011                    99       47                           44
Refractory                 100       48                           56
cardiovasc                 102       49                           35
respfailure                104       50                           39
CTxinICU                   107       51                           46
DNR                        108       52                           57
performance_hospital_DC    108       53                           70
Pre_PS                     108       54                           74
anemia                     110       55                           52
HD                         111       56                           48
Intensivist                116       57                           63
MV                         117       58                           49
Distatntmets               118       59                           73
preICUDNR                  118       60                           54
procalcitonin              118       61                           86
performance_ICU_DC         119       62                           82
prev_ctx                   119       63                           53
smk_hx                     123       64                           67
prev_rtx                   128       65                           88
PDT                        132       66                           62
Surgery                    134       67                           75
postICUCtx                 135       68                           58
BIPAP                      136       69                           64
RRT                        138       70                           60
ICUreadmission             140       71                           71
PCC                        140       72                           55
DNR_at_ICU                 141       73                           84
PoorPS                     141       74                           81
ILD                        142       75                           61
dx_after_adm               143       76                           69
ECMO                       146       77                           59
neurology                  150       78                           66
prevCPR                    150       79                           79
postICUCPR                 153       80                           80
postICURT                  153       81                           65
PrevICUadm                 154       82                           72
Underlying_CV              154       83                           78
Tracheostomy               156       84                           77
other_malignancy           158       85                           83
Underlying_stroke          162       86                           76
WBRT                       165       87                           85
prev_gks                   170       88                           87
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
WBC                                            2                  6
AKI                                            6                  8
PT_percent                                     3                 10
BUN                                            4                 12
neutropenia                                    9                 12
SOFA_D1                                        7                 12
PLT                                            5                 15
Vasoactiveagent                               19                 25
APACH_II                                      11                 26
CRP                                            8                 26
hospital_LOS                                  10                 29
Pneumonia                                     22                 31
Death_Cause                                   20                 32
Albumin                                       13                 33
Cause_Ca_problem                              17                 33
bacteremia                                    23                 34
CRRT                                          21                 34
timefromdx                                    12                 36
thrombocytopenia                              25                 39
age                                           16                 44
SAPS_II                                       15                 44
prev_wbrt                                     28                 45
post_dc_days                                  27                 49
ICU_cause_intensivist                         31                 52
MV_days                                       26                 53
post_icu_survival                             30                 55
aPTT                                          14                 57
ICU_mortal30                                  36                 59
ICU_LOS                                       29                 63
PaO2FiO2                                      18                 69
StageNum                                      35                 71
histologyNum                                  33                 73
hypoalbuminemia                               42                 74
prev_ccrt                                     46                 79
ICU_Death                                     54                 80
ICUCPR                                        52                 83
DischargefromICU                              48                 85
Underlying_DM                                 43                 85
HFNC                                          41                 86
underlying_pulmo                              39                 86
sex                                           49                 87
NewlyDx                                       50                 91
Hb                                            24                 92
Hospital_death                                62                 92
pulmocomorbid                                 47                 97
post2011                                      55                 99
Refractory                                    44                100
cardiovasc                                    67                102
respfailure                                   65                104
CTxinICU                                      61                107
DNR                                           51                108
performance_hospital_DC                       38                108
Pre_PS                                        34                108
anemia                                        58                110
HD                                            63                111
Intensivist                                   53                116
MV                                            68                117
Distatntmets                                  45                118
preICUDNR                                     64                118
procalcitonin                                 32                118
performance_ICU_DC                            37                119
prev_ctx                                      66                119
smk_hx                                        56                123
prev_rtx                                      40                128
PDT                                           70                132
Surgery                                       59                134
postICUCtx                                    77                135
BIPAP                                         72                136
RRT                                           78                138
ICUreadmission                                69                140
PCC                                           85                140
DNR_at_ICU                                    57                141
PoorPS                                        60                141
ILD                                           81                142
dx_after_adm                                  74                143
ECMO                                          87                146
neurology                                     84                150
prevCPR                                       71                150
postICUCPR                                    73                153
postICURT                                     88                153
PrevICUadm                                    82                154
Underlying_CV                                 76                154
Tracheostomy                                  79                156
other_malignancy                              75                158
Underlying_stroke                             86                162
WBRT                                          80                165
prev_gks                                      83                170
number of selected top features: 7
selected top features: 
[1] "ANC"         "WBC"         "AKI"         "PT_percent"  "BUN"        
[6] "neutropenia" "SOFA_D1"    

[Training Random Forests classifier on the training set with only the top  7  features]

[Applying the trained Random Forests classifier on the test set with only the top  7  features]

PR AUC (integral) 	0.8078747
ROC AUC 		0.952381

Brier score =  0.077  (best value: 0; worst value: 1)

TOTAL:

 FN =  2  /  5 	 (truth == 1) & (prediction < threshold)
 TP =  3  /  5 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  21 	 (truth == 0) & (prediction >= threshold)
 TN =  20  /  21 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.603 	 0.667 	 	0.885 	 	0.600 	 	0.952		0.750	 	0.909	 	0.808	0.952

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.456553e-02           2
AKI                             1.644459e-02           1
WBC                             1.191511e-02           3
neutropenia                     9.928263e-03           4
BUN                             5.454057e-03           9
PT_percent                      6.518722e-03           7
bacteremia                      9.353064e-03           5
SOFA_D1                         5.902669e-03           8
CRP                             4.361353e-03          13
APACH_II                        4.794958e-03          11
Vasoactiveagent                 9.011202e-03           6
PLT                             3.236481e-03          16
CRRT                            5.295153e-03          10
Albumin                         2.137236e-03          19
Cause_Ca_problem                3.882230e-03          14
hospital_LOS                    1.039822e-03          22
Death_Cause                     3.859017e-03          15
Pneumonia                       4.513009e-03          12
timefromdx                      8.663107e-04          25
SAPS_II                         9.498875e-04          23
MV_days                         1.071979e-03          21
thrombocytopenia                2.234618e-03          17
prev_wbrt                       2.183733e-03          18
post_dc_days                    8.848185e-04          24
age                             5.019573e-04          32
aPTT                            4.257459e-04          35
ICU_cause_intensivist           1.279863e-03          20
PaO2FiO2                        4.567062e-04          33
post_icu_survival               8.472266e-04          26
ICU_LOS                         2.878307e-04          39
prev_ccrt                       7.837724e-04          27
ICU_mortal30                    6.157891e-04          28
histologyNum                    1.804009e-04          42
underlying_pulmo                2.887209e-04          38
hypoalbuminemia                 3.093461e-04          36
StageNum                        1.707709e-04          43
NewlyDx                         4.479699e-04          34
ICU_Death                       5.329959e-04          31
HFNC                            2.892789e-04          37
procalcitonin                   1.127292e-04          53
Hospital_death                  5.513918e-04          30
performance_hospital_DC         1.537486e-04          48
cardiovasc                      5.705275e-04          29
performance_ICU_DC              8.215700e-05          56
post2011                        2.445834e-04          41
DischargefromICU                1.701696e-04          44
Refractory                      1.509875e-04          49
Intensivist                     1.676830e-04          45
pulmocomorbid                   3.971750e-05          60
HD                              1.556727e-04          47
preICUDNR                       1.220571e-04          52
MV                              2.629059e-04          40
DNR                             1.581173e-05          62
Hb                             -4.324603e-04          88
ICUCPR                          1.261824e-04          51
PoorPS                          8.911835e-05          55
RRT                             1.565980e-04          46
respfailure                     1.086540e-04          54
anemia                          6.221278e-05          58
Underlying_DM                  -5.603426e-05          73
Pre_PS                         -1.928359e-04          86
prev_rtx                       -2.657548e-04          87
ILD                             1.353801e-04          50
Distatntmets                   -1.226654e-04          83
prev_ctx                        2.769773e-06          64
sex                            -3.009063e-05          71
DNR_at_ICU                     -6.634293e-05          75
postICUCtx                      7.755417e-05          57
smk_hx                         -9.977355e-05          82
Surgery                        -2.347647e-05          69
BIPAP                          -2.655306e-05          70
CTxinICU                        5.747319e-06          63
PDT                            -6.057793e-05          74
ECMO                            5.076708e-05          59
ICUreadmission                 -8.205066e-05          77
PCC                             2.838000e-05          61
neurology                      -3.190998e-06          67
PrevICUadm                     -2.254576e-06          66
dx_after_adm                   -4.037035e-05          72
Tracheostomy                   -1.007486e-05          68
postICURT                       0.000000e+00          65
prevCPR                        -9.701381e-05          81
postICUCPR                     -9.220336e-05          80
Underlying_CV                  -7.062034e-05          76
other_malignancy               -1.453120e-04          84
WBRT                           -8.992056e-05          79
Underlying_stroke              -8.748997e-05          78
prev_gks                       -1.611965e-04          85
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.236234341            1
AKI                                         AKI      4.389618096            3
WBC                                         WBC      5.660874449            2
neutropenia                         neutropenia      3.495231467            5
BUN                                         BUN      3.675271591            4
PT_percent                           PT_percent      3.477201856            6
bacteremia                           bacteremia      2.876182999           11
SOFA_D1                                 SOFA_D1      3.115063431            8
CRP                                         CRP      3.323169898            7
APACH_II                               APACH_II      2.944188647           10
Vasoactiveagent                 Vasoactiveagent      2.148617405           15
PLT                                         PLT      2.978954502            9
CRRT                                       CRRT      1.986501371           18
Albumin                                 Albumin      2.245606681           13
Cause_Ca_problem               Cause_Ca_problem      1.933334917           19
hospital_LOS                       hospital_LOS      2.222106724           14
Death_Cause                         Death_Cause      1.623977797           22
Pneumonia                             Pneumonia      1.275031243           25
timefromdx                           timefromdx      2.632700856           12
SAPS_II                                 SAPS_II      2.042285366           16
MV_days                                 MV_days      1.400000682           23
thrombocytopenia               thrombocytopenia      0.928744230           30
prev_wbrt                             prev_wbrt      0.881879204           31
post_dc_days                       post_dc_days      1.271202071           26
age                                         age      1.849339291           20
aPTT                                       aPTT      2.041684947           17
ICU_cause_intensivist     ICU_cause_intensivist      0.727643000           33
PaO2FiO2                               PaO2FiO2      1.679856570           21
post_icu_survival             post_icu_survival      1.048172604           28
ICU_LOS                                 ICU_LOS      1.236751641           27
prev_ccrt                             prev_ccrt      0.472449568           40
ICU_mortal30                       ICU_mortal30      0.393497620           43
histologyNum                       histologyNum      0.817455329           32
underlying_pulmo               underlying_pulmo      0.539135551           38
hypoalbuminemia                 hypoalbuminemia      0.404405134           41
StageNum                               StageNum      0.673005322           35
NewlyDx                                 NewlyDx      0.373011000           45
ICU_Death                             ICU_Death      0.332544823           49
HFNC                                       HFNC      0.379919945           44
procalcitonin                     procalcitonin      0.934786061           29
Hospital_death                   Hospital_death      0.292057656           56
performance_hospital_DC performance_hospital_DC      0.515392496           39
cardiovasc                           cardiovasc      0.274151976           60
performance_ICU_DC           performance_ICU_DC      0.676758845           34
post2011                               post2011      0.304909725           53
DischargefromICU               DischargefromICU      0.320189317           51
Refractory                           Refractory      0.356255982           47
Intensivist                         Intensivist      0.313029834           52
pulmocomorbid                     pulmocomorbid      0.398191871           42
HD                                           HD      0.289878627           57
preICUDNR                             preICUDNR      0.301905964           55
MV                                           MV      0.207911869           69
DNR                                         DNR      0.324866787           50
Hb                                           Hb      1.386157968           24
ICUCPR                                   ICUCPR      0.259641813           62
PoorPS                                   PoorPS      0.270000728           61
RRT                                         RRT      0.166522547           71
respfailure                         respfailure      0.239155609           65
anemia                                   anemia      0.248693636           63
Underlying_DM                     Underlying_DM      0.353710831           48
Pre_PS                                   Pre_PS      0.625896318           36
prev_rtx                               prev_rtx      0.593352654           37
ILD                                         ILD      0.127287812           76
Distatntmets                       Distatntmets      0.365608907           46
prev_ctx                               prev_ctx      0.236010414           66
sex                                         sex      0.283304948           59
DNR_at_ICU                           DNR_at_ICU      0.285697870           58
postICUCtx                           postICUCtx      0.123462857           77
smk_hx                                   smk_hx      0.304223809           54
Surgery                                 Surgery      0.231566278           67
BIPAP                                     BIPAP      0.214091795           68
CTxinICU                               CTxinICU      0.130833077           75
PDT                                         PDT      0.241867665           64
ECMO                                       ECMO      0.050576357           85
ICUreadmission                   ICUreadmission      0.191718419           70
PCC                                         PCC      0.043246607           87
neurology                             neurology      0.075462674           82
PrevICUadm                           PrevICUadm      0.063933726           83
dx_after_adm                       dx_after_adm      0.106224847           80
Tracheostomy                       Tracheostomy      0.057265973           84
postICURT                             postICURT      0.008571232           88
prevCPR                                 prevCPR      0.151108512           72
postICUCPR                           postICUCPR      0.132742830           74
Underlying_CV                     Underlying_CV      0.115886264           78
other_malignancy               other_malignancy      0.134343518           73
WBRT                                       WBRT      0.110205882           79
Underlying_stroke             Underlying_stroke      0.049413027           86
prev_gks                               prev_gks      0.088881930           81
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          3        1                            2
AKI                          4        2                            1
WBC                          5        3                            3
neutropenia                  9        4                            4
BUN                         13        5                            9
PT_percent                  13        6                            7
bacteremia                  16        7                            5
SOFA_D1                     16        8                            8
CRP                         20        9                           13
APACH_II                    21       10                           11
Vasoactiveagent             21       11                            6
PLT                         25       12                           16
CRRT                        28       13                           10
Albumin                     32       14                           19
Cause_Ca_problem            33       15                           14
hospital_LOS                36       16                           22
Death_Cause                 37       17                           15
Pneumonia                   37       18                           12
timefromdx                  37       19                           25
SAPS_II                     39       20                           23
MV_days                     44       21                           21
thrombocytopenia            47       22                           17
prev_wbrt                   49       23                           18
post_dc_days                50       24                           24
age                         52       25                           32
aPTT                        52       26                           35
ICU_cause_intensivist       53       27                           20
PaO2FiO2                    54       28                           33
post_icu_survival           54       29                           26
ICU_LOS                     66       30                           39
prev_ccrt                   67       31                           27
ICU_mortal30                71       32                           28
histologyNum                74       33                           42
underlying_pulmo            76       34                           38
hypoalbuminemia             77       35                           36
StageNum                    78       36                           43
NewlyDx                     79       37                           34
ICU_Death                   80       38                           31
HFNC                        81       39                           37
procalcitonin               82       40                           53
Hospital_death              86       41                           30
performance_hospital_DC     87       42                           48
cardiovasc                  89       43                           29
performance_ICU_DC          90       44                           56
post2011                    94       45                           41
DischargefromICU            95       46                           44
Refractory                  96       47                           49
Intensivist                 97       48                           45
pulmocomorbid              102       49                           60
HD                         104       50                           47
preICUDNR                  107       51                           52
MV                         109       52                           40
DNR                        112       53                           62
Hb                         112       54                           88
ICUCPR                     113       55                           51
PoorPS                     116       56                           55
RRT                        117       57                           46
respfailure                119       58                           54
anemia                     121       59                           58
Underlying_DM              121       60                           73
Pre_PS                     122       61                           86
prev_rtx                   124       62                           87
ILD                        126       63                           50
Distatntmets               129       64                           83
prev_ctx                   130       65                           64
sex                        130       66                           71
DNR_at_ICU                 133       67                           75
postICUCtx                 134       68                           57
smk_hx                     136       69                           82
Surgery                    136       70                           69
BIPAP                      138       71                           70
CTxinICU                   138       72                           63
PDT                        138       73                           74
ECMO                       144       74                           59
ICUreadmission             147       75                           77
PCC                        148       76                           61
neurology                  149       77                           67
PrevICUadm                 149       78                           66
dx_after_adm               152       79                           72
Tracheostomy               152       80                           68
postICURT                  153       81                           65
prevCPR                    153       82                           81
postICUCPR                 154       83                           80
Underlying_CV              154       84                           76
other_malignancy           157       85                           84
WBRT                       158       86                           79
Underlying_stroke          164       87                           78
prev_gks                   166       88                           85
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  3
AKI                                            3                  4
WBC                                            2                  5
neutropenia                                    5                  9
BUN                                            4                 13
PT_percent                                     6                 13
bacteremia                                    11                 16
SOFA_D1                                        8                 16
CRP                                            7                 20
APACH_II                                      10                 21
Vasoactiveagent                               15                 21
PLT                                            9                 25
CRRT                                          18                 28
Albumin                                       13                 32
Cause_Ca_problem                              19                 33
hospital_LOS                                  14                 36
Death_Cause                                   22                 37
Pneumonia                                     25                 37
timefromdx                                    12                 37
SAPS_II                                       16                 39
MV_days                                       23                 44
thrombocytopenia                              30                 47
prev_wbrt                                     31                 49
post_dc_days                                  26                 50
age                                           20                 52
aPTT                                          17                 52
ICU_cause_intensivist                         33                 53
PaO2FiO2                                      21                 54
post_icu_survival                             28                 54
ICU_LOS                                       27                 66
prev_ccrt                                     40                 67
ICU_mortal30                                  43                 71
histologyNum                                  32                 74
underlying_pulmo                              38                 76
hypoalbuminemia                               41                 77
StageNum                                      35                 78
NewlyDx                                       45                 79
ICU_Death                                     49                 80
HFNC                                          44                 81
procalcitonin                                 29                 82
Hospital_death                                56                 86
performance_hospital_DC                       39                 87
cardiovasc                                    60                 89
performance_ICU_DC                            34                 90
post2011                                      53                 94
DischargefromICU                              51                 95
Refractory                                    47                 96
Intensivist                                   52                 97
pulmocomorbid                                 42                102
HD                                            57                104
preICUDNR                                     55                107
MV                                            69                109
DNR                                           50                112
Hb                                            24                112
ICUCPR                                        62                113
PoorPS                                        61                116
RRT                                           71                117
respfailure                                   65                119
anemia                                        63                121
Underlying_DM                                 48                121
Pre_PS                                        36                122
prev_rtx                                      37                124
ILD                                           76                126
Distatntmets                                  46                129
prev_ctx                                      66                130
sex                                           59                130
DNR_at_ICU                                    58                133
postICUCtx                                    77                134
smk_hx                                        54                136
Surgery                                       67                136
BIPAP                                         68                138
CTxinICU                                      75                138
PDT                                           64                138
ECMO                                          85                144
ICUreadmission                                70                147
PCC                                           87                148
neurology                                     82                149
PrevICUadm                                    83                149
dx_after_adm                                  80                152
Tracheostomy                                  84                152
postICURT                                     88                153
prevCPR                                       72                153
postICUCPR                                    74                154
Underlying_CV                                 78                154
other_malignancy                              73                157
WBRT                                          79                158
Underlying_stroke                             86                164
prev_gks                                      81                166
number of selected top features: 7
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia" "BUN"        
[6] "PT_percent"  "bacteremia" 

[Training Random Forests classifier on the training set with only the top  7  features]

[Applying the trained Random Forests classifier on the test set with only the top  7  features]

PR AUC (integral) 	0.6554339
ROC AUC 		0.7406015

Brier score =  0.170  (best value: 0; worst value: 1)

TOTAL:

 FN =  3  /  7 	 (truth == 1) & (prediction < threshold)
 TP =  4  /  7 	 (truth == 1) & (prediction >= threshold)

 FP =  5  /  19 	 (truth == 0) & (prediction >= threshold)
 TN =  14  /  19 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.287 	 0.500 	 	0.692 	 	0.571 	 	0.737		0.444	 	0.824	 	0.655	0.741

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.311027e-02           2
AKI                             1.430426e-02           1
WBC                             9.190322e-03           4
neutropenia                     1.134847e-02           3
PLT                             7.015036e-03           6
PT_percent                      6.561943e-03           8
BUN                             4.398128e-03          11
thrombocytopenia                7.836581e-03           5
SOFA_D1                         5.930023e-03          10
bacteremia                      6.958491e-03           7
APACH_II                        3.929329e-03          13
CRP                             3.146933e-03          17
Death_Cause                     6.186695e-03           9
Cause_Ca_problem                3.860757e-03          14
hospital_LOS                    1.454960e-03          22
timefromdx                      1.092191e-03          24
Albumin                         1.679616e-03          20
Vasoactiveagent                 4.317608e-03          12
SAPS_II                         1.573102e-03          21
CRRT                            3.226261e-03          16
Pneumonia                       3.566709e-03          15
prev_wbrt                       1.781547e-03          18
aPTT                            3.938247e-04          33
MV_days                         8.765585e-04          27
post_dc_days                    1.056019e-03          25
ICU_cause_intensivist           1.336684e-03          23
ICU_mortal30                    1.699567e-03          19
PaO2FiO2                        3.717292e-04          35
post_icu_survival               7.680784e-04          28
HFNC                            9.152120e-04          26
underlying_pulmo                5.173576e-04          30
ICU_LOS                         2.672913e-04          43
ICU_Death                       6.989885e-04          29
prev_ccrt                       5.031676e-04          31
hypoalbuminemia                 3.758719e-04          34
NewlyDx                         3.493278e-04          38
pulmocomorbid                   3.257880e-04          40
StageNum                        1.834463e-04          48
age                             5.040304e-05          66
Hb                              5.237446e-05          63
sex                             3.559545e-04          37
Underlying_DM                   1.888942e-04          47
post2011                        3.467813e-04          39
cardiovasc                      4.200095e-04          32
Hospital_death                  3.670594e-04          36
Intensivist                     2.595835e-04          45
DischargefromICU                2.741059e-04          42
DNR                             1.205698e-04          51
Refractory                      1.494170e-04          49
HD                              2.614995e-04          44
procalcitonin                  -2.710403e-05          75
anemia                          1.436811e-04          50
histologyNum                   -2.506336e-05          74
ICUCPR                          2.852374e-04          41
respfailure                     2.459547e-04          46
Surgery                         8.786214e-05          56
Distatntmets                    5.120273e-05          65
Pre_PS                         -1.615191e-04          85
preICUDNR                       1.033905e-04          53
performance_ICU_DC             -1.159411e-04          83
CTxinICU                        5.184287e-05          64
ICUreadmission                  5.789879e-05          62
prev_rtx                       -2.202854e-04          86
RRT                             1.126516e-04          52
BIPAP                           7.931498e-05          58
DNR_at_ICU                      3.034246e-05          68
performance_hospital_DC        -2.359840e-04          87
prev_ctx                        8.631273e-05          57
MV                              6.289595e-05          61
postICUCtx                      1.020503e-04          54
ILD                             9.967684e-05          55
PoorPS                         -5.783533e-06          72
smk_hx                         -7.497355e-05          81
PDT                            -2.208401e-06          71
neurology                       6.293841e-05          60
PCC                             7.898315e-05          59
prevCPR                        -5.360044e-05          78
Underlying_CV                  -1.314725e-05          73
dx_after_adm                   -5.314267e-05          77
PrevICUadm                      3.028877e-05          69
ECMO                            4.947142e-05          67
postICUCPR                     -6.215893e-05          79
postICURT                       2.500000e-06          70
WBRT                           -3.068272e-05          76
Tracheostomy                   -6.258522e-05          80
other_malignancy               -2.401750e-04          88
prev_gks                       -1.354769e-04          84
Underlying_stroke              -9.798253e-05          82
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      5.820920435            1
AKI                                         AKI      3.969937705            4
WBC                                         WBC      5.089310481            2
neutropenia                         neutropenia      3.668387752            6
PLT                                         PLT      4.179534993            3
PT_percent                           PT_percent      3.781583723            5
BUN                                         BUN      3.446071784            7
thrombocytopenia               thrombocytopenia      2.320395864           13
SOFA_D1                                 SOFA_D1      2.801922196            9
bacteremia                           bacteremia      2.120910303           14
APACH_II                               APACH_II      2.711211585           11
CRP                                         CRP      3.094191707            8
Death_Cause                         Death_Cause      2.019994977           17
Cause_Ca_problem               Cause_Ca_problem      1.910449036           19
hospital_LOS                       hospital_LOS      2.571102121           12
timefromdx                           timefromdx      2.753672624           10
Albumin                                 Albumin      2.109524110           15
Vasoactiveagent                 Vasoactiveagent      1.492008262           24
SAPS_II                                 SAPS_II      2.091786349           16
CRRT                                       CRRT      1.550707638           22
Pneumonia                             Pneumonia      1.257462118           28
prev_wbrt                             prev_wbrt      0.995247624           31
aPTT                                       aPTT      1.997158642           18
MV_days                                 MV_days      1.477779220           25
post_dc_days                       post_dc_days      1.270967888           27
ICU_cause_intensivist     ICU_cause_intensivist      0.837578502           33
ICU_mortal30                       ICU_mortal30      0.539615967           37
PaO2FiO2                               PaO2FiO2      1.617539359           21
post_icu_survival             post_icu_survival      1.017182933           30
HFNC                                       HFNC      0.533698544           38
underlying_pulmo               underlying_pulmo      0.580042880           36
ICU_LOS                                 ICU_LOS      1.324997425           26
ICU_Death                             ICU_Death      0.373447052           47
prev_ccrt                             prev_ccrt      0.377263422           46
hypoalbuminemia                 hypoalbuminemia      0.390100549           44
NewlyDx                                 NewlyDx      0.382912810           45
pulmocomorbid                     pulmocomorbid      0.437777435           43
StageNum                               StageNum      0.609526003           35
age                                         age      1.714206229           20
Hb                                           Hb      1.516374274           23
sex                                         sex      0.354856007           49
Underlying_DM                     Underlying_DM      0.509436645           41
post2011                               post2011      0.350061259           52
cardiovasc                           cardiovasc      0.269606901           62
Hospital_death                   Hospital_death      0.293028523           58
Intensivist                         Intensivist      0.354384435           50
DischargefromICU               DischargefromICU      0.326165879           56
DNR                                         DNR      0.355115870           48
Refractory                           Refractory      0.353975569           51
HD                                           HD      0.325740326           57
procalcitonin                     procalcitonin      1.029146006           29
anemia                                   anemia      0.328058317           55
histologyNum                       histologyNum      0.860663405           32
ICUCPR                                   ICUCPR      0.249262015           65
respfailure                         respfailure      0.228646302           68
Surgery                                 Surgery      0.280513732           61
Distatntmets                       Distatntmets      0.341030952           53
Pre_PS                                   Pre_PS      0.759322789           34
preICUDNR                             preICUDNR      0.229658277           67
performance_ICU_DC           performance_ICU_DC      0.531992389           39
CTxinICU                               CTxinICU      0.284461133           60
ICUreadmission                   ICUreadmission      0.253058905           64
prev_rtx                               prev_rtx      0.530280465           40
RRT                                         RRT      0.158252325           74
BIPAP                                     BIPAP      0.216121155           69
DNR_at_ICU                           DNR_at_ICU      0.287767729           59
performance_hospital_DC performance_hospital_DC      0.476949552           42
prev_ctx                               prev_ctx      0.190560734           72
MV                                           MV      0.196652355           71
postICUCtx                           postICUCtx      0.124210234           78
ILD                                         ILD      0.119776301           79
PoorPS                                   PoorPS      0.261794115           63
smk_hx                                   smk_hx      0.333514938           54
PDT                                         PDT      0.248487003           66
neurology                             neurology      0.101944158           82
PCC                                         PCC      0.076589820           86
prevCPR                                 prevCPR      0.204364129           70
Underlying_CV                     Underlying_CV      0.131151075           77
dx_after_adm                       dx_after_adm      0.155379574           75
PrevICUadm                           PrevICUadm      0.093681611           84
ECMO                                       ECMO      0.037952182           87
postICUCPR                           postICUCPR      0.138755226           76
postICURT                             postICURT      0.006807162           88
WBRT                                       WBRT      0.098867767           83
Tracheostomy                       Tracheostomy      0.112317613           80
other_malignancy               other_malignancy      0.161767318           73
prev_gks                               prev_gks      0.105467980           81
Underlying_stroke             Underlying_stroke      0.081149501           85
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          3        1                            2
AKI                          5        2                            1
WBC                          6        3                            4
neutropenia                  9        4                            3
PLT                          9        5                            6
PT_percent                  13        6                            8
BUN                         18        7                           11
thrombocytopenia            18        8                            5
SOFA_D1                     19        9                           10
bacteremia                  21       10                            7
APACH_II                    24       11                           13
CRP                         25       12                           17
Death_Cause                 26       13                            9
Cause_Ca_problem            33       14                           14
hospital_LOS                34       15                           22
timefromdx                  34       16                           24
Albumin                     35       17                           20
Vasoactiveagent             36       18                           12
SAPS_II                     37       19                           21
CRRT                        38       20                           16
Pneumonia                   43       21                           15
prev_wbrt                   49       22                           18
aPTT                        51       23                           33
MV_days                     52       24                           27
post_dc_days                52       25                           25
ICU_cause_intensivist       56       26                           23
ICU_mortal30                56       27                           19
PaO2FiO2                    56       28                           35
post_icu_survival           58       29                           28
HFNC                        64       30                           26
underlying_pulmo            66       31                           30
ICU_LOS                     69       32                           43
ICU_Death                   76       33                           29
prev_ccrt                   77       34                           31
hypoalbuminemia             78       35                           34
NewlyDx                     83       36                           38
pulmocomorbid               83       37                           40
StageNum                    83       38                           48
age                         86       39                           66
Hb                          86       40                           63
sex                         86       41                           37
Underlying_DM               88       42                           47
post2011                    91       43                           39
cardiovasc                  94       44                           32
Hospital_death              94       45                           36
Intensivist                 95       46                           45
DischargefromICU            98       47                           42
DNR                         99       48                           51
Refractory                 100       49                           49
HD                         101       50                           44
procalcitonin              104       51                           75
anemia                     105       52                           50
histologyNum               106       53                           74
ICUCPR                     106       54                           41
respfailure                114       55                           46
Surgery                    117       56                           56
Distatntmets               118       57                           65
Pre_PS                     119       58                           85
preICUDNR                  120       59                           53
performance_ICU_DC         122       60                           83
CTxinICU                   124       61                           64
ICUreadmission             126       62                           62
prev_rtx                   126       63                           86
RRT                        126       64                           52
BIPAP                      127       65                           58
DNR_at_ICU                 127       66                           68
performance_hospital_DC    129       67                           87
prev_ctx                   129       68                           57
MV                         132       69                           61
postICUCtx                 132       70                           54
ILD                        134       71                           55
PoorPS                     135       72                           72
smk_hx                     135       73                           81
PDT                        137       74                           71
neurology                  142       75                           60
PCC                        145       76                           59
prevCPR                    148       77                           78
Underlying_CV              150       78                           73
dx_after_adm               152       79                           77
PrevICUadm                 153       80                           69
ECMO                       154       81                           67
postICUCPR                 155       82                           79
postICURT                  158       83                           70
WBRT                       159       84                           76
Tracheostomy               160       85                           80
other_malignancy           161       86                           88
prev_gks                   165       87                           84
Underlying_stroke          167       88                           82
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  3
AKI                                            4                  5
WBC                                            2                  6
neutropenia                                    6                  9
PLT                                            3                  9
PT_percent                                     5                 13
BUN                                            7                 18
thrombocytopenia                              13                 18
SOFA_D1                                        9                 19
bacteremia                                    14                 21
APACH_II                                      11                 24
CRP                                            8                 25
Death_Cause                                   17                 26
Cause_Ca_problem                              19                 33
hospital_LOS                                  12                 34
timefromdx                                    10                 34
Albumin                                       15                 35
Vasoactiveagent                               24                 36
SAPS_II                                       16                 37
CRRT                                          22                 38
Pneumonia                                     28                 43
prev_wbrt                                     31                 49
aPTT                                          18                 51
MV_days                                       25                 52
post_dc_days                                  27                 52
ICU_cause_intensivist                         33                 56
ICU_mortal30                                  37                 56
PaO2FiO2                                      21                 56
post_icu_survival                             30                 58
HFNC                                          38                 64
underlying_pulmo                              36                 66
ICU_LOS                                       26                 69
ICU_Death                                     47                 76
prev_ccrt                                     46                 77
hypoalbuminemia                               44                 78
NewlyDx                                       45                 83
pulmocomorbid                                 43                 83
StageNum                                      35                 83
age                                           20                 86
Hb                                            23                 86
sex                                           49                 86
Underlying_DM                                 41                 88
post2011                                      52                 91
cardiovasc                                    62                 94
Hospital_death                                58                 94
Intensivist                                   50                 95
DischargefromICU                              56                 98
DNR                                           48                 99
Refractory                                    51                100
HD                                            57                101
procalcitonin                                 29                104
anemia                                        55                105
histologyNum                                  32                106
ICUCPR                                        65                106
respfailure                                   68                114
Surgery                                       61                117
Distatntmets                                  53                118
Pre_PS                                        34                119
preICUDNR                                     67                120
performance_ICU_DC                            39                122
CTxinICU                                      60                124
ICUreadmission                                64                126
prev_rtx                                      40                126
RRT                                           74                126
BIPAP                                         69                127
DNR_at_ICU                                    59                127
performance_hospital_DC                       42                129
prev_ctx                                      72                129
MV                                            71                132
postICUCtx                                    78                132
ILD                                           79                134
PoorPS                                        63                135
smk_hx                                        54                135
PDT                                           66                137
neurology                                     82                142
PCC                                           86                145
prevCPR                                       70                148
Underlying_CV                                 77                150
dx_after_adm                                  75                152
PrevICUadm                                    84                153
ECMO                                          87                154
postICUCPR                                    76                155
postICURT                                     88                158
WBRT                                          83                159
Tracheostomy                                  80                160
other_malignancy                              73                161
prev_gks                                      81                165
Underlying_stroke                             85                167
number of selected top features: 7
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia" "PLT"        
[6] "PT_percent"  "BUN"        

[Training Random Forests classifier on the training set with only the top  7  features]

[Applying the trained Random Forests classifier on the test set with only the top  7  features]

PR AUC (integral) 	0.5976691
ROC AUC 		0.7541667

Brier score =  0.134  (best value: 0; worst value: 1)

TOTAL:

 FN =  4  /  6 	 (truth == 1) & (prediction < threshold)
 TP =  2  /  6 	 (truth == 1) & (prediction >= threshold)

 FP =  0  /  20 	 (truth == 0) & (prediction >= threshold)
 TN =  20  /  20 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.527 	 0.500 	 	0.846 	 	0.333 	 	1.000		1.000	 	0.833	 	0.598	0.754

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.630516e-02           1
WBC                             9.659210e-03           4
AKI                             1.313319e-02           2
neutropenia                     1.186186e-02           3
PLT                             6.030212e-03           8
PT_percent                      6.444345e-03           6
BUN                             5.340309e-03          11
SOFA_D1                         5.402297e-03          10
Vasoactiveagent                 7.591366e-03           5
bacteremia                      6.252435e-03           7
APACH_II                        3.676651e-03          12
CRP                             3.417223e-03          16
thrombocytopenia                5.518476e-03           9
Albumin                         1.857595e-03          18
Cause_Ca_problem                3.522382e-03          14
hospital_LOS                    1.095157e-03          23
SAPS_II                         1.589004e-03          20
CRRT                            3.491534e-03          15
Death_Cause                     3.232777e-03          17
Pneumonia                       3.621574e-03          13
timefromdx                      6.684861e-04          31
aPTT                            7.654524e-04          28
age                             9.291759e-04          26
prev_wbrt                       1.857420e-03          19
MV_days                         9.120999e-04          27
post_dc_days                    9.407156e-04          25
ICU_cause_intensivist           1.369227e-03          21
post_icu_survival               6.902715e-04          29
StageNum                        9.659023e-04          24
PaO2FiO2                        4.086647e-04          38
ICU_mortal30                    1.367250e-03          22
procalcitonin                   4.575591e-04          35
ICU_LOS                         3.734842e-04          40
underlying_pulmo                6.801767e-04          30
histologyNum                    3.692363e-04          41
prev_ccrt                       6.364033e-04          32
pulmocomorbid                   4.264673e-04          37
Refractory                      3.666076e-04          42
ICU_Death                       5.114669e-04          34
HFNC                            2.894916e-04          43
Hospital_death                  4.349860e-04          36
DischargefromICU                3.765764e-04          39
Hb                              2.255837e-05          67
hypoalbuminemia                 2.454528e-04          49
cardiovasc                      5.443817e-04          33
performance_hospital_DC         9.081545e-05          59
BIPAP                           2.873717e-04          44
HD                              2.609529e-04          48
PoorPS                          1.155300e-04          55
post2011                        1.408285e-04          53
ICUCPR                          2.612618e-04          47
smk_hx                          6.591044e-05          61
respfailure                     2.747931e-04          45
Underlying_DM                   4.295557e-05          63
MV                              2.688353e-04          46
anemia                          9.305681e-05          58
preICUDNR                       1.257048e-04          54
performance_ICU_DC             -8.949333e-05          80
DNR                             7.544666e-06          68
sex                             1.548013e-04          52
NewlyDx                         8.406707e-05          60
Intensivist                     3.697037e-05          64
Pre_PS                         -2.643471e-04          88
PDT                             9.570464e-05          57
prev_rtx                       -2.323561e-04          87
ILD                             1.699630e-04          50
Distatntmets                   -1.470680e-04          84
DNR_at_ICU                     -3.670079e-05          75
Surgery                        -3.555713e-05          74
PCC                             1.574942e-04          51
postICUCtx                      9.902743e-05          56
prev_ctx                        2.686077e-05          66
ICUreadmission                 -3.977714e-05          76
WBRT                            3.080445e-05          65
dx_after_adm                    6.025233e-06          69
ECMO                            5.241083e-05          62
postICUCPR                     -7.159416e-05          79
Tracheostomy                   -3.992867e-05          77
CTxinICU                       -2.291294e-05          72
PrevICUadm                      4.692053e-06          70
RRT                            -4.250514e-05          78
Underlying_CV                  -1.238621e-04          82
prevCPR                        -1.678531e-04          85
neurology                      -2.433657e-05          73
other_malignancy               -1.708612e-04          86
postICURT                       2.173913e-06          71
prev_gks                       -1.320502e-04          83
Underlying_stroke              -9.125086e-05          81
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.288022701            1
WBC                                         WBC      5.238606660            2
AKI                                         AKI      3.649999493            5
neutropenia                         neutropenia      3.813069135            4
PLT                                         PLT      3.997321891            3
PT_percent                           PT_percent      3.625804928            6
BUN                                         BUN      3.503074122            7
SOFA_D1                                 SOFA_D1      2.882236420            9
Vasoactiveagent                 Vasoactiveagent      1.966887324           17
bacteremia                           bacteremia      1.999866093           16
APACH_II                               APACH_II      2.485128444           12
CRP                                         CRP      2.965222652            8
thrombocytopenia               thrombocytopenia      1.828585070           19
Albumin                                 Albumin      2.221439611           13
Cause_Ca_problem               Cause_Ca_problem      1.908857340           18
hospital_LOS                       hospital_LOS      2.523199864           11
SAPS_II                                 SAPS_II      2.007834685           15
CRRT                                       CRRT      1.755014363           21
Death_Cause                         Death_Cause      1.590758125           23
Pneumonia                             Pneumonia      1.213406734           28
timefromdx                           timefromdx      2.643266040           10
aPTT                                       aPTT      2.146624561           14
age                                         age      1.774757301           20
prev_wbrt                             prev_wbrt      0.913015992           31
MV_days                                 MV_days      1.410188719           25
post_dc_days                       post_dc_days      1.240457807           27
ICU_cause_intensivist     ICU_cause_intensivist      0.839255580           33
post_icu_survival             post_icu_survival      1.027200984           29
StageNum                               StageNum      0.778266048           34
PaO2FiO2                               PaO2FiO2      1.713702242           22
ICU_mortal30                       ICU_mortal30      0.584957719           39
procalcitonin                     procalcitonin      0.932825018           30
ICU_LOS                                 ICU_LOS      1.262999408           26
underlying_pulmo               underlying_pulmo      0.611587858           37
histologyNum                       histologyNum      0.886179787           32
prev_ccrt                             prev_ccrt      0.428369029           43
pulmocomorbid                     pulmocomorbid      0.443806081           41
Refractory                           Refractory      0.434198184           42
ICU_Death                             ICU_Death      0.330775392           52
HFNC                                       HFNC      0.412635202           44
Hospital_death                   Hospital_death      0.332522592           51
DischargefromICU               DischargefromICU      0.349908797           50
Hb                                           Hb      1.419576318           24
hypoalbuminemia                 hypoalbuminemia      0.385383076           46
cardiovasc                           cardiovasc      0.256986728           64
performance_hospital_DC performance_hospital_DC      0.580285651           40
BIPAP                                     BIPAP      0.262943765           63
HD                                           HD      0.267106395           60
PoorPS                                   PoorPS      0.293491904           53
post2011                               post2011      0.288528504           55
ICUCPR                                   ICUCPR      0.263118295           62
smk_hx                                   smk_hx      0.354497135           48
respfailure                         respfailure      0.240285511           65
Underlying_DM                     Underlying_DM      0.375685275           47
MV                                           MV      0.223201168           67
anemia                                   anemia      0.286950245           57
preICUDNR                             preICUDNR      0.265248201           61
performance_ICU_DC           performance_ICU_DC      0.669330789           36
DNR                                         DNR      0.351407567           49
sex                                         sex      0.230684808           66
NewlyDx                                 NewlyDx      0.275202350           59
Intensivist                         Intensivist      0.287736593           56
Pre_PS                                   Pre_PS      0.686772946           35
PDT                                         PDT      0.216322423           68
prev_rtx                               prev_rtx      0.608946199           38
ILD                                         ILD      0.125486966           76
Distatntmets                       Distatntmets      0.386539949           45
DNR_at_ICU                           DNR_at_ICU      0.289849209           54
Surgery                                 Surgery      0.280603753           58
PCC                                         PCC      0.083467862           83
postICUCtx                           postICUCtx      0.105926941           79
prev_ctx                               prev_ctx      0.156514150           71
ICUreadmission                   ICUreadmission      0.215923206           69
WBRT                                       WBRT      0.099838804           80
dx_after_adm                       dx_after_adm      0.123890811           77
ECMO                                       ECMO      0.035110915           87
postICUCPR                           postICUCPR      0.158324507           70
Tracheostomy                       Tracheostomy      0.130248334           75
CTxinICU                               CTxinICU      0.087659837           82
PrevICUadm                           PrevICUadm      0.073857481           85
RRT                                         RRT      0.112984959           78
Underlying_CV                     Underlying_CV      0.131899392           74
prevCPR                                 prevCPR      0.154577276           72
neurology                             neurology      0.061966248           86
other_malignancy               other_malignancy      0.147585076           73
postICURT                             postICURT      0.005123496           88
prev_gks                               prev_gks      0.092803985           81
Underlying_stroke             Underlying_stroke      0.080740295           84
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
WBC                          6        2                            4
AKI                          7        3                            2
neutropenia                  7        4                            3
PLT                         11        5                            8
PT_percent                  12        6                            6
BUN                         18        7                           11
SOFA_D1                     19        8                           10
Vasoactiveagent             22        9                            5
bacteremia                  23       10                            7
APACH_II                    24       11                           12
CRP                         24       12                           16
thrombocytopenia            28       13                            9
Albumin                     31       14                           18
Cause_Ca_problem            32       15                           14
hospital_LOS                34       16                           23
SAPS_II                     35       17                           20
CRRT                        36       18                           15
Death_Cause                 40       19                           17
Pneumonia                   41       20                           13
timefromdx                  41       21                           31
aPTT                        42       22                           28
age                         46       23                           26
prev_wbrt                   50       24                           19
MV_days                     52       25                           27
post_dc_days                52       26                           25
ICU_cause_intensivist       54       27                           21
post_icu_survival           58       28                           29
StageNum                    58       29                           24
PaO2FiO2                    60       30                           38
ICU_mortal30                61       31                           22
procalcitonin               65       32                           35
ICU_LOS                     66       33                           40
underlying_pulmo            67       34                           30
histologyNum                73       35                           41
prev_ccrt                   75       36                           32
pulmocomorbid               78       37                           37
Refractory                  84       38                           42
ICU_Death                   86       39                           34
HFNC                        87       40                           43
Hospital_death              87       41                           36
DischargefromICU            89       42                           39
Hb                          91       43                           67
hypoalbuminemia             95       44                           49
cardiovasc                  97       45                           33
performance_hospital_DC     99       46                           59
BIPAP                      107       47                           44
HD                         108       48                           48
PoorPS                     108       49                           55
post2011                   108       50                           53
ICUCPR                     109       51                           47
smk_hx                     109       52                           61
respfailure                110       53                           45
Underlying_DM              110       54                           63
MV                         113       55                           46
anemia                     115       56                           58
preICUDNR                  115       57                           54
performance_ICU_DC         116       58                           80
DNR                        117       59                           68
sex                        118       60                           52
NewlyDx                    119       61                           60
Intensivist                120       62                           64
Pre_PS                     123       63                           88
PDT                        125       64                           57
prev_rtx                   125       65                           87
ILD                        126       66                           50
Distatntmets               129       67                           84
DNR_at_ICU                 129       68                           75
Surgery                    132       69                           74
PCC                        134       70                           51
postICUCtx                 135       71                           56
prev_ctx                   137       72                           66
ICUreadmission             145       73                           76
WBRT                       145       74                           65
dx_after_adm               146       75                           69
ECMO                       149       76                           62
postICUCPR                 149       77                           79
Tracheostomy               152       78                           77
CTxinICU                   154       79                           72
PrevICUadm                 155       80                           70
RRT                        156       81                           78
Underlying_CV              156       82                           82
prevCPR                    157       83                           85
neurology                  159       84                           73
other_malignancy           159       85                           86
postICURT                  159       86                           71
prev_gks                   164       87                           83
Underlying_stroke          165       88                           81
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
WBC                                            2                  6
AKI                                            5                  7
neutropenia                                    4                  7
PLT                                            3                 11
PT_percent                                     6                 12
BUN                                            7                 18
SOFA_D1                                        9                 19
Vasoactiveagent                               17                 22
bacteremia                                    16                 23
APACH_II                                      12                 24
CRP                                            8                 24
thrombocytopenia                              19                 28
Albumin                                       13                 31
Cause_Ca_problem                              18                 32
hospital_LOS                                  11                 34
SAPS_II                                       15                 35
CRRT                                          21                 36
Death_Cause                                   23                 40
Pneumonia                                     28                 41
timefromdx                                    10                 41
aPTT                                          14                 42
age                                           20                 46
prev_wbrt                                     31                 50
MV_days                                       25                 52
post_dc_days                                  27                 52
ICU_cause_intensivist                         33                 54
post_icu_survival                             29                 58
StageNum                                      34                 58
PaO2FiO2                                      22                 60
ICU_mortal30                                  39                 61
procalcitonin                                 30                 65
ICU_LOS                                       26                 66
underlying_pulmo                              37                 67
histologyNum                                  32                 73
prev_ccrt                                     43                 75
pulmocomorbid                                 41                 78
Refractory                                    42                 84
ICU_Death                                     52                 86
HFNC                                          44                 87
Hospital_death                                51                 87
DischargefromICU                              50                 89
Hb                                            24                 91
hypoalbuminemia                               46                 95
cardiovasc                                    64                 97
performance_hospital_DC                       40                 99
BIPAP                                         63                107
HD                                            60                108
PoorPS                                        53                108
post2011                                      55                108
ICUCPR                                        62                109
smk_hx                                        48                109
respfailure                                   65                110
Underlying_DM                                 47                110
MV                                            67                113
anemia                                        57                115
preICUDNR                                     61                115
performance_ICU_DC                            36                116
DNR                                           49                117
sex                                           66                118
NewlyDx                                       59                119
Intensivist                                   56                120
Pre_PS                                        35                123
PDT                                           68                125
prev_rtx                                      38                125
ILD                                           76                126
Distatntmets                                  45                129
DNR_at_ICU                                    54                129
Surgery                                       58                132
PCC                                           83                134
postICUCtx                                    79                135
prev_ctx                                      71                137
ICUreadmission                                69                145
WBRT                                          80                145
dx_after_adm                                  77                146
ECMO                                          87                149
postICUCPR                                    70                149
Tracheostomy                                  75                152
CTxinICU                                      82                154
PrevICUadm                                    85                155
RRT                                           78                156
Underlying_CV                                 74                156
prevCPR                                       72                157
neurology                                     86                159
other_malignancy                              73                159
postICURT                                     88                159
prev_gks                                      81                164
Underlying_stroke                             84                165
number of selected top features: 7
selected top features: 
[1] "ANC"         "WBC"         "AKI"         "neutropenia" "PLT"        
[6] "PT_percent"  "BUN"        

[Training Random Forests classifier on the training set with only the top  7  features]

[Applying the trained Random Forests classifier on the test set with only the top  7  features]

PR AUC (integral) 	0.6459814
ROC AUC 		0.7593985

Brier score =  0.170  (best value: 0; worst value: 1)

TOTAL:

 FN =  4  /  7 	 (truth == 1) & (prediction < threshold)
 TP =  3  /  7 	 (truth == 1) & (prediction >= threshold)

 FP =  3  /  19 	 (truth == 0) & (prediction >= threshold)
 TN =  16  /  19 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.285 	 0.462 	 	0.731 	 	0.429 	 	0.842		0.500	 	0.800	 	0.646	0.759

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.581178e-02           1
WBC                             1.013292e-02           4
AKI                             1.240285e-02           2
neutropenia                     1.042723e-02           3
PT_percent                      8.130062e-03           6
CRP                             4.750589e-03          11
bacteremia                      9.092503e-03           5
PLT                             4.010983e-03          14
SOFA_D1                         4.320235e-03          12
BUN                             3.683168e-03          15
Vasoactiveagent                 7.757449e-03           7
Death_Cause                     5.271921e-03          10
CRRT                            5.640163e-03           9
APACH_II                        3.117560e-03          17
Pneumonia                       5.691490e-03           8
timefromdx                      1.471242e-03          22
hospital_LOS                    1.626069e-03          20
Albumin                         1.572994e-03          21
Cause_Ca_problem                2.934683e-03          18
prev_wbrt                       4.127209e-03          13
SAPS_II                         6.226316e-04          28
thrombocytopenia                3.213339e-03          16
age                             7.011221e-04          27
MV_days                         8.171948e-04          26
post_dc_days                    9.823808e-04          25
ICU_cause_intensivist           1.762303e-03          19
post_icu_survival               1.195111e-03          24
ICU_mortal30                    1.467396e-03          23
ICU_LOS                         3.400778e-04          36
underlying_pulmo                4.409302e-04          32
PaO2FiO2                        1.036393e-04          52
prev_ccrt                       4.583235e-04          30
StageNum                        2.983070e-04          40
histologyNum                    2.052462e-04          45
hypoalbuminemia                 2.983182e-04          39
Intensivist                     3.770397e-04          35
aPTT                           -1.947701e-06          66
HD                              4.500799e-04          31
NewlyDx                         3.388136e-04          37
cardiovasc                      5.468289e-04          29
DischargefromICU                3.055643e-04          38
HFNC                            2.167155e-04          44
Distatntmets                    1.253787e-04          48
post2011                        2.810386e-04          41
ICU_Death                       4.293965e-04          33
procalcitonin                   3.386733e-05          63
pulmocomorbid                   1.793092e-04          46
Underlying_DM                   1.372647e-04          47
Hospital_death                  2.243202e-04          43
MV                              3.905683e-04          34
ICUCPR                          2.476712e-04          42
anemia                          1.198463e-04          50
DNR                             6.515181e-05          56
PDT                             1.113412e-04          51
Hb                             -5.526154e-04          88
CTxinICU                        8.049433e-05          55
prev_rtx                       -1.312173e-04          82
Pre_PS                         -2.759712e-04          86
preICUDNR                       8.254962e-05          54
performance_hospital_DC        -9.770277e-05          81
sex                             2.810492e-05          64
smk_hx                         -1.347036e-05          69
BIPAP                           6.330663e-05          58
performance_ICU_DC             -3.773805e-04          87
Refractory                     -5.050068e-05          73
DNR_at_ICU                     -1.799755e-05          70
respfailure                     6.505979e-05          57
ILD                             8.938290e-05          53
PCC                             1.238154e-04          49
Surgery                         2.519244e-05          65
postICUCtx                      5.006258e-05          61
RRT                             5.828352e-05          59
ICUreadmission                 -1.953734e-05          71
other_malignancy               -1.260577e-05          68
prev_ctx                       -3.665490e-05          72
PrevICUadm                      3.946763e-05          62
ECMO                            5.397583e-05          60
PoorPS                         -1.518809e-04          85
prevCPR                        -8.578781e-05          77
Underlying_CV                  -6.934783e-05          76
postICURT                      -2.247191e-06          67
Tracheostomy                   -5.531352e-05          75
dx_after_adm                   -1.317673e-04          83
postICUCPR                     -9.621287e-05          80
WBRT                           -9.539772e-05          79
neurology                      -5.330127e-05          74
Underlying_stroke              -8.851475e-05          78
prev_gks                       -1.336783e-04          84
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC       6.41051984            1
WBC                                         WBC       5.24722677            2
AKI                                         AKI       3.55939633            5
neutropenia                         neutropenia       3.55146553            6
PT_percent                           PT_percent       4.28913655            3
CRP                                         CRP       3.69933167            4
bacteremia                           bacteremia       2.71211760           11
PLT                                         PLT       3.45690930            7
SOFA_D1                                 SOFA_D1       2.76626916           10
BUN                                         BUN       3.42127951            8
Vasoactiveagent                 Vasoactiveagent       1.94013235           18
Death_Cause                         Death_Cause       2.01157380           16
CRRT                                       CRRT       1.87001488           19
APACH_II                               APACH_II       2.59220073           12
Pneumonia                             Pneumonia       1.71817054           23
timefromdx                           timefromdx       2.92363290            9
hospital_LOS                       hospital_LOS       2.43681073           13
Albumin                                 Albumin       2.39573097           14
Cause_Ca_problem               Cause_Ca_problem       1.72815375           22
prev_wbrt                             prev_wbrt       1.37103975           27
SAPS_II                                 SAPS_II       1.96094329           17
thrombocytopenia               thrombocytopenia       1.21974075           29
age                                         age       1.78234716           20
MV_days                                 MV_days       1.52031186           24
post_dc_days                       post_dc_days       1.40344983           26
ICU_cause_intensivist     ICU_cause_intensivist       0.87757581           33
post_icu_survival             post_icu_survival       1.07868148           31
ICU_mortal30                       ICU_mortal30       0.51318127           39
ICU_LOS                                 ICU_LOS       1.29621405           28
underlying_pulmo               underlying_pulmo       0.56277883           38
PaO2FiO2                               PaO2FiO2       1.73276943           21
prev_ccrt                             prev_ccrt       0.42154862           44
StageNum                               StageNum       0.70161238           35
histologyNum                       histologyNum       0.88211690           32
hypoalbuminemia                 hypoalbuminemia       0.44593489           40
Intensivist                         Intensivist       0.41638715           45
aPTT                                       aPTT       2.02910031           15
HD                                           HD       0.33101418           52
NewlyDx                                 NewlyDx       0.38804712           48
cardiovasc                           cardiovasc       0.29012639           57
DischargefromICU               DischargefromICU       0.34561705           49
HFNC                                       HFNC       0.42501361           43
Distatntmets                       Distatntmets       0.43477756           42
post2011                               post2011       0.34469661           50
ICU_Death                             ICU_Death       0.28787767           59
procalcitonin                     procalcitonin       1.09642564           30
pulmocomorbid                     pulmocomorbid       0.39242676           47
Underlying_DM                     Underlying_DM       0.41261206           46
Hospital_death                   Hospital_death       0.30171865           55
MV                                           MV       0.21374085           68
ICUCPR                                   ICUCPR       0.28042806           63
anemia                                   anemia       0.28484681           60
DNR                                         DNR       0.31782179           54
PDT                                         PDT       0.28147585           61
Hb                                           Hb       1.42808048           25
CTxinICU                               CTxinICU       0.27674881           64
prev_rtx                               prev_rtx       0.58580304           37
Pre_PS                                   Pre_PS       0.71463923           34
preICUDNR                             preICUDNR       0.23982508           67
performance_hospital_DC performance_hospital_DC       0.44127942           41
sex                                         sex       0.28907029           58
smk_hx                                   smk_hx       0.32601474           53
BIPAP                                     BIPAP       0.27413860           65
performance_ICU_DC           performance_ICU_DC       0.61722122           36
Refractory                           Refractory       0.33359873           51
DNR_at_ICU                           DNR_at_ICU       0.29376198           56
respfailure                         respfailure       0.21246366           69
ILD                                         ILD       0.12068679           78
PCC                                         PCC       0.08182731           82
Surgery                                 Surgery       0.25232676           66
postICUCtx                           postICUCtx       0.14108243           75
RRT                                         RRT       0.08462412           81
ICUreadmission                   ICUreadmission       0.19539889           71
other_malignancy               other_malignancy       0.16316307           74
prev_ctx                               prev_ctx       0.20003769           70
PrevICUadm                           PrevICUadm       0.07565707           84
ECMO                                       ECMO       0.04932450           87
PoorPS                                   PoorPS       0.28062025           62
prevCPR                                 prevCPR       0.18357860           72
Underlying_CV                     Underlying_CV       0.14035278           76
postICURT                             postICURT       0.01034035           88
Tracheostomy                       Tracheostomy       0.09249546           80
dx_after_adm                       dx_after_adm       0.16849138           73
postICUCPR                           postICUCPR       0.12196535           77
WBRT                                       WBRT       0.10136083           79
neurology                             neurology       0.06446673           86
Underlying_stroke             Underlying_stroke       0.08111494           83
prev_gks                               prev_gks       0.07299029           85
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
WBC                          6        2                            4
AKI                          7        3                            2
neutropenia                  9        4                            3
PT_percent                   9        5                            6
CRP                         15        6                           11
bacteremia                  16        7                            5
PLT                         21        8                           14
SOFA_D1                     22        9                           12
BUN                         23       10                           15
Vasoactiveagent             25       11                            7
Death_Cause                 26       12                           10
CRRT                        28       13                            9
APACH_II                    29       14                           17
Pneumonia                   31       15                            8
timefromdx                  31       16                           22
hospital_LOS                33       17                           20
Albumin                     35       18                           21
Cause_Ca_problem            40       19                           18
prev_wbrt                   40       20                           13
SAPS_II                     45       21                           28
thrombocytopenia            45       22                           16
age                         47       23                           27
MV_days                     50       24                           26
post_dc_days                51       25                           25
ICU_cause_intensivist       52       26                           19
post_icu_survival           55       27                           24
ICU_mortal30                62       28                           23
ICU_LOS                     64       29                           36
underlying_pulmo            70       30                           32
PaO2FiO2                    73       31                           52
prev_ccrt                   74       32                           30
StageNum                    75       33                           40
histologyNum                77       34                           45
hypoalbuminemia             79       35                           39
Intensivist                 80       36                           35
aPTT                        81       37                           66
HD                          83       38                           31
NewlyDx                     85       39                           37
cardiovasc                  86       40                           29
DischargefromICU            87       41                           38
HFNC                        87       42                           44
Distatntmets                90       43                           48
post2011                    91       44                           41
ICU_Death                   92       45                           33
procalcitonin               93       46                           63
pulmocomorbid               93       47                           46
Underlying_DM               93       48                           47
Hospital_death              98       49                           43
MV                         102       50                           34
ICUCPR                     105       51                           42
anemia                     110       52                           50
DNR                        110       53                           56
PDT                        112       54                           51
Hb                         113       55                           88
CTxinICU                   119       56                           55
prev_rtx                   119       57                           82
Pre_PS                     120       58                           86
preICUDNR                  121       59                           54
performance_hospital_DC    122       60                           81
sex                        122       61                           64
smk_hx                     122       62                           69
BIPAP                      123       63                           58
performance_ICU_DC         123       64                           87
Refractory                 124       65                           73
DNR_at_ICU                 126       66                           70
respfailure                126       67                           57
ILD                        131       68                           53
PCC                        131       69                           49
Surgery                    131       70                           65
postICUCtx                 136       71                           61
RRT                        140       72                           59
ICUreadmission             142       73                           71
other_malignancy           142       74                           68
prev_ctx                   142       75                           72
PrevICUadm                 146       76                           62
ECMO                       147       77                           60
PoorPS                     147       78                           85
prevCPR                    149       79                           77
Underlying_CV              152       80                           76
postICURT                  155       81                           67
Tracheostomy               155       82                           75
dx_after_adm               156       83                           83
postICUCPR                 157       84                           80
WBRT                       158       85                           79
neurology                  160       86                           74
Underlying_stroke          161       87                           78
prev_gks                   169       88                           84
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
WBC                                            2                  6
AKI                                            5                  7
neutropenia                                    6                  9
PT_percent                                     3                  9
CRP                                            4                 15
bacteremia                                    11                 16
PLT                                            7                 21
SOFA_D1                                       10                 22
BUN                                            8                 23
Vasoactiveagent                               18                 25
Death_Cause                                   16                 26
CRRT                                          19                 28
APACH_II                                      12                 29
Pneumonia                                     23                 31
timefromdx                                     9                 31
hospital_LOS                                  13                 33
Albumin                                       14                 35
Cause_Ca_problem                              22                 40
prev_wbrt                                     27                 40
SAPS_II                                       17                 45
thrombocytopenia                              29                 45
age                                           20                 47
MV_days                                       24                 50
post_dc_days                                  26                 51
ICU_cause_intensivist                         33                 52
post_icu_survival                             31                 55
ICU_mortal30                                  39                 62
ICU_LOS                                       28                 64
underlying_pulmo                              38                 70
PaO2FiO2                                      21                 73
prev_ccrt                                     44                 74
StageNum                                      35                 75
histologyNum                                  32                 77
hypoalbuminemia                               40                 79
Intensivist                                   45                 80
aPTT                                          15                 81
HD                                            52                 83
NewlyDx                                       48                 85
cardiovasc                                    57                 86
DischargefromICU                              49                 87
HFNC                                          43                 87
Distatntmets                                  42                 90
post2011                                      50                 91
ICU_Death                                     59                 92
procalcitonin                                 30                 93
pulmocomorbid                                 47                 93
Underlying_DM                                 46                 93
Hospital_death                                55                 98
MV                                            68                102
ICUCPR                                        63                105
anemia                                        60                110
DNR                                           54                110
PDT                                           61                112
Hb                                            25                113
CTxinICU                                      64                119
prev_rtx                                      37                119
Pre_PS                                        34                120
preICUDNR                                     67                121
performance_hospital_DC                       41                122
sex                                           58                122
smk_hx                                        53                122
BIPAP                                         65                123
performance_ICU_DC                            36                123
Refractory                                    51                124
DNR_at_ICU                                    56                126
respfailure                                   69                126
ILD                                           78                131
PCC                                           82                131
Surgery                                       66                131
postICUCtx                                    75                136
RRT                                           81                140
ICUreadmission                                71                142
other_malignancy                              74                142
prev_ctx                                      70                142
PrevICUadm                                    84                146
ECMO                                          87                147
PoorPS                                        62                147
prevCPR                                       72                149
Underlying_CV                                 76                152
postICURT                                     88                155
Tracheostomy                                  80                155
dx_after_adm                                  73                156
postICUCPR                                    77                157
WBRT                                          79                158
neurology                                     86                160
Underlying_stroke                             83                161
prev_gks                                      85                169
number of selected top features: 7
selected top features: 
[1] "ANC"         "WBC"         "AKI"         "neutropenia" "PT_percent" 
[6] "CRP"         "bacteremia" 

[Training Random Forests classifier on the training set with only the top  7  features]

[Applying the trained Random Forests classifier on the test set with only the top  7  features]

PR AUC (integral) 	0.675045
ROC AUC 		0.875

Brier score =  0.097  (best value: 0; worst value: 1)

TOTAL:

 FN =  2  /  4 	 (truth == 1) & (prediction < threshold)
 TP =  2  /  4 	 (truth == 1) & (prediction >= threshold)

 FP =  2  /  22 	 (truth == 0) & (prediction >= threshold)
 TN =  20  /  22 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.409 	 0.500 	 	0.846 	 	0.500 	 	0.909		0.500	 	0.909	 	0.675	0.875

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.772971e-02           1
WBC                             1.244981e-02           2
neutropenia                     1.212563e-02           3
CRP                             6.000858e-03           8
AKI                             1.030345e-02           4
PLT                             5.088606e-03           9
PT_percent                      4.367995e-03          11
SOFA_D1                         4.700874e-03          10
bacteremia                      6.757666e-03           7
Vasoactiveagent                 8.692113e-03           5
BUN                             3.449405e-03          15
Pneumonia                       7.233648e-03           6
APACH_II                        3.311701e-03          16
timefromdx                      1.485053e-03          20
Cause_Ca_problem                3.624220e-03          14
Albumin                         1.796077e-03          19
hospital_LOS                    1.256510e-03          22
Death_Cause                     3.743123e-03          13
thrombocytopenia                4.139494e-03          12
SAPS_II                         1.199307e-03          25
prev_wbrt                       2.913485e-03          17
MV_days                         1.212241e-03          23
age                             5.741685e-04          29
CRRT                            2.250815e-03          18
post_dc_days                    8.426877e-04          27
post_icu_survival               1.205874e-03          24
ICU_cause_intensivist           1.257548e-03          21
PaO2FiO2                        3.040318e-04          39
aPTT                            1.271592e-04          50
StageNum                        4.079721e-04          32
prev_ccrt                       6.840929e-04          28
ICU_mortal30                    1.151455e-03          26
histologyNum                    3.314763e-04          36
HFNC                            5.364608e-04          30
procalcitonin                   2.258445e-04          41
NewlyDx                         3.146627e-04          38
underlying_pulmo                1.594474e-04          46
Intensivist                     3.304852e-04          37
ICU_Death                       4.078081e-04          33
Hospital_death                  4.745753e-04          31
post2011                        3.315191e-04          35
pulmocomorbid                   1.814386e-04          43
hypoalbuminemia                 1.577824e-04          47
Refractory                      1.624456e-04          45
DischargefromICU                1.935275e-04          42
MV                              3.419333e-04          34
Underlying_DM                   7.774084e-05          57
ICU_LOS                        -8.215961e-05          76
HD                              1.730022e-04          44
anemia                          1.515051e-04          48
ICUCPR                          1.012693e-04          53
cardiovasc                      2.985568e-04          40
CTxinICU                        1.207398e-04          51
Hb                             -2.947133e-04          88
performance_ICU_DC             -7.603598e-05          75
smk_hx                         -1.147437e-05          67
respfailure                     1.313743e-04          49
prev_rtx                       -1.078234e-04          80
Pre_PS                         -1.782815e-04          86
preICUDNR                       8.041674e-05          56
DNR                            -5.962442e-05          72
Surgery                        -3.111730e-05          69
BIPAP                           7.218807e-05          58
performance_hospital_DC        -2.670316e-04          87
prevCPR                         9.679635e-05          55
Distatntmets                   -1.347987e-04          84
ICUreadmission                  1.782005e-05          62
PDT                             2.141662e-06          64
prev_ctx                        4.203492e-05          59
PoorPS                         -4.127414e-05          71
DNR_at_ICU                     -7.312518e-05          74
ILD                             9.900886e-05          54
PCC                             1.080153e-04          52
dx_after_adm                    6.994291e-06          63
postICUCPR                      0.000000e+00          66
postICUCtx                      3.584478e-05          61
ECMO                            4.101371e-05          60
sex                            -1.406720e-04          85
neurology                      -2.114308e-05          68
other_malignancy               -8.442985e-05          77
RRT                            -6.731909e-05          73
postICURT                       2.008408e-06          65
PrevICUadm                     -3.710601e-05          70
Tracheostomy                   -8.594134e-05          78
Underlying_CV                  -1.116404e-04          81
WBRT                           -1.216485e-04          83
prev_gks                       -1.141665e-04          82
Underlying_stroke              -8.760830e-05          79
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.807408498            1
WBC                                         WBC      5.827071131            2
neutropenia                         neutropenia      3.871743736            4
CRP                                         CRP      4.086936895            3
AKI                                         AKI      2.822723921            9
PLT                                         PLT      3.375087414            5
PT_percent                           PT_percent      3.250290155            6
SOFA_D1                                 SOFA_D1      2.715305241           10
bacteremia                           bacteremia      2.211117391           14
Vasoactiveagent                 Vasoactiveagent      2.049085075           16
BUN                                         BUN      2.930986455            7
Pneumonia                             Pneumonia      1.833803883           20
APACH_II                               APACH_II      2.524969599           12
timefromdx                           timefromdx      2.896303169            8
Cause_Ca_problem               Cause_Ca_problem      1.945971946           17
Albumin                                 Albumin      2.378481114           13
hospital_LOS                       hospital_LOS      2.546048560           11
Death_Cause                         Death_Cause      1.662471385           22
thrombocytopenia               thrombocytopenia      1.352522194           26
SAPS_II                                 SAPS_II      1.885082993           18
prev_wbrt                             prev_wbrt      1.212225139           28
MV_days                                 MV_days      1.405783786           24
age                                         age      1.874780849           19
CRRT                                       CRRT      1.069295206           30
post_dc_days                       post_dc_days      1.401087414           25
post_icu_survival             post_icu_survival      1.134980750           29
ICU_cause_intensivist     ICU_cause_intensivist      0.700514800           35
PaO2FiO2                               PaO2FiO2      1.806470090           21
aPTT                                       aPTT      2.066899813           15
StageNum                               StageNum      0.748240914           33
prev_ccrt                             prev_ccrt      0.502202464           38
ICU_mortal30                       ICU_mortal30      0.500286874           41
histologyNum                       histologyNum      0.970385502           32
HFNC                                       HFNC      0.460525213           42
procalcitonin                     procalcitonin      1.047868392           31
NewlyDx                                 NewlyDx      0.378560790           45
underlying_pulmo               underlying_pulmo      0.564200017           37
Intensivist                         Intensivist      0.359852398           48
ICU_Death                             ICU_Death      0.319538943           53
Hospital_death                   Hospital_death      0.312092975           56
post2011                               post2011      0.319657538           52
pulmocomorbid                     pulmocomorbid      0.352025182           49
hypoalbuminemia                 hypoalbuminemia      0.375697901           46
Refractory                           Refractory      0.343021172           51
DischargefromICU               DischargefromICU      0.309019961           57
MV                                           MV      0.249420462           65
Underlying_DM                     Underlying_DM      0.414005765           43
ICU_LOS                                 ICU_LOS      1.267701195           27
HD                                           HD      0.279464635           61
anemia                                   anemia      0.302449063           58
ICUCPR                                   ICUCPR      0.313325904           55
cardiovasc                           cardiovasc      0.215085710           70
CTxinICU                               CTxinICU      0.297236672           59
Hb                                           Hb      1.479943747           23
performance_ICU_DC           performance_ICU_DC      0.601228667           36
smk_hx                                   smk_hx      0.364264968           47
respfailure                         respfailure      0.226555161           67
prev_rtx                               prev_rtx      0.501688327           39
Pre_PS                                   Pre_PS      0.729861019           34
preICUDNR                             preICUDNR      0.255387250           64
DNR                                         DNR      0.343071309           50
Surgery                                 Surgery      0.316681139           54
BIPAP                                     BIPAP      0.223541894           69
performance_hospital_DC performance_hospital_DC      0.500585386           40
prevCPR                                 prevCPR      0.194890875           72
Distatntmets                       Distatntmets      0.394432759           44
ICUreadmission                   ICUreadmission      0.224048329           68
PDT                                         PDT      0.236208159           66
prev_ctx                               prev_ctx      0.195990989           71
PoorPS                                   PoorPS      0.273686343           62
DNR_at_ICU                           DNR_at_ICU      0.281173115           60
ILD                                         ILD      0.104539743           82
PCC                                         PCC      0.080623405           84
dx_after_adm                       dx_after_adm      0.167830163           74
postICUCPR                           postICUCPR      0.180262402           73
postICUCtx                           postICUCtx      0.115133816           80
ECMO                                       ECMO      0.049248345           87
sex                                         sex      0.257227047           63
neurology                             neurology      0.081038033           83
other_malignancy               other_malignancy      0.138212686           75
RRT                                         RRT      0.123884273           79
postICURT                             postICURT      0.007580965           88
PrevICUadm                           PrevICUadm      0.067345574           86
Tracheostomy                       Tracheostomy      0.127063747           78
Underlying_CV                     Underlying_CV      0.135093458           76
WBRT                                       WBRT      0.134224628           77
prev_gks                               prev_gks      0.112161041           81
Underlying_stroke             Underlying_stroke      0.078737330           85
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
WBC                          4        2                            2
neutropenia                  7        3                            3
CRP                         11        4                            8
AKI                         13        5                            4
PLT                         14        6                            9
PT_percent                  17        7                           11
SOFA_D1                     20        8                           10
bacteremia                  21        9                            7
Vasoactiveagent             21       10                            5
BUN                         22       11                           15
Pneumonia                   26       12                            6
APACH_II                    28       13                           16
timefromdx                  28       14                           20
Cause_Ca_problem            31       15                           14
Albumin                     32       16                           19
hospital_LOS                33       17                           22
Death_Cause                 35       18                           13
thrombocytopenia            38       19                           12
SAPS_II                     43       20                           25
prev_wbrt                   45       21                           17
MV_days                     47       22                           23
age                         48       23                           29
CRRT                        48       24                           18
post_dc_days                52       25                           27
post_icu_survival           53       26                           24
ICU_cause_intensivist       56       27                           21
PaO2FiO2                    60       28                           39
aPTT                        65       29                           50
StageNum                    65       30                           32
prev_ccrt                   66       31                           28
ICU_mortal30                67       32                           26
histologyNum                68       33                           36
HFNC                        72       34                           30
procalcitonin               72       35                           41
NewlyDx                     83       36                           38
underlying_pulmo            83       37                           46
Intensivist                 85       38                           37
ICU_Death                   86       39                           33
Hospital_death              87       40                           31
post2011                    87       41                           35
pulmocomorbid               92       42                           43
hypoalbuminemia             93       43                           47
Refractory                  96       44                           45
DischargefromICU            99       45                           42
MV                          99       46                           34
Underlying_DM              100       47                           57
ICU_LOS                    103       48                           76
HD                         105       49                           44
anemia                     106       50                           48
ICUCPR                     108       51                           53
cardiovasc                 110       52                           40
CTxinICU                   110       53                           51
Hb                         111       54                           88
performance_ICU_DC         111       55                           75
smk_hx                     114       56                           67
respfailure                116       57                           49
prev_rtx                   119       58                           80
Pre_PS                     120       59                           86
preICUDNR                  120       60                           56
DNR                        122       61                           72
Surgery                    123       62                           69
BIPAP                      127       63                           58
performance_hospital_DC    127       64                           87
prevCPR                    127       65                           55
Distatntmets               128       66                           84
ICUreadmission             130       67                           62
PDT                        130       68                           64
prev_ctx                   130       69                           59
PoorPS                     133       70                           71
DNR_at_ICU                 134       71                           74
ILD                        136       72                           54
PCC                        136       73                           52
dx_after_adm               137       74                           63
postICUCPR                 139       75                           66
postICUCtx                 141       76                           61
ECMO                       147       77                           60
sex                        148       78                           85
neurology                  151       79                           68
other_malignancy           152       80                           77
RRT                        152       81                           73
postICURT                  153       82                           65
PrevICUadm                 156       83                           70
Tracheostomy               156       84                           78
Underlying_CV              157       85                           81
WBRT                       160       86                           83
prev_gks                   163       87                           82
Underlying_stroke          164       88                           79
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
WBC                                            2                  4
neutropenia                                    4                  7
CRP                                            3                 11
AKI                                            9                 13
PLT                                            5                 14
PT_percent                                     6                 17
SOFA_D1                                       10                 20
bacteremia                                    14                 21
Vasoactiveagent                               16                 21
BUN                                            7                 22
Pneumonia                                     20                 26
APACH_II                                      12                 28
timefromdx                                     8                 28
Cause_Ca_problem                              17                 31
Albumin                                       13                 32
hospital_LOS                                  11                 33
Death_Cause                                   22                 35
thrombocytopenia                              26                 38
SAPS_II                                       18                 43
prev_wbrt                                     28                 45
MV_days                                       24                 47
age                                           19                 48
CRRT                                          30                 48
post_dc_days                                  25                 52
post_icu_survival                             29                 53
ICU_cause_intensivist                         35                 56
PaO2FiO2                                      21                 60
aPTT                                          15                 65
StageNum                                      33                 65
prev_ccrt                                     38                 66
ICU_mortal30                                  41                 67
histologyNum                                  32                 68
HFNC                                          42                 72
procalcitonin                                 31                 72
NewlyDx                                       45                 83
underlying_pulmo                              37                 83
Intensivist                                   48                 85
ICU_Death                                     53                 86
Hospital_death                                56                 87
post2011                                      52                 87
pulmocomorbid                                 49                 92
hypoalbuminemia                               46                 93
Refractory                                    51                 96
DischargefromICU                              57                 99
MV                                            65                 99
Underlying_DM                                 43                100
ICU_LOS                                       27                103
HD                                            61                105
anemia                                        58                106
ICUCPR                                        55                108
cardiovasc                                    70                110
CTxinICU                                      59                110
Hb                                            23                111
performance_ICU_DC                            36                111
smk_hx                                        47                114
respfailure                                   67                116
prev_rtx                                      39                119
Pre_PS                                        34                120
preICUDNR                                     64                120
DNR                                           50                122
Surgery                                       54                123
BIPAP                                         69                127
performance_hospital_DC                       40                127
prevCPR                                       72                127
Distatntmets                                  44                128
ICUreadmission                                68                130
PDT                                           66                130
prev_ctx                                      71                130
PoorPS                                        62                133
DNR_at_ICU                                    60                134
ILD                                           82                136
PCC                                           84                136
dx_after_adm                                  74                137
postICUCPR                                    73                139
postICUCtx                                    80                141
ECMO                                          87                147
sex                                           63                148
neurology                                     83                151
other_malignancy                              75                152
RRT                                           79                152
postICURT                                     88                153
PrevICUadm                                    86                156
Tracheostomy                                  78                156
Underlying_CV                                 76                157
WBRT                                          77                160
prev_gks                                      81                163
Underlying_stroke                             85                164
number of selected top features: 7
selected top features: 
[1] "ANC"         "WBC"         "neutropenia" "CRP"         "AKI"        
[6] "PLT"         "PT_percent" 

[Training Random Forests classifier on the training set with only the top  7  features]

[Applying the trained Random Forests classifier on the test set with only the top  7  features]

PR AUC (integral) 	0.6358663
ROC AUC 		0.9333333

Brier score =  0.125  (best value: 0; worst value: 1)

TOTAL:

 FN =  4  /  6 	 (truth == 1) & (prediction < threshold)
 TP =  2  /  6 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  20 	 (truth == 0) & (prediction >= threshold)
 TN =  19  /  20 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.374 	 0.444 	 	0.808 	 	0.333 	 	0.950		0.667	 	0.826	 	0.636	0.933

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.574288e-02           1
WBC                             1.000382e-02           3
AKI                             1.115163e-02           2
neutropenia                     9.569509e-03           4
PT_percent                      6.830824e-03           7
bacteremia                      8.729464e-03           5
CRP                             3.764271e-03          13
PLT                             4.442583e-03          12
SOFA_D1                         6.079640e-03           8
BUN                             3.723621e-03          14
Vasoactiveagent                 7.770821e-03           6
CRRT                            5.073255e-03          11
Death_Cause                     5.270061e-03           9
APACH_II                        2.474876e-03          18
hospital_LOS                    1.489419e-03          21
Albumin                         1.542068e-03          20
Pneumonia                       5.073596e-03          10
timefromdx                      1.087849e-03          25
Cause_Ca_problem                3.312023e-03          15
SAPS_II                         1.102498e-03          24
post_dc_days                    2.075783e-03          19
thrombocytopenia                3.220001e-03          16
prev_wbrt                       2.744742e-03          17
age                             8.386140e-04          28
PaO2FiO2                        5.193165e-04          32
aPTT                            3.402118e-04          39
MV_days                         6.330625e-04          30
ICU_cause_intensivist           1.176647e-03          23
post_icu_survival               5.825768e-04          31
StageNum                        8.127977e-04          29
HFNC                            9.988695e-04          27
ICU_mortal30                    1.312305e-03          22
prev_ccrt                       1.076036e-03          26
histologyNum                    3.523864e-04          38
underlying_pulmo                3.880839e-04          35
Distatntmets                    4.031263e-04          34
pulmocomorbid                   3.835505e-04          36
ICU_LOS                         5.190555e-05          60
DischargefromICU                1.866799e-04          44
Intensivist                     1.689179e-04          45
NewlyDx                         2.110737e-04          42
Hospital_death                  3.746581e-04          37
cardiovasc                      4.676470e-04          33
hypoalbuminemia                 1.229491e-04          48
ICU_Death                       3.288152e-04          40
Underlying_DM                   8.140595e-05          52
performance_hospital_DC         6.121253e-05          57
prev_rtx                        4.188019e-05          62
HD                              2.610326e-04          41
post2011                        1.542398e-04          47
procalcitonin                  -3.201525e-05          70
anemia                          2.067930e-04          43
Hb                             -9.250017e-05          81
sex                             5.281340e-05          59
MV                              1.667912e-04          46
CTxinICU                        8.506987e-05          50
Pre_PS                         -8.270933e-05          79
preICUDNR                       1.224025e-04          49
Refractory                     -6.075706e-07          68
respfailure                     7.644664e-05          54
BIPAP                           7.226982e-05          55
Surgery                         1.729117e-05          64
performance_ICU_DC             -1.575120e-04          86
PoorPS                         -3.816930e-05          73
ICUCPR                          5.733289e-05          58
DNR                            -4.125169e-05          74
RRT                             6.461368e-05          56
ILD                             8.143617e-05          51
PCC                             8.033394e-05          53
prevCPR                         7.156441e-06          65
postICUCtx                      4.618659e-05          61
DNR_at_ICU                     -2.626213e-04          88
prev_ctx                       -4.763274e-05          75
Underlying_CV                  -1.108899e-05          69
ECMO                            3.890097e-05          63
smk_hx                         -1.689606e-04          87
ICUreadmission                 -1.129514e-04          82
other_malignancy               -7.141198e-05          77
neurology                       1.837423e-07          67
postICUCPR                     -6.083059e-05          76
postICURT                       2.409639e-06          66
WBRT                           -3.439712e-05          72
PrevICUadm                     -3.250401e-05          71
dx_after_adm                   -1.272885e-04          85
Tracheostomy                   -8.135513e-05          78
PDT                            -1.225014e-04          83
prev_gks                       -1.251801e-04          84
Underlying_stroke              -9.163192e-05          80
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.450568731            1
WBC                                         WBC      5.448148562            2
AKI                                         AKI      3.155537383            8
neutropenia                         neutropenia      3.387883676            6
PT_percent                           PT_percent      3.902231470            3
bacteremia                           bacteremia      2.597938795           11
CRP                                         CRP      3.746425424            4
PLT                                         PLT      3.499246797            5
SOFA_D1                                 SOFA_D1      3.111125146            9
BUN                                         BUN      3.248742613            7
Vasoactiveagent                 Vasoactiveagent      1.980233389           18
CRRT                                       CRRT      2.029769669           16
Death_Cause                         Death_Cause      1.935899534           19
APACH_II                               APACH_II      2.365255911           13
hospital_LOS                       hospital_LOS      2.573396670           12
Albumin                                 Albumin      2.221311552           14
Pneumonia                             Pneumonia      1.506415956           25
timefromdx                           timefromdx      2.875655489           10
Cause_Ca_problem               Cause_Ca_problem      1.831060361           22
SAPS_II                                 SAPS_II      1.983320999           17
post_dc_days                       post_dc_days      1.637620412           23
thrombocytopenia               thrombocytopenia      1.352664826           27
prev_wbrt                             prev_wbrt      1.084288606           29
age                                         age      1.928673199           20
PaO2FiO2                               PaO2FiO2      1.845530572           21
aPTT                                       aPTT      2.112721755           15
MV_days                                 MV_days      1.414146421           26
ICU_cause_intensivist     ICU_cause_intensivist      0.678726785           35
post_icu_survival             post_icu_survival      1.035410827           31
StageNum                               StageNum      0.812622247           33
HFNC                                       HFNC      0.642653133           36
ICU_mortal30                       ICU_mortal30      0.471777841           42
prev_ccrt                             prev_ccrt      0.624169781           38
histologyNum                       histologyNum      0.942648494           32
underlying_pulmo               underlying_pulmo      0.591182298           40
Distatntmets                       Distatntmets      0.471614318           43
pulmocomorbid                     pulmocomorbid      0.444538772           44
ICU_LOS                                 ICU_LOS      1.239728855           28
DischargefromICU               DischargefromICU      0.376255896           48
Intensivist                         Intensivist      0.414802187           47
NewlyDx                                 NewlyDx      0.362795501           50
Hospital_death                   Hospital_death      0.293895190           56
cardiovasc                           cardiovasc      0.280976416           61
hypoalbuminemia                 hypoalbuminemia      0.416190361           46
ICU_Death                             ICU_Death      0.291810828           57
Underlying_DM                     Underlying_DM      0.435695971           45
performance_hospital_DC performance_hospital_DC      0.545240552           41
prev_rtx                               prev_rtx      0.631415636           37
HD                                           HD      0.285999075           59
post2011                               post2011      0.332543243           53
procalcitonin                     procalcitonin      1.046698093           30
anemia                                   anemia      0.289691415           58
Hb                                           Hb      1.514582578           24
sex                                         sex      0.341064781           51
MV                                           MV      0.238195277           65
CTxinICU                               CTxinICU      0.265295489           62
Pre_PS                                   Pre_PS      0.787524803           34
preICUDNR                             preICUDNR      0.261234697           64
Refractory                           Refractory      0.369440389           49
respfailure                         respfailure      0.211869842           66
BIPAP                                     BIPAP      0.201061660           68
Surgery                                 Surgery      0.282159167           60
performance_ICU_DC           performance_ICU_DC      0.603479453           39
PoorPS                                   PoorPS      0.332817017           52
ICUCPR                                   ICUCPR      0.195018882           70
DNR                                         DNR      0.311648034           55
RRT                                         RRT      0.144618234           73
ILD                                         ILD      0.109923693           80
PCC                                         PCC      0.084060621           83
prevCPR                                 prevCPR      0.186772725           71
postICUCtx                           postICUCtx      0.126740221           78
DNR_at_ICU                           DNR_at_ICU      0.312751648           54
prev_ctx                               prev_ctx      0.201166309           67
Underlying_CV                     Underlying_CV      0.138122454           75
ECMO                                       ECMO      0.047205133           87
smk_hx                                   smk_hx      0.261501504           63
ICUreadmission                   ICUreadmission      0.195217234           69
other_malignancy               other_malignancy      0.142171579           74
neurology                             neurology      0.057519742           86
postICUCPR                           postICUCPR      0.133004804           77
postICURT                             postICURT      0.002358095           88
WBRT                                       WBRT      0.098093591           82
PrevICUadm                           PrevICUadm      0.079798595           84
dx_after_adm                       dx_after_adm      0.157650441           72
Tracheostomy                       Tracheostomy      0.115314571           79
PDT                                         PDT      0.136387514           76
prev_gks                               prev_gks      0.098898106           81
Underlying_stroke             Underlying_stroke      0.075889461           85
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
WBC                          5        2                            3
AKI                         10        3                            2
neutropenia                 10        4                            4
PT_percent                  10        5                            7
bacteremia                  16        6                            5
CRP                         17        7                           13
PLT                         17        8                           12
SOFA_D1                     17        9                            8
BUN                         21       10                           14
Vasoactiveagent             24       11                            6
CRRT                        27       12                           11
Death_Cause                 28       13                            9
APACH_II                    31       14                           18
hospital_LOS                33       15                           21
Albumin                     34       16                           20
Pneumonia                   35       17                           10
timefromdx                  35       18                           25
Cause_Ca_problem            37       19                           15
SAPS_II                     41       20                           24
post_dc_days                42       21                           19
thrombocytopenia            43       22                           16
prev_wbrt                   46       23                           17
age                         48       24                           28
PaO2FiO2                    53       25                           32
aPTT                        54       26                           39
MV_days                     56       27                           30
ICU_cause_intensivist       58       28                           23
post_icu_survival           62       29                           31
StageNum                    62       30                           29
HFNC                        63       31                           27
ICU_mortal30                64       32                           22
prev_ccrt                   64       33                           26
histologyNum                70       34                           38
underlying_pulmo            75       35                           35
Distatntmets                77       36                           34
pulmocomorbid               80       37                           36
ICU_LOS                     88       38                           60
DischargefromICU            92       39                           44
Intensivist                 92       40                           45
NewlyDx                     92       41                           42
Hospital_death              93       42                           37
cardiovasc                  94       43                           33
hypoalbuminemia             94       44                           48
ICU_Death                   97       45                           40
Underlying_DM               97       46                           52
performance_hospital_DC     98       47                           57
prev_rtx                    99       48                           62
HD                         100       49                           41
post2011                   100       50                           47
procalcitonin              100       51                           70
anemia                     101       52                           43
Hb                         105       53                           81
sex                        110       54                           59
MV                         111       55                           46
CTxinICU                   112       56                           50
Pre_PS                     113       57                           79
preICUDNR                  113       58                           49
Refractory                 117       59                           68
respfailure                120       60                           54
BIPAP                      123       61                           55
Surgery                    124       62                           64
performance_ICU_DC         125       63                           86
PoorPS                     125       64                           73
ICUCPR                     128       65                           58
DNR                        129       66                           74
RRT                        129       67                           56
ILD                        131       68                           51
PCC                        136       69                           53
prevCPR                    136       70                           65
postICUCtx                 139       71                           61
DNR_at_ICU                 142       72                           88
prev_ctx                   142       73                           75
Underlying_CV              144       74                           69
ECMO                       150       75                           63
smk_hx                     150       76                           87
ICUreadmission             151       77                           82
other_malignancy           151       78                           77
neurology                  153       79                           67
postICUCPR                 153       80                           76
postICURT                  154       81                           66
WBRT                       154       82                           72
PrevICUadm                 155       83                           71
dx_after_adm               157       84                           85
Tracheostomy               157       85                           78
PDT                        159       86                           83
prev_gks                   165       87                           84
Underlying_stroke          165       88                           80
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
WBC                                            2                  5
AKI                                            8                 10
neutropenia                                    6                 10
PT_percent                                     3                 10
bacteremia                                    11                 16
CRP                                            4                 17
PLT                                            5                 17
SOFA_D1                                        9                 17
BUN                                            7                 21
Vasoactiveagent                               18                 24
CRRT                                          16                 27
Death_Cause                                   19                 28
APACH_II                                      13                 31
hospital_LOS                                  12                 33
Albumin                                       14                 34
Pneumonia                                     25                 35
timefromdx                                    10                 35
Cause_Ca_problem                              22                 37
SAPS_II                                       17                 41
post_dc_days                                  23                 42
thrombocytopenia                              27                 43
prev_wbrt                                     29                 46
age                                           20                 48
PaO2FiO2                                      21                 53
aPTT                                          15                 54
MV_days                                       26                 56
ICU_cause_intensivist                         35                 58
post_icu_survival                             31                 62
StageNum                                      33                 62
HFNC                                          36                 63
ICU_mortal30                                  42                 64
prev_ccrt                                     38                 64
histologyNum                                  32                 70
underlying_pulmo                              40                 75
Distatntmets                                  43                 77
pulmocomorbid                                 44                 80
ICU_LOS                                       28                 88
DischargefromICU                              48                 92
Intensivist                                   47                 92
NewlyDx                                       50                 92
Hospital_death                                56                 93
cardiovasc                                    61                 94
hypoalbuminemia                               46                 94
ICU_Death                                     57                 97
Underlying_DM                                 45                 97
performance_hospital_DC                       41                 98
prev_rtx                                      37                 99
HD                                            59                100
post2011                                      53                100
procalcitonin                                 30                100
anemia                                        58                101
Hb                                            24                105
sex                                           51                110
MV                                            65                111
CTxinICU                                      62                112
Pre_PS                                        34                113
preICUDNR                                     64                113
Refractory                                    49                117
respfailure                                   66                120
BIPAP                                         68                123
Surgery                                       60                124
performance_ICU_DC                            39                125
PoorPS                                        52                125
ICUCPR                                        70                128
DNR                                           55                129
RRT                                           73                129
ILD                                           80                131
PCC                                           83                136
prevCPR                                       71                136
postICUCtx                                    78                139
DNR_at_ICU                                    54                142
prev_ctx                                      67                142
Underlying_CV                                 75                144
ECMO                                          87                150
smk_hx                                        63                150
ICUreadmission                                69                151
other_malignancy                              74                151
neurology                                     86                153
postICUCPR                                    77                153
postICURT                                     88                154
WBRT                                          82                154
PrevICUadm                                    84                155
dx_after_adm                                  72                157
Tracheostomy                                  79                157
PDT                                           76                159
prev_gks                                      81                165
Underlying_stroke                             85                165
number of selected top features: 7
selected top features: 
[1] "ANC"         "WBC"         "AKI"         "neutropenia" "PT_percent" 
[6] "bacteremia"  "CRP"        

[Training Random Forests classifier on the training set with only the top  7  features]

[Applying the trained Random Forests classifier on the test set with only the top  7  features]

PR AUC (integral) 	0.8124665
ROC AUC 		0.9545455

Brier score =  0.062  (best value: 0; worst value: 1)

TOTAL:

 FN =  2  /  4 	 (truth == 1) & (prediction < threshold)
 TP =  2  /  4 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  22 	 (truth == 0) & (prediction >= threshold)
 TN =  21  /  22 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.513 	 0.571 	 	0.885 	 	0.500 	 	0.955		0.667	 	0.913	 	0.812	0.955




=== final results ===
Number of executions = 10
                MCC F1_score accuracy TP_rate TN_rate    PPV    NPV PR_AUC
nbr.val      10.000   10.000   10.000  10.000  10.000 10.000 10.000 10.000
nbr.null      0.000    0.000    0.000   0.000   0.000  0.000  0.000  0.000
nbr.na        0.000    0.000    0.000   0.000   0.000  0.000  0.000  0.000
min           0.184    0.250    0.692   0.167   0.737  0.444  0.739  0.560
max           0.603    0.667    0.885   0.600   1.000  1.000  0.913  0.812
range         0.419    0.417    0.192   0.433   0.263  0.556  0.174  0.253
sum           3.926    4.803    8.000   4.112   9.187  6.444  8.363  6.825
median        0.391    0.500    0.808   0.429   0.949  0.667  0.825  0.665
mean          0.393    0.480    0.800   0.411   0.919  0.644  0.836  0.682
SE.mean       0.042    0.036    0.021   0.044   0.024  0.053  0.018  0.026
CI.mean.0.95  0.096    0.081    0.048   0.100   0.054  0.120  0.041  0.060
var           0.018    0.013    0.005   0.020   0.006  0.028  0.003  0.007
std.dev       0.134    0.114    0.067   0.140   0.076  0.168  0.058  0.083
coef.var      0.341    0.237    0.084   0.340   0.082  0.260  0.069  0.122
             ROC_AUC
nbr.val       10.000
nbr.null       0.000
nbr.na         0.000
min            0.741
max            0.955
range          0.214
sum            8.304
median         0.797
mean           0.830
SE.mean        0.028
CI.mean.0.95   0.064
var            0.008
std.dev        0.090
coef.var       0.108


=== === === ===
          MCC F1_score accuracy TP_rate TN_rate   PPV   NPV PR_AUC ROC_AUC
mean    0.393    0.480    0.800   0.411   0.919 0.644 0.836  0.682   0.830
std.dev 0.134    0.114    0.067   0.140   0.076 0.168 0.058  0.083   0.090


=== === === ===



Total execution time: 1.652294 seconds
0 days, 00 hours, 01 minutes, 39.14 seconds

We'll plot only the top 20 features
applied command: mkdir -p ../results/
just run the command: mkdir -p ../results/
saved plot in file ../results/MeanDecreaseAccuracy_features_83191.pdf
just run the command: mkdir -p ../results/
saved plot in file ../results/MeanDecreaseGini_features_83191.pdf
null device 
          1 
