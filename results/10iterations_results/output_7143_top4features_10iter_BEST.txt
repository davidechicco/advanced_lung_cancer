TOP_FEATURES_NUMBER = 4
NUM_ITERATIONS = 10
TRAIN_SET_OVERSAMPLING_SYNTHETIC == FALSE
Read data from file ../data/pone0210951_s006_dataset_EDITED_IMPUTED.csv
adenoca
large_cell_NEC
mixed
neuroendocrine_tumor
nonsmall_cell
others
poorly_differentiated
sarcomatoid
small_cell
squamous


The target feature is Sepsis
application of dplyr::select()
TRAINING_SET_RATIO = 0.9
Number of classification executions = 10	Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  1
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.602519e-02           1
AKI                             1.573171e-02           2
WBC                             9.231783e-03           4
neutropenia                     1.282998e-02           3
PT_percent                      5.605389e-03           8
CRRT                            8.646310e-03           5
PLT                             4.294957e-03          10
bacteremia                      8.169275e-03           6
BUN                             2.756229e-03          16
SOFA_D1                         4.160072e-03          11
CRP                             2.384664e-03          18
hospital_LOS                    1.862645e-03          19
APACH_II                        2.677080e-03          17
Death_Cause                     5.296519e-03           9
Vasoactiveagent                 5.866638e-03           7
Cause_Ca_problem                3.130338e-03          14
Albumin                         1.259332e-03          21
prev_wbrt                       3.681832e-03          13
Pneumonia                       3.874085e-03          12
timefromdx                      5.881739e-04          29
SAPS_II                         1.032123e-03          26
post_dc_days                    1.270588e-03          20
thrombocytopenia                3.119784e-03          15
MV_days                         1.039205e-03          25
PaO2FiO2                        4.199787e-04          31
age                             4.090941e-04          32
post_icu_survival               1.147510e-03          23
ICU_cause_intensivist           1.169118e-03          22
ICU_mortal30                    1.095668e-03          24
aPTT                            1.299544e-04          52
Hb                              2.003464e-04          47
StageNum                        3.961625e-04          34
histologyNum                    3.028152e-04          42
Distatntmets                    4.002110e-04          33
underlying_pulmo                3.640251e-04          40
ICUCPR                          4.734879e-04          30
cardiovasc                      7.959362e-04          27
Underlying_DM                   3.731033e-04          38
prev_ccrt                       3.829261e-04          36
HD                              3.814709e-04          37
Hospital_death                  6.646228e-04          28
pulmocomorbid                   2.499242e-04          43
NewlyDx                         2.435642e-04          45
HFNC                            1.354643e-04          51
ICU_Death                       3.860775e-04          35
Intensivist                     1.838404e-04          48
ICU_LOS                        -1.663879e-05          70
DischargefromICU                2.183694e-04          46
procalcitonin                  -1.342735e-06          68
post2011                        3.642428e-04          39
Refractory                      8.901361e-05          56
performance_hospital_DC         6.507555e-06          65
preICUDNR                       1.481249e-04          49
sex                             1.189737e-04          53
hypoalbuminemia                 9.337620e-05          55
anemia                          6.798160e-05          59
MV                              2.442209e-04          44
respfailure                     3.368054e-04          41
Pre_PS                         -1.407696e-04          86
PoorPS                          6.237547e-05          60
performance_ICU_DC             -2.547966e-04          87
prev_rtx                       -2.901798e-04          88
DNR                            -2.354131e-05          72
Surgery                         5.871560e-06          66
BIPAP                           4.020840e-05          61
prev_ctx                        7.959323e-05          57
CTxinICU                        2.158737e-05          64
PCC                             1.467566e-04          50
postICUCtx                      1.121533e-04          54
prevCPR                         3.032133e-05          62
ILD                             6.849060e-05          58
smk_hx                         -4.997494e-05          78
DNR_at_ICU                     -4.479559e-05          75
RRT                             2.209528e-05          63
ICUreadmission                 -4.988746e-05          77
PDT                            -9.171027e-05          82
postICUCPR                     -4.621081e-05          76
Underlying_CV                  -6.014791e-05          79
Tracheostomy                   -3.497388e-05          74
postICURT                       4.521073e-06          67
ECMO                           -2.352941e-06          69
PrevICUadm                     -1.818875e-05          71
dx_after_adm                   -9.750201e-05          83
neurology                      -2.593604e-05          73
other_malignancy               -1.144026e-04          85
WBRT                           -7.923593e-05          80
Underlying_stroke              -8.997767e-05          81
prev_gks                       -1.136825e-04          84
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.414820843            1
AKI                                         AKI      4.258653773            3
WBC                                         WBC      5.359546275            2
neutropenia                         neutropenia      3.979955338            4
PT_percent                           PT_percent      3.293335913            5
CRRT                                       CRRT      2.974849180            9
PLT                                         PLT      3.136438477            6
bacteremia                           bacteremia      2.264532373           14
BUN                                         BUN      3.132450381            7
SOFA_D1                                 SOFA_D1      2.479035812           12
CRP                                         CRP      3.094249666            8
hospital_LOS                       hospital_LOS      2.612067765           10
APACH_II                               APACH_II      2.438281055           13
Death_Cause                         Death_Cause      1.744362450           21
Vasoactiveagent                 Vasoactiveagent      1.452953940           23
Cause_Ca_problem               Cause_Ca_problem      1.748594898           20
Albumin                                 Albumin      1.889198141           16
prev_wbrt                             prev_wbrt      1.280990402           26
Pneumonia                             Pneumonia      1.125361253           28
timefromdx                           timefromdx      2.580741015           11
SAPS_II                                 SAPS_II      1.905945307           15
post_dc_days                       post_dc_days      1.349855015           25
thrombocytopenia               thrombocytopenia      1.048974104           30
MV_days                                 MV_days      1.355666000           24
PaO2FiO2                               PaO2FiO2      1.827750692           18
age                                         age      1.782191463           19
post_icu_survival             post_icu_survival      1.051382556           29
ICU_cause_intensivist     ICU_cause_intensivist      0.689784436           34
ICU_mortal30                       ICU_mortal30      0.519168245           39
aPTT                                       aPTT      1.841087656           17
Hb                                           Hb      1.483229500           22
StageNum                               StageNum      0.624301158           35
histologyNum                       histologyNum      0.887847596           32
Distatntmets                       Distatntmets      0.399843804           43
underlying_pulmo               underlying_pulmo      0.580980108           36
ICUCPR                                   ICUCPR      0.368480944           47
cardiovasc                           cardiovasc      0.325216604           51
Underlying_DM                     Underlying_DM      0.497811733           40
prev_ccrt                             prev_ccrt      0.387154978           44
HD                                           HD      0.341980537           50
Hospital_death                   Hospital_death      0.306272690           59
pulmocomorbid                     pulmocomorbid      0.384524962           45
NewlyDx                                 NewlyDx      0.379583641           46
HFNC                                       HFNC      0.450612530           41
ICU_Death                             ICU_Death      0.294911599           61
Intensivist                         Intensivist      0.363944298           48
ICU_LOS                                 ICU_LOS      1.205356973           27
DischargefromICU               DischargefromICU      0.324450727           52
procalcitonin                     procalcitonin      0.969207615           31
post2011                               post2011      0.283334371           63
Refractory                           Refractory      0.346933417           49
performance_hospital_DC performance_hospital_DC      0.443460328           42
preICUDNR                             preICUDNR      0.307413256           58
sex                                         sex      0.310655056           56
hypoalbuminemia                 hypoalbuminemia      0.317690867           55
anemia                                   anemia      0.320190537           53
MV                                           MV      0.209041328           68
respfailure                         respfailure      0.170916045           72
Pre_PS                                   Pre_PS      0.691279909           33
PoorPS                                   PoorPS      0.279574738           64
performance_ICU_DC           performance_ICU_DC      0.538072481           38
prev_rtx                               prev_rtx      0.580586241           37
DNR                                         DNR      0.319076070           54
Surgery                                 Surgery      0.305937218           60
BIPAP                                     BIPAP      0.226259080           66
prev_ctx                               prev_ctx      0.187327699           70
CTxinICU                               CTxinICU      0.217448547           67
PCC                                         PCC      0.110903084           81
postICUCtx                           postICUCtx      0.132962069           78
prevCPR                                 prevCPR      0.174656898           71
ILD                                         ILD      0.143663472           76
smk_hx                                   smk_hx      0.308700326           57
DNR_at_ICU                           DNR_at_ICU      0.294032679           62
RRT                                         RRT      0.117219715           80
ICUreadmission                   ICUreadmission      0.189133267           69
PDT                                         PDT      0.232629807           65
postICUCPR                           postICUCPR      0.147109942           75
Underlying_CV                     Underlying_CV      0.154282976           73
Tracheostomy                       Tracheostomy      0.118236674           79
postICURT                             postICURT      0.007702831           88
ECMO                                       ECMO      0.024810335           87
PrevICUadm                           PrevICUadm      0.083995704           85
dx_after_adm                       dx_after_adm      0.153307487           74
neurology                             neurology      0.077613199           86
other_malignancy               other_malignancy      0.138009213           77
WBRT                                       WBRT      0.104800999           82
Underlying_stroke             Underlying_stroke      0.095270210           83
prev_gks                               prev_gks      0.094632583           84
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
AKI                          5        2                            2
WBC                          6        3                            4
neutropenia                  7        4                            3
PT_percent                  13        5                            8
CRRT                        14        6                            5
PLT                         16        7                           10
bacteremia                  20        8                            6
BUN                         23        9                           16
SOFA_D1                     23       10                           11
CRP                         26       11                           18
hospital_LOS                29       12                           19
APACH_II                    30       13                           17
Death_Cause                 30       14                            9
Vasoactiveagent             30       15                            7
Cause_Ca_problem            34       16                           14
Albumin                     37       17                           21
prev_wbrt                   39       18                           13
Pneumonia                   40       19                           12
timefromdx                  40       20                           29
SAPS_II                     41       21                           26
post_dc_days                45       22                           20
thrombocytopenia            45       23                           15
MV_days                     49       24                           25
PaO2FiO2                    49       25                           31
age                         51       26                           32
post_icu_survival           52       27                           23
ICU_cause_intensivist       56       28                           22
ICU_mortal30                63       29                           24
aPTT                        69       30                           52
Hb                          69       31                           47
StageNum                    69       32                           34
histologyNum                74       33                           42
Distatntmets                76       34                           33
underlying_pulmo            76       35                           40
ICUCPR                      77       36                           30
cardiovasc                  78       37                           27
Underlying_DM               78       38                           38
prev_ccrt                   80       39                           36
HD                          87       40                           37
Hospital_death              87       41                           28
pulmocomorbid               88       42                           43
NewlyDx                     91       43                           45
HFNC                        92       44                           51
ICU_Death                   96       45                           35
Intensivist                 96       46                           48
ICU_LOS                     97       47                           70
DischargefromICU            98       48                           46
procalcitonin               99       49                           68
post2011                   102       50                           39
Refractory                 105       51                           56
performance_hospital_DC    107       52                           65
preICUDNR                  107       53                           49
sex                        109       54                           53
hypoalbuminemia            110       55                           55
anemia                     112       56                           59
MV                         112       57                           44
respfailure                113       58                           41
Pre_PS                     119       59                           86
PoorPS                     124       60                           60
performance_ICU_DC         125       61                           87
prev_rtx                   125       62                           88
DNR                        126       63                           72
Surgery                    126       64                           66
BIPAP                      127       65                           61
prev_ctx                   127       66                           57
CTxinICU                   131       67                           64
PCC                        131       68                           50
postICUCtx                 132       69                           54
prevCPR                    133       70                           62
ILD                        134       71                           58
smk_hx                     135       72                           78
DNR_at_ICU                 137       73                           75
RRT                        143       74                           63
ICUreadmission             146       75                           77
PDT                        147       76                           82
postICUCPR                 151       77                           76
Underlying_CV              152       78                           79
Tracheostomy               153       79                           74
postICURT                  155       80                           67
ECMO                       156       81                           69
PrevICUadm                 156       82                           71
dx_after_adm               157       83                           83
neurology                  159       84                           73
other_malignancy           162       85                           85
WBRT                       162       86                           80
Underlying_stroke          164       87                           81
prev_gks                   168       88                           84
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
AKI                                            3                  5
WBC                                            2                  6
neutropenia                                    4                  7
PT_percent                                     5                 13
CRRT                                           9                 14
PLT                                            6                 16
bacteremia                                    14                 20
BUN                                            7                 23
SOFA_D1                                       12                 23
CRP                                            8                 26
hospital_LOS                                  10                 29
APACH_II                                      13                 30
Death_Cause                                   21                 30
Vasoactiveagent                               23                 30
Cause_Ca_problem                              20                 34
Albumin                                       16                 37
prev_wbrt                                     26                 39
Pneumonia                                     28                 40
timefromdx                                    11                 40
SAPS_II                                       15                 41
post_dc_days                                  25                 45
thrombocytopenia                              30                 45
MV_days                                       24                 49
PaO2FiO2                                      18                 49
age                                           19                 51
post_icu_survival                             29                 52
ICU_cause_intensivist                         34                 56
ICU_mortal30                                  39                 63
aPTT                                          17                 69
Hb                                            22                 69
StageNum                                      35                 69
histologyNum                                  32                 74
Distatntmets                                  43                 76
underlying_pulmo                              36                 76
ICUCPR                                        47                 77
cardiovasc                                    51                 78
Underlying_DM                                 40                 78
prev_ccrt                                     44                 80
HD                                            50                 87
Hospital_death                                59                 87
pulmocomorbid                                 45                 88
NewlyDx                                       46                 91
HFNC                                          41                 92
ICU_Death                                     61                 96
Intensivist                                   48                 96
ICU_LOS                                       27                 97
DischargefromICU                              52                 98
procalcitonin                                 31                 99
post2011                                      63                102
Refractory                                    49                105
performance_hospital_DC                       42                107
preICUDNR                                     58                107
sex                                           56                109
hypoalbuminemia                               55                110
anemia                                        53                112
MV                                            68                112
respfailure                                   72                113
Pre_PS                                        33                119
PoorPS                                        64                124
performance_ICU_DC                            38                125
prev_rtx                                      37                125
DNR                                           54                126
Surgery                                       60                126
BIPAP                                         66                127
prev_ctx                                      70                127
CTxinICU                                      67                131
PCC                                           81                131
postICUCtx                                    78                132
prevCPR                                       71                133
ILD                                           76                134
smk_hx                                        57                135
DNR_at_ICU                                    62                137
RRT                                           80                143
ICUreadmission                                69                146
PDT                                           65                147
postICUCPR                                    75                151
Underlying_CV                                 73                152
Tracheostomy                                  79                153
postICURT                                     88                155
ECMO                                          87                156
PrevICUadm                                    85                156
dx_after_adm                                  74                157
neurology                                     86                159
other_malignancy                              77                162
WBRT                                          82                162
Underlying_stroke                             83                164
prev_gks                                      84                168
number of selected top features: 4
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia"

[Training Random Forests classifier on the training set with only the top  4  features]

[Applying the trained Random Forests classifier on the test set with only the top  4  features]

PR AUC (integral) 	0.7553787
ROC AUC 		0.8541667

Brier score =  0.178  (best value: 0; worst value: 1)

TOTAL:

 FN =  6  /  8 	 (truth == 1) & (prediction < threshold)
 TP =  2  /  8 	 (truth == 1) & (prediction >= threshold)

 FP =  0  /  18 	 (truth == 0) & (prediction >= threshold)
 TN =  18  /  18 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.433 	 0.400 	 	0.769 	 	0.250 	 	1.000		1.000	 	0.750	 	0.755	0.854

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  2
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.706702e-02           1
WBC                             9.859474e-03           3
PT_percent                      7.706344e-03           6
neutropenia                     9.752095e-03           4
AKI                             1.101799e-02           2
BUN                             5.404333e-03           8
CRP                             4.976656e-03           9
bacteremia                      8.120974e-03           5
PLT                             4.173274e-03          12
SOFA_D1                         4.538651e-03          10
timefromdx                      2.798348e-03          17
APACH_II                        3.654254e-03          15
Vasoactiveagent                 5.795838e-03           7
Death_Cause                     4.416635e-03          11
CRRT                            3.633134e-03          16
Albumin                         1.878835e-03          21
hospital_LOS                    1.219055e-03          24
Cause_Ca_problem                2.245579e-03          18
Pneumonia                       3.884803e-03          13
SAPS_II                         1.495772e-03          22
prev_wbrt                       3.878193e-03          14
age                             7.060088e-04          26
PaO2FiO2                        6.640296e-04          27
post_dc_days                    1.281886e-03          23
ICU_cause_intensivist           2.111580e-03          19
thrombocytopenia                1.995740e-03          20
aPTT                            2.467337e-04          40
post_icu_survival               1.066167e-03          25
MV_days                         4.560305e-04          30
HFNC                            6.495872e-04          28
histologyNum                    3.165507e-04          34
prev_ccrt                       6.370136e-04          29
underlying_pulmo                2.842050e-04          37
Intensivist                     3.062676e-04          35
procalcitonin                   1.265491e-04          51
Distatntmets                    2.343293e-04          41
HD                              4.270708e-04          31
post2011                        2.955596e-04          36
pulmocomorbid                   2.005633e-04          42
StageNum                        7.834388e-05          53
ICU_mortal30                    3.173558e-04          33
ICU_LOS                         2.401225e-05          62
Refractory                      1.578321e-04          47
hypoalbuminemia                 1.708898e-04          45
NewlyDx                         2.002700e-04          43
Hospital_death                  3.882576e-04          32
sex                             2.671388e-04          39
preICUDNR                       1.825226e-04          44
ICU_Death                       2.811703e-04          38
Underlying_DM                   3.384655e-05          59
performance_hospital_DC        -3.812406e-06          66
Surgery                         1.442986e-04          48
Hb                             -1.207933e-04          84
DNR                             3.408695e-05          58
prev_rtx                       -4.625116e-05          73
anemia                          6.462932e-05          54
respfailure                     1.376089e-04          50
ICUCPR                          1.628684e-04          46
cardiovasc                      1.433550e-04          49
DischargefromICU               -7.805823e-06          68
performance_ICU_DC             -1.917847e-04          85
Pre_PS                         -4.265593e-04          88
DNR_at_ICU                     -1.552817e-05          70
prevCPR                         5.575331e-05          55
MV                              2.226565e-05          64
prev_ctx                        2.265860e-05          63
smk_hx                         -1.950138e-04          86
BIPAP                          -1.405426e-05          69
RRT                             4.444252e-05          56
PCC                             9.285166e-05          52
ICUreadmission                 -6.160304e-05          76
ILD                             3.334140e-05          60
PoorPS                         -8.974374e-05          78
WBRT                            3.197221e-05          61
ECMO                            4.266260e-05          57
postICUCtx                     -4.078746e-06          67
CTxinICU                       -6.450607e-05          77
Underlying_CV                  -1.929087e-05          71
postICUCPR                     -1.145472e-04          83
postICURT                       6.909133e-06          65
dx_after_adm                   -9.396146e-05          79
PDT                            -1.088583e-04          82
Tracheostomy                   -4.721307e-05          74
PrevICUadm                     -2.261199e-05          72
neurology                      -4.772468e-05          75
other_malignancy               -2.031080e-04          87
prev_gks                       -9.689832e-05          80
Underlying_stroke              -1.012221e-04          81
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.591488839            1
WBC                                         WBC      4.970713199            2
PT_percent                           PT_percent      4.043826206            3
neutropenia                         neutropenia      3.290234031            6
AKI                                         AKI      2.915626961            9
BUN                                         BUN      3.473086216            5
CRP                                         CRP      3.484356299            4
bacteremia                           bacteremia      2.421776408           12
PLT                                         PLT      3.122865700            8
SOFA_D1                                 SOFA_D1      2.466328602           11
timefromdx                           timefromdx      3.198309114            7
APACH_II                               APACH_II      2.582499811           10
Vasoactiveagent                 Vasoactiveagent      1.316093953           24
Death_Cause                         Death_Cause      1.494367106           21
CRRT                                       CRRT      1.614219901           19
Albumin                                 Albumin      1.912183108           15
hospital_LOS                       hospital_LOS      2.363244340           13
Cause_Ca_problem               Cause_Ca_problem      1.506057764           20
Pneumonia                             Pneumonia      1.223949223           25
SAPS_II                                 SAPS_II      1.828942609           16
prev_wbrt                             prev_wbrt      1.209339233           26
age                                         age      1.679772685           18
PaO2FiO2                               PaO2FiO2      1.689280817           17
post_dc_days                       post_dc_days      1.372787610           22
ICU_cause_intensivist     ICU_cause_intensivist      0.840567457           31
thrombocytopenia               thrombocytopenia      0.932837808           30
aPTT                                       aPTT      1.964555218           14
post_icu_survival             post_icu_survival      1.040091361           29
MV_days                                 MV_days      1.166321549           27
HFNC                                       HFNC      0.553062463           36
histologyNum                       histologyNum      0.795765554           33
prev_ccrt                             prev_ccrt      0.428392611           42
underlying_pulmo               underlying_pulmo      0.529936892           38
Intensivist                         Intensivist      0.346570101           48
procalcitonin                     procalcitonin      0.824624055           32
Distatntmets                       Distatntmets      0.410881329           44
HD                                           HD      0.307502023           54
post2011                               post2011      0.340426615           49
pulmocomorbid                     pulmocomorbid      0.384775699           45
StageNum                               StageNum      0.578940850           35
ICU_mortal30                       ICU_mortal30      0.296850678           56
ICU_LOS                                 ICU_LOS      1.073541036           28
Refractory                           Refractory      0.418026121           43
hypoalbuminemia                 hypoalbuminemia      0.348584097           47
NewlyDx                                 NewlyDx      0.336517507           50
Hospital_death                   Hospital_death      0.250084017           62
sex                                         sex      0.306447058           55
preICUDNR                             preICUDNR      0.319554827           52
ICU_Death                             ICU_Death      0.258439087           60
Underlying_DM                     Underlying_DM      0.435528161           41
performance_hospital_DC performance_hospital_DC      0.454388993           40
Surgery                                 Surgery      0.275063164           58
Hb                                           Hb      1.360615464           23
DNR                                         DNR      0.328689486           51
prev_rtx                               prev_rtx      0.511015658           39
anemia                                   anemia      0.269914127           59
respfailure                         respfailure      0.188547359           65
ICUCPR                                   ICUCPR      0.172447423           71
cardiovasc                           cardiovasc      0.175724622           70
DischargefromICU               DischargefromICU      0.316780323           53
performance_ICU_DC           performance_ICU_DC      0.549669460           37
Pre_PS                                   Pre_PS      0.673092786           34
DNR_at_ICU                           DNR_at_ICU      0.281677639           57
prevCPR                                 prevCPR      0.169851512           72
MV                                           MV      0.185129835           66
prev_ctx                               prev_ctx      0.181307985           68
smk_hx                                   smk_hx      0.351311640           46
BIPAP                                     BIPAP      0.216374355           64
RRT                                         RRT      0.118320165           77
PCC                                         PCC      0.059913565           85
ICUreadmission                   ICUreadmission      0.218613221           63
ILD                                         ILD      0.103593363           79
PoorPS                                   PoorPS      0.252555145           61
WBRT                                       WBRT      0.096181650           80
ECMO                                       ECMO      0.038162458           87
postICUCtx                           postICUCtx      0.105071078           78
CTxinICU                               CTxinICU      0.180859730           69
Underlying_CV                     Underlying_CV      0.139277082           76
postICUCPR                           postICUCPR      0.183839961           67
postICURT                             postICURT      0.008273055           88
dx_after_adm                       dx_after_adm      0.161482057           75
PDT                                         PDT      0.165081052           73
Tracheostomy                       Tracheostomy      0.093244564           82
PrevICUadm                           PrevICUadm      0.052630857           86
neurology                             neurology      0.083302811           84
other_malignancy               other_malignancy      0.162465997           74
prev_gks                               prev_gks      0.093940779           81
Underlying_stroke             Underlying_stroke      0.084537014           83
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
WBC                          5        2                            3
PT_percent                   9        3                            6
neutropenia                 10        4                            4
AKI                         11        5                            2
BUN                         13        6                            8
CRP                         13        7                            9
bacteremia                  17        8                            5
PLT                         20        9                           12
SOFA_D1                     21       10                           10
timefromdx                  24       11                           17
APACH_II                    25       12                           15
Vasoactiveagent             31       13                            7
Death_Cause                 32       14                           11
CRRT                        35       15                           16
Albumin                     36       16                           21
hospital_LOS                37       17                           24
Cause_Ca_problem            38       18                           18
Pneumonia                   38       19                           13
SAPS_II                     38       20                           22
prev_wbrt                   40       21                           14
age                         44       22                           26
PaO2FiO2                    44       23                           27
post_dc_days                45       24                           23
ICU_cause_intensivist       50       25                           19
thrombocytopenia            50       26                           20
aPTT                        54       27                           40
post_icu_survival           54       28                           25
MV_days                     57       29                           30
HFNC                        64       30                           28
histologyNum                67       31                           34
prev_ccrt                   71       32                           29
underlying_pulmo            75       33                           37
Intensivist                 83       34                           35
procalcitonin               83       35                           51
Distatntmets                85       36                           41
HD                          85       37                           31
post2011                    85       38                           36
pulmocomorbid               87       39                           42
StageNum                    88       40                           53
ICU_mortal30                89       41                           33
ICU_LOS                     90       42                           62
Refractory                  90       43                           47
hypoalbuminemia             92       44                           45
NewlyDx                     93       45                           43
Hospital_death              94       46                           32
sex                         94       47                           39
preICUDNR                   96       48                           44
ICU_Death                   98       49                           38
Underlying_DM              100       50                           59
performance_hospital_DC    106       51                           66
Surgery                    106       52                           48
Hb                         107       53                           84
DNR                        109       54                           58
prev_rtx                   112       55                           73
anemia                     113       56                           54
respfailure                115       57                           50
ICUCPR                     117       58                           46
cardiovasc                 119       59                           49
DischargefromICU           121       60                           68
performance_ICU_DC         122       61                           85
Pre_PS                     122       62                           88
DNR_at_ICU                 127       63                           70
prevCPR                    127       64                           55
MV                         130       65                           64
prev_ctx                   131       66                           63
smk_hx                     132       67                           86
BIPAP                      133       68                           69
RRT                        133       69                           56
PCC                        137       70                           52
ICUreadmission             139       71                           76
ILD                        139       72                           60
PoorPS                     139       73                           78
WBRT                       141       74                           61
ECMO                       144       75                           57
postICUCtx                 145       76                           67
CTxinICU                   146       77                           77
Underlying_CV              147       78                           71
postICUCPR                 150       79                           83
postICURT                  153       80                           65
dx_after_adm               154       81                           79
PDT                        155       82                           82
Tracheostomy               156       83                           74
PrevICUadm                 158       84                           72
neurology                  159       85                           75
other_malignancy           161       86                           87
prev_gks                   161       87                           80
Underlying_stroke          164       88                           81
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
WBC                                            2                  5
PT_percent                                     3                  9
neutropenia                                    6                 10
AKI                                            9                 11
BUN                                            5                 13
CRP                                            4                 13
bacteremia                                    12                 17
PLT                                            8                 20
SOFA_D1                                       11                 21
timefromdx                                     7                 24
APACH_II                                      10                 25
Vasoactiveagent                               24                 31
Death_Cause                                   21                 32
CRRT                                          19                 35
Albumin                                       15                 36
hospital_LOS                                  13                 37
Cause_Ca_problem                              20                 38
Pneumonia                                     25                 38
SAPS_II                                       16                 38
prev_wbrt                                     26                 40
age                                           18                 44
PaO2FiO2                                      17                 44
post_dc_days                                  22                 45
ICU_cause_intensivist                         31                 50
thrombocytopenia                              30                 50
aPTT                                          14                 54
post_icu_survival                             29                 54
MV_days                                       27                 57
HFNC                                          36                 64
histologyNum                                  33                 67
prev_ccrt                                     42                 71
underlying_pulmo                              38                 75
Intensivist                                   48                 83
procalcitonin                                 32                 83
Distatntmets                                  44                 85
HD                                            54                 85
post2011                                      49                 85
pulmocomorbid                                 45                 87
StageNum                                      35                 88
ICU_mortal30                                  56                 89
ICU_LOS                                       28                 90
Refractory                                    43                 90
hypoalbuminemia                               47                 92
NewlyDx                                       50                 93
Hospital_death                                62                 94
sex                                           55                 94
preICUDNR                                     52                 96
ICU_Death                                     60                 98
Underlying_DM                                 41                100
performance_hospital_DC                       40                106
Surgery                                       58                106
Hb                                            23                107
DNR                                           51                109
prev_rtx                                      39                112
anemia                                        59                113
respfailure                                   65                115
ICUCPR                                        71                117
cardiovasc                                    70                119
DischargefromICU                              53                121
performance_ICU_DC                            37                122
Pre_PS                                        34                122
DNR_at_ICU                                    57                127
prevCPR                                       72                127
MV                                            66                130
prev_ctx                                      68                131
smk_hx                                        46                132
BIPAP                                         64                133
RRT                                           77                133
PCC                                           85                137
ICUreadmission                                63                139
ILD                                           79                139
PoorPS                                        61                139
WBRT                                          80                141
ECMO                                          87                144
postICUCtx                                    78                145
CTxinICU                                      69                146
Underlying_CV                                 76                147
postICUCPR                                    67                150
postICURT                                     88                153
dx_after_adm                                  75                154
PDT                                           73                155
Tracheostomy                                  82                156
PrevICUadm                                    86                158
neurology                                     84                159
other_malignancy                              74                161
prev_gks                                      81                161
Underlying_stroke                             83                164
number of selected top features: 4
selected top features: 
[1] "ANC"         "WBC"         "PT_percent"  "neutropenia"

[Training Random Forests classifier on the training set with only the top  4  features]

[Applying the trained Random Forests classifier on the test set with only the top  4  features]

PR AUC (integral) 	0.6842676
ROC AUC 		0.7232143

Brier score =  0.254  (best value: 0; worst value: 1)

TOTAL:

 FN =  8  /  12 	 (truth == 1) & (prediction < threshold)
 TP =  4  /  12 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  14 	 (truth == 0) & (prediction >= threshold)
 TN =  13  /  14 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.331 	 0.471 	 	0.654 	 	0.333 	 	0.929		0.800	 	0.619	 	0.684	0.723

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  3
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.717262e-02           1
WBC                             1.224697e-02           2
neutropenia                     1.069121e-02           3
PT_percent                      6.899497e-03           6
CRP                             5.352903e-03           9
AKI                             9.730347e-03           4
SOFA_D1                         6.822636e-03           7
BUN                             4.984657e-03          10
PLT                             4.821642e-03          11
bacteremia                      8.322852e-03           5
APACH_II                        3.769735e-03          14
Vasoactiveagent                 6.211243e-03           8
Albumin                         1.827439e-03          18
Death_Cause                     4.073000e-03          12
Cause_Ca_problem                2.981532e-03          17
SAPS_II                         1.430502e-03          19
thrombocytopenia                3.776690e-03          13
CRRT                            3.724831e-03          15
hospital_LOS                    9.037684e-04          23
timefromdx                      5.844244e-04          29
Pneumonia                       3.279569e-03          16
PaO2FiO2                        6.967863e-04          27
age                             5.145434e-04          31
post_dc_days                    7.409734e-04          26
ICU_cause_intensivist           1.044227e-03          21
MV_days                         5.810370e-04          30
post_icu_survival               7.423120e-04          25
ICU_mortal30                    1.424701e-03          20
prev_ccrt                       9.599806e-04          22
aPTT                            1.296549e-04          48
prev_wbrt                       6.889307e-04          28
ICU_Death                       7.601967e-04          24
underlying_pulmo                4.528969e-04          34
pulmocomorbid                   3.035489e-04          36
StageNum                        2.249479e-04          41
ICU_LOS                         4.110589e-05          55
prev_rtx                        8.185977e-05          50
DischargefromICU                3.535636e-04          35
HFNC                            2.342330e-04          40
Refractory                      1.357056e-04          44
hypoalbuminemia                 1.921264e-04          43
cardiovasc                      4.934906e-04          32
sex                             2.586353e-04          38
Intensivist                     2.383985e-04          39
post2011                        2.830831e-04          37
NewlyDx                         1.344126e-04          46
MV                              4.741390e-04          33
performance_hospital_DC         1.657113e-05          58
histologyNum                   -5.699175e-05          71
preICUDNR                       1.325869e-04          47
Hospital_death                  2.229114e-04          42
procalcitonin                  -9.066478e-05          78
Hb                             -2.446976e-04          87
anemia                          5.569353e-05          54
HD                              1.041639e-04          49
RRT                             1.344345e-04          45
Distatntmets                   -4.962724e-05          70
Pre_PS                         -2.057360e-04          86
respfailure                     6.745232e-05          52
ICUCPR                          1.301174e-05          59
DNR                            -7.845534e-05          77
BIPAP                           3.687360e-06          63
performance_ICU_DC             -3.616772e-04          88
postICUCtx                      5.880502e-05          53
PCC                             8.072221e-05          51
PDT                             1.561469e-06          65
Underlying_DM                  -1.280685e-04          81
Surgery                        -6.080167e-05          72
DNR_at_ICU                     -9.227609e-05          79
CTxinICU                        7.249732e-06          62
prevCPR                        -4.096389e-05          69
smk_hx                         -1.820637e-04          85
dx_after_adm                    2.483910e-06          64
ILD                             1.287498e-05          60
neurology                       3.719979e-05          57
ECMO                            3.778375e-05          56
PoorPS                         -1.778975e-04          84
WBRT                           -3.732864e-06          66
postICUCPR                     -7.122692e-05          76
prev_ctx                       -7.005123e-05          75
postICURT                       9.133262e-06          61
Tracheostomy                   -3.769566e-06          67
PrevICUadm                     -1.278762e-05          68
other_malignancy               -1.609554e-04          83
Underlying_CV                  -1.170862e-04          80
Underlying_stroke              -6.546695e-05          74
ICUreadmission                 -6.349171e-05          73
prev_gks                       -1.563013e-04          82
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC       6.80778793            1
WBC                                         WBC       5.92871972            2
neutropenia                         neutropenia       3.42723493            7
PT_percent                           PT_percent       3.84971003            4
CRP                                         CRP       3.93962339            3
AKI                                         AKI       3.07638350            9
SOFA_D1                                 SOFA_D1       3.15696090            8
BUN                                         BUN       3.51521625            6
PLT                                         PLT       3.58504028            5
bacteremia                           bacteremia       2.33483820           13
APACH_II                               APACH_II       2.51253171           10
Vasoactiveagent                 Vasoactiveagent       1.66641598           20
Albumin                                 Albumin       2.37522303           12
Death_Cause                         Death_Cause       1.66481661           21
Cause_Ca_problem               Cause_Ca_problem       1.73435652           18
SAPS_II                                 SAPS_II       1.95534349           16
thrombocytopenia               thrombocytopenia       1.52036187           23
CRRT                                       CRRT       1.60261791           22
hospital_LOS                       hospital_LOS       2.20243614           14
timefromdx                           timefromdx       2.40014447           11
Pneumonia                             Pneumonia       1.18311991           28
PaO2FiO2                               PaO2FiO2       1.71134241           19
age                                         age       1.82200743           17
post_dc_days                       post_dc_days       1.27439386           26
ICU_cause_intensivist     ICU_cause_intensivist       0.66034252           33
MV_days                                 MV_days       1.38401726           24
post_icu_survival             post_icu_survival       0.94864656           30
ICU_mortal30                       ICU_mortal30       0.57580790           38
prev_ccrt                             prev_ccrt       0.59784974           36
aPTT                                       aPTT       1.96161079           15
prev_wbrt                             prev_wbrt       0.61332089           35
ICU_Death                             ICU_Death       0.37914778           46
underlying_pulmo               underlying_pulmo       0.57899936           37
pulmocomorbid                     pulmocomorbid       0.43350088           42
StageNum                               StageNum       0.56174517           39
ICU_LOS                                 ICU_LOS       1.18315796           27
prev_rtx                               prev_rtx       0.69696659           32
DischargefromICU               DischargefromICU       0.34501114           49
HFNC                                       HFNC       0.39855244           44
Refractory                           Refractory       0.41629445           43
hypoalbuminemia                 hypoalbuminemia       0.38208728           45
cardiovasc                           cardiovasc       0.26770030           58
sex                                         sex       0.29941743           53
Intensivist                         Intensivist       0.29801968           54
post2011                               post2011       0.27990254           57
NewlyDx                                 NewlyDx       0.33369733           50
MV                                           MV       0.21426155           65
performance_hospital_DC performance_hospital_DC       0.51022503           41
histologyNum                       histologyNum       0.89062246           31
preICUDNR                             preICUDNR       0.28930830           55
Hospital_death                   Hospital_death       0.24992592           62
procalcitonin                     procalcitonin       1.06387570           29
Hb                                           Hb       1.32362071           25
anemia                                   anemia       0.26532640           60
HD                                           HD       0.20948094           66
RRT                                         RRT       0.17080462           71
Distatntmets                       Distatntmets       0.36496448           47
Pre_PS                                   Pre_PS       0.63566957           34
respfailure                         respfailure       0.17711468           70
ICUCPR                                   ICUCPR       0.21428614           64
DNR                                         DNR       0.35538825           48
BIPAP                                     BIPAP       0.23631305           63
performance_ICU_DC           performance_ICU_DC       0.54382938           40
postICUCtx                           postICUCtx       0.12030172           77
PCC                                         PCC       0.09663060           81
PDT                                         PDT       0.20468201           67
Underlying_DM                     Underlying_DM       0.32945066           51
Surgery                                 Surgery       0.26445032           61
DNR_at_ICU                           DNR_at_ICU       0.28393493           56
CTxinICU                               CTxinICU       0.14584509           74
prevCPR                                 prevCPR       0.19948226           68
smk_hx                                   smk_hx       0.32429911           52
dx_after_adm                       dx_after_adm       0.13642367           75
ILD                                         ILD       0.10128395           80
neurology                             neurology       0.07421337           85
ECMO                                       ECMO       0.05433254           87
PoorPS                                   PoorPS       0.26716197           59
WBRT                                       WBRT       0.11583226           78
postICUCPR                           postICUCPR       0.16328660           72
prev_ctx                               prev_ctx       0.15574009           73
postICURT                             postICURT       0.01120274           88
Tracheostomy                       Tracheostomy       0.09480855           82
PrevICUadm                           PrevICUadm       0.09041257           83
other_malignancy               other_malignancy       0.18439590           69
Underlying_CV                     Underlying_CV       0.12938599           76
Underlying_stroke             Underlying_stroke       0.09024886           84
ICUreadmission                   ICUreadmission       0.07062819           86
prev_gks                               prev_gks       0.10515828           79
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
WBC                          4        2                            2
neutropenia                 10        3                            3
PT_percent                  10        4                            6
CRP                         12        5                            9
AKI                         13        6                            4
SOFA_D1                     15        7                            7
BUN                         16        8                           10
PLT                         16        9                           11
bacteremia                  18       10                            5
APACH_II                    24       11                           14
Vasoactiveagent             28       12                            8
Albumin                     30       13                           18
Death_Cause                 33       14                           12
Cause_Ca_problem            35       15                           17
SAPS_II                     35       16                           19
thrombocytopenia            36       17                           13
CRRT                        37       18                           15
hospital_LOS                37       19                           23
timefromdx                  40       20                           29
Pneumonia                   44       21                           16
PaO2FiO2                    46       22                           27
age                         48       23                           31
post_dc_days                52       24                           26
ICU_cause_intensivist       54       25                           21
MV_days                     54       26                           30
post_icu_survival           55       27                           25
ICU_mortal30                58       28                           20
prev_ccrt                   58       29                           22
aPTT                        63       30                           48
prev_wbrt                   63       31                           28
ICU_Death                   70       32                           24
underlying_pulmo            71       33                           34
pulmocomorbid               78       34                           36
StageNum                    80       35                           41
ICU_LOS                     82       36                           55
prev_rtx                    82       37                           50
DischargefromICU            84       38                           35
HFNC                        84       39                           40
Refractory                  87       40                           44
hypoalbuminemia             88       41                           43
cardiovasc                  90       42                           32
sex                         91       43                           38
Intensivist                 93       44                           39
post2011                    94       45                           37
NewlyDx                     96       46                           46
MV                          98       47                           33
performance_hospital_DC     99       48                           58
histologyNum               102       49                           71
preICUDNR                  102       50                           47
Hospital_death             104       51                           42
procalcitonin              107       52                           78
Hb                         112       53                           87
anemia                     114       54                           54
HD                         115       55                           49
RRT                        116       56                           45
Distatntmets               117       57                           70
Pre_PS                     120       58                           86
respfailure                122       59                           52
ICUCPR                     123       60                           59
DNR                        125       61                           77
BIPAP                      126       62                           63
performance_ICU_DC         128       63                           88
postICUCtx                 130       64                           53
PCC                        132       65                           51
PDT                        132       66                           65
Underlying_DM              132       67                           81
Surgery                    133       68                           72
DNR_at_ICU                 135       69                           79
CTxinICU                   136       70                           62
prevCPR                    137       71                           69
smk_hx                     137       72                           85
dx_after_adm               139       73                           64
ILD                        140       74                           60
neurology                  142       75                           57
ECMO                       143       76                           56
PoorPS                     143       77                           84
WBRT                       144       78                           66
postICUCPR                 148       79                           76
prev_ctx                   148       80                           75
postICURT                  149       81                           61
Tracheostomy               149       82                           67
PrevICUadm                 151       83                           68
other_malignancy           152       84                           83
Underlying_CV              156       85                           80
Underlying_stroke          158       86                           74
ICUreadmission             159       87                           73
prev_gks                   161       88                           82
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
WBC                                            2                  4
neutropenia                                    7                 10
PT_percent                                     4                 10
CRP                                            3                 12
AKI                                            9                 13
SOFA_D1                                        8                 15
BUN                                            6                 16
PLT                                            5                 16
bacteremia                                    13                 18
APACH_II                                      10                 24
Vasoactiveagent                               20                 28
Albumin                                       12                 30
Death_Cause                                   21                 33
Cause_Ca_problem                              18                 35
SAPS_II                                       16                 35
thrombocytopenia                              23                 36
CRRT                                          22                 37
hospital_LOS                                  14                 37
timefromdx                                    11                 40
Pneumonia                                     28                 44
PaO2FiO2                                      19                 46
age                                           17                 48
post_dc_days                                  26                 52
ICU_cause_intensivist                         33                 54
MV_days                                       24                 54
post_icu_survival                             30                 55
ICU_mortal30                                  38                 58
prev_ccrt                                     36                 58
aPTT                                          15                 63
prev_wbrt                                     35                 63
ICU_Death                                     46                 70
underlying_pulmo                              37                 71
pulmocomorbid                                 42                 78
StageNum                                      39                 80
ICU_LOS                                       27                 82
prev_rtx                                      32                 82
DischargefromICU                              49                 84
HFNC                                          44                 84
Refractory                                    43                 87
hypoalbuminemia                               45                 88
cardiovasc                                    58                 90
sex                                           53                 91
Intensivist                                   54                 93
post2011                                      57                 94
NewlyDx                                       50                 96
MV                                            65                 98
performance_hospital_DC                       41                 99
histologyNum                                  31                102
preICUDNR                                     55                102
Hospital_death                                62                104
procalcitonin                                 29                107
Hb                                            25                112
anemia                                        60                114
HD                                            66                115
RRT                                           71                116
Distatntmets                                  47                117
Pre_PS                                        34                120
respfailure                                   70                122
ICUCPR                                        64                123
DNR                                           48                125
BIPAP                                         63                126
performance_ICU_DC                            40                128
postICUCtx                                    77                130
PCC                                           81                132
PDT                                           67                132
Underlying_DM                                 51                132
Surgery                                       61                133
DNR_at_ICU                                    56                135
CTxinICU                                      74                136
prevCPR                                       68                137
smk_hx                                        52                137
dx_after_adm                                  75                139
ILD                                           80                140
neurology                                     85                142
ECMO                                          87                143
PoorPS                                        59                143
WBRT                                          78                144
postICUCPR                                    72                148
prev_ctx                                      73                148
postICURT                                     88                149
Tracheostomy                                  82                149
PrevICUadm                                    83                151
other_malignancy                              69                152
Underlying_CV                                 76                156
Underlying_stroke                             84                158
ICUreadmission                                86                159
prev_gks                                      79                161
number of selected top features: 4
selected top features: 
[1] "ANC"         "WBC"         "neutropenia" "PT_percent" 

[Training Random Forests classifier on the training set with only the top  4  features]

[Applying the trained Random Forests classifier on the test set with only the top  4  features]

PR AUC (integral) 	0.5002032
ROC AUC 		0.59375

Brier score =  0.221  (best value: 0; worst value: 1)

TOTAL:

 FN =  4  /  8 	 (truth == 1) & (prediction < threshold)
 TP =  4  /  8 	 (truth == 1) & (prediction >= threshold)

 FP =  3  /  18 	 (truth == 0) & (prediction >= threshold)
 TN =  15  /  18 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.347 	 0.533 	 	0.731 	 	0.500 	 	0.833		0.571	 	0.789	 	0.500	0.594

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  4
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.421935e-02           2
AKI                             1.694011e-02           1
WBC                             1.011498e-02           4
neutropenia                     1.154132e-02           3
PT_percent                      5.588579e-03           8
bacteremia                      8.240093e-03           5
BUN                             3.368408e-03          13
PLT                             3.890691e-03          12
SOFA_D1                         4.797273e-03          10
Death_Cause                     6.662723e-03           7
APACH_II                        3.288803e-03          14
CRRT                            5.165752e-03           9
CRP                             2.474976e-03          18
Vasoactiveagent                 7.636177e-03           6
timefromdx                      1.551830e-03          20
Albumin                         1.534779e-03          21
SAPS_II                         1.609264e-03          19
hospital_LOS                    1.044030e-03          25
Pneumonia                       4.124010e-03          11
Cause_Ca_problem                2.813403e-03          16
thrombocytopenia                3.069882e-03          15
post_dc_days                    1.317728e-03          23
prev_wbrt                       2.783248e-03          17
MV_days                         7.421004e-04          29
ICU_cause_intensivist           1.157104e-03          24
post_icu_survival               7.701335e-04          28
age                             2.918181e-04          39
HFNC                            9.144695e-04          26
ICU_mortal30                    1.335571e-03          22
histologyNum                    3.686811e-04          37
prev_ccrt                       7.849392e-04          27
underlying_pulmo                4.463745e-04          33
NewlyDx                         5.512479e-04          30
pulmocomorbid                   4.011840e-04          34
ICU_Death                       4.931121e-04          31
StageNum                        1.443573e-04          48
DischargefromICU                3.963375e-04          36
PaO2FiO2                       -1.314554e-05          65
procalcitonin                   1.152599e-05          58
Refractory                      2.613187e-04          41
Hospital_death                  3.968942e-04          35
Underlying_DM                   1.369070e-04          49
post2011                        2.874558e-04          40
Intensivist                     1.546581e-04          46
cardiovasc                      4.625511e-04          32
ICUCPR                          2.994684e-04          38
performance_ICU_DC              1.602525e-06          61
hypoalbuminemia                 1.305863e-04          50
Hb                             -9.597038e-05          78
HD                              2.154191e-04          43
Pre_PS                         -1.434482e-05          67
anemia                          1.687505e-04          45
aPTT                           -5.204790e-04          88
respfailure                     2.176232e-04          42
Surgery                         1.029492e-04          53
smk_hx                          2.287534e-05          57
CTxinICU                        1.089192e-04          51
ICU_LOS                        -1.927234e-04          85
MV                              1.971456e-04          44
Distatntmets                   -2.411342e-05          68
prev_ctx                        1.492808e-04          47
performance_hospital_DC        -9.970239e-05          79
prev_rtx                       -2.661326e-04          86
DNR                            -5.910216e-05          75
preICUDNR                       0.000000e+00          63
BIPAP                          -1.120695e-06          64
ILD                             1.052545e-04          52
RRT                             9.809028e-06          59
sex                            -3.645746e-05          71
postICUCPR                      0.000000e+00          62
PCC                             8.179013e-05          54
neurology                       2.366300e-05          56
PDT                            -3.129037e-05          69
ECMO                            4.131942e-05          55
ICUreadmission                 -5.764910e-05          74
PoorPS                         -2.796453e-04          87
DNR_at_ICU                     -1.621968e-04          83
postICUCtx                     -3.538013e-05          70
dx_after_adm                   -8.223503e-05          77
postICURT                       8.885390e-06          60
PrevICUadm                     -1.322494e-05          66
Underlying_CV                  -3.786915e-05          72
WBRT                           -4.742480e-05          73
prevCPR                        -1.075894e-04          81
Tracheostomy                   -7.742709e-05          76
other_malignancy               -1.767730e-04          84
prev_gks                       -1.052124e-04          80
Underlying_stroke              -1.201471e-04          82
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC       6.22670698            1
AKI                                         AKI       4.28355636            3
WBC                                         WBC       5.31954106            2
neutropenia                         neutropenia       3.54002423            5
PT_percent                           PT_percent       3.60667361            4
bacteremia                           bacteremia       2.45173866           13
BUN                                         BUN       3.30300489            6
PLT                                         PLT       3.27087510            7
SOFA_D1                                 SOFA_D1       2.91772755           10
Death_Cause                         Death_Cause       2.42814018           14
APACH_II                               APACH_II       2.61351761           11
CRRT                                       CRRT       2.07575486           16
CRP                                         CRP       3.09578840            8
Vasoactiveagent                 Vasoactiveagent       1.85888183           20
timefromdx                           timefromdx       3.05643390            9
Albumin                                 Albumin       2.19821018           15
SAPS_II                                 SAPS_II       2.05848734           17
hospital_LOS                       hospital_LOS       2.47517990           12
Pneumonia                             Pneumonia       1.41956670           26
Cause_Ca_problem               Cause_Ca_problem       1.65875692           22
thrombocytopenia               thrombocytopenia       1.10293259           28
post_dc_days                       post_dc_days       1.44359621           25
prev_wbrt                             prev_wbrt       0.98960738           31
MV_days                                 MV_days       1.45604275           24
ICU_cause_intensivist     ICU_cause_intensivist       0.76998148           33
post_icu_survival             post_icu_survival       1.09244895           29
age                                         age       1.88226047           19
HFNC                                       HFNC       0.60696673           38
ICU_mortal30                       ICU_mortal30       0.51934661           43
histologyNum                       histologyNum       0.93215577           32
prev_ccrt                             prev_ccrt       0.53118627           42
underlying_pulmo               underlying_pulmo       0.65607438           37
NewlyDx                                 NewlyDx       0.48733003           44
pulmocomorbid                     pulmocomorbid       0.46143261           45
ICU_Death                             ICU_Death       0.34458118           53
StageNum                               StageNum       0.67860127           36
DischargefromICU               DischargefromICU       0.36332642           49
PaO2FiO2                               PaO2FiO2       1.76858480           21
procalcitonin                     procalcitonin       1.06449708           30
Refractory                           Refractory       0.38170589           48
Hospital_death                   Hospital_death       0.32489483           55
Underlying_DM                     Underlying_DM       0.54365813           41
post2011                               post2011       0.35807960           51
Intensivist                         Intensivist       0.39580376           47
cardiovasc                           cardiovasc       0.27675225           62
ICUCPR                                   ICUCPR       0.32053889           56
performance_ICU_DC           performance_ICU_DC       0.69559597           35
hypoalbuminemia                 hypoalbuminemia       0.35900108           50
Hb                                           Hb       1.53883690           23
HD                                           HD       0.30973566           58
Pre_PS                                   Pre_PS       0.74057525           34
anemia                                   anemia       0.29714313           60
aPTT                                       aPTT       2.02785114           18
respfailure                         respfailure       0.21479478           68
Surgery                                 Surgery       0.30987375           57
smk_hx                                   smk_hx       0.34263053           54
CTxinICU                               CTxinICU       0.28863351           61
ICU_LOS                                 ICU_LOS       1.30443355           27
MV                                           MV       0.21411291           69
Distatntmets                       Distatntmets       0.44394500           46
prev_ctx                               prev_ctx       0.22573973           67
performance_hospital_DC performance_hospital_DC       0.54448886           40
prev_rtx                               prev_rtx       0.57326145           39
DNR                                         DNR       0.35591370           52
preICUDNR                             preICUDNR       0.24994755           65
BIPAP                                     BIPAP       0.24228165           66
ILD                                         ILD       0.13368510           78
RRT                                         RRT       0.14244233           75
sex                                         sex       0.27473650           63
postICUCPR                           postICUCPR       0.18634059           73
PCC                                         PCC       0.08216381           83
neurology                             neurology       0.07802645           85
PDT                                         PDT       0.18983659           72
ECMO                                       ECMO       0.04371909           87
ICUreadmission                   ICUreadmission       0.20964910           70
PoorPS                                   PoorPS       0.30655287           59
DNR_at_ICU                           DNR_at_ICU       0.27459051           64
postICUCtx                           postICUCtx       0.13898140           77
dx_after_adm                       dx_after_adm       0.19416370           71
postICURT                             postICURT       0.01025871           88
PrevICUadm                           PrevICUadm       0.08177098           84
Underlying_CV                     Underlying_CV       0.11467106           79
WBRT                                       WBRT       0.11239880           80
prevCPR                                 prevCPR       0.15492740           74
Tracheostomy                       Tracheostomy       0.09021339           82
other_malignancy               other_malignancy       0.14136022           76
prev_gks                               prev_gks       0.09254968           81
Underlying_stroke             Underlying_stroke       0.07160559           86
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          3        1                            2
AKI                          4        2                            1
WBC                          6        3                            4
neutropenia                  8        4                            3
PT_percent                  12        5                            8
bacteremia                  18        6                            5
BUN                         19        7                           13
PLT                         19        8                           12
SOFA_D1                     20        9                           10
Death_Cause                 21       10                            7
APACH_II                    25       11                           14
CRRT                        25       12                            9
CRP                         26       13                           18
Vasoactiveagent             26       14                            6
timefromdx                  29       15                           20
Albumin                     36       16                           21
SAPS_II                     36       17                           19
hospital_LOS                37       18                           25
Pneumonia                   37       19                           11
Cause_Ca_problem            38       20                           16
thrombocytopenia            43       21                           15
post_dc_days                48       22                           23
prev_wbrt                   48       23                           17
MV_days                     53       24                           29
ICU_cause_intensivist       57       25                           24
post_icu_survival           57       26                           28
age                         58       27                           39
HFNC                        64       28                           26
ICU_mortal30                65       29                           22
histologyNum                69       30                           37
prev_ccrt                   69       31                           27
underlying_pulmo            70       32                           33
NewlyDx                     74       33                           30
pulmocomorbid               79       34                           34
ICU_Death                   84       35                           31
StageNum                    84       36                           48
DischargefromICU            85       37                           36
PaO2FiO2                    86       38                           65
procalcitonin               88       39                           58
Refractory                  89       40                           41
Hospital_death              90       41                           35
Underlying_DM               90       42                           49
post2011                    91       43                           40
Intensivist                 93       44                           46
cardiovasc                  94       45                           32
ICUCPR                      94       46                           38
performance_ICU_DC          96       47                           61
hypoalbuminemia            100       48                           50
Hb                         101       49                           78
HD                         101       50                           43
Pre_PS                     101       51                           67
anemia                     105       52                           45
aPTT                       106       53                           88
respfailure                110       54                           42
Surgery                    110       55                           53
smk_hx                     111       56                           57
CTxinICU                   112       57                           51
ICU_LOS                    112       58                           85
MV                         113       59                           44
Distatntmets               114       60                           68
prev_ctx                   114       61                           47
performance_hospital_DC    119       62                           79
prev_rtx                   125       63                           86
DNR                        127       64                           75
preICUDNR                  128       65                           62
BIPAP                      130       66                           64
ILD                        130       67                           52
RRT                        134       68                           59
sex                        134       69                           71
postICUCPR                 135       70                           63
PCC                        137       71                           54
neurology                  141       72                           56
PDT                        141       73                           69
ECMO                       142       74                           55
ICUreadmission             144       75                           74
PoorPS                     146       76                           87
DNR_at_ICU                 147       77                           83
postICUCtx                 147       78                           70
dx_after_adm               148       79                           77
postICURT                  148       80                           60
PrevICUadm                 150       81                           66
Underlying_CV              151       82                           72
WBRT                       153       83                           73
prevCPR                    155       84                           81
Tracheostomy               158       85                           76
other_malignancy           160       86                           84
prev_gks                   161       87                           80
Underlying_stroke          168       88                           82
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  3
AKI                                            3                  4
WBC                                            2                  6
neutropenia                                    5                  8
PT_percent                                     4                 12
bacteremia                                    13                 18
BUN                                            6                 19
PLT                                            7                 19
SOFA_D1                                       10                 20
Death_Cause                                   14                 21
APACH_II                                      11                 25
CRRT                                          16                 25
CRP                                            8                 26
Vasoactiveagent                               20                 26
timefromdx                                     9                 29
Albumin                                       15                 36
SAPS_II                                       17                 36
hospital_LOS                                  12                 37
Pneumonia                                     26                 37
Cause_Ca_problem                              22                 38
thrombocytopenia                              28                 43
post_dc_days                                  25                 48
prev_wbrt                                     31                 48
MV_days                                       24                 53
ICU_cause_intensivist                         33                 57
post_icu_survival                             29                 57
age                                           19                 58
HFNC                                          38                 64
ICU_mortal30                                  43                 65
histologyNum                                  32                 69
prev_ccrt                                     42                 69
underlying_pulmo                              37                 70
NewlyDx                                       44                 74
pulmocomorbid                                 45                 79
ICU_Death                                     53                 84
StageNum                                      36                 84
DischargefromICU                              49                 85
PaO2FiO2                                      21                 86
procalcitonin                                 30                 88
Refractory                                    48                 89
Hospital_death                                55                 90
Underlying_DM                                 41                 90
post2011                                      51                 91
Intensivist                                   47                 93
cardiovasc                                    62                 94
ICUCPR                                        56                 94
performance_ICU_DC                            35                 96
hypoalbuminemia                               50                100
Hb                                            23                101
HD                                            58                101
Pre_PS                                        34                101
anemia                                        60                105
aPTT                                          18                106
respfailure                                   68                110
Surgery                                       57                110
smk_hx                                        54                111
CTxinICU                                      61                112
ICU_LOS                                       27                112
MV                                            69                113
Distatntmets                                  46                114
prev_ctx                                      67                114
performance_hospital_DC                       40                119
prev_rtx                                      39                125
DNR                                           52                127
preICUDNR                                     65                127
BIPAP                                         66                130
ILD                                           78                130
RRT                                           75                134
sex                                           63                134
postICUCPR                                    73                136
PCC                                           83                137
neurology                                     85                141
PDT                                           72                141
ECMO                                          87                142
ICUreadmission                                70                144
PoorPS                                        59                146
DNR_at_ICU                                    64                147
postICUCtx                                    77                147
dx_after_adm                                  71                148
postICURT                                     88                148
PrevICUadm                                    84                150
Underlying_CV                                 79                151
WBRT                                          80                153
prevCPR                                       74                155
Tracheostomy                                  82                158
other_malignancy                              76                160
prev_gks                                      81                161
Underlying_stroke                             86                168
number of selected top features: 4
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia"

[Training Random Forests classifier on the training set with only the top  4  features]

[Applying the trained Random Forests classifier on the test set with only the top  4  features]

PR AUC (integral) 	0.6462795
ROC AUC 		0.9204545

Brier score =  0.077  (best value: 0; worst value: 1)

TOTAL:

 FN =  0  /  4 	 (truth == 1) & (prediction < threshold)
 TP =  4  /  4 	 (truth == 1) & (prediction >= threshold)

 FP =  3  /  22 	 (truth == 0) & (prediction >= threshold)
 TN =  19  /  22 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.703 	 0.727 	 	0.885 	 	1.000 	 	0.864		0.571	 	1.000	 	0.646	0.920

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  5
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.496688e-02           1
PT_percent                      7.990561e-03           4
WBC                             7.580438e-03           6
AKI                             1.148902e-02           2
neutropenia                     1.094058e-02           3
BUN                             6.515433e-03           8
SOFA_D1                         7.791158e-03           5
PLT                             6.216949e-03           9
CRP                             5.553561e-03          10
bacteremia                      7.410582e-03           7
APACH_II                        3.710207e-03          14
SAPS_II                         2.495999e-03          19
Albumin                         1.623961e-03          21
Pneumonia                       5.117565e-03          11
thrombocytopenia                4.566376e-03          13
hospital_LOS                    1.002459e-03          23
Vasoactiveagent                 4.680715e-03          12
Cause_Ca_problem                2.880458e-03          18
Death_Cause                     3.308253e-03          16
age                             8.030186e-04          25
timefromdx                      6.003295e-04          27
CRRT                            3.133111e-03          17
prev_wbrt                       3.382246e-03          15
post_dc_days                    1.247543e-03          22
ICU_cause_intensivist           1.674252e-03          20
MV_days                         4.259205e-04          32
HFNC                            8.053634e-04          24
post_icu_survival               3.880336e-04          33
StageNum                        4.751777e-04          29
Underlying_DM                   5.856379e-04          28
ICU_mortal30                    6.123126e-04          26
prev_ccrt                       4.519076e-04          30
underlying_pulmo                2.168151e-04          39
pulmocomorbid                   3.375239e-04          34
Intensivist                     2.620551e-04          35
aPTT                           -4.672006e-05          71
NewlyDx                         2.342139e-04          37
cardiovasc                      4.490339e-04          31
sex                             1.770711e-04          42
smk_hx                          8.678792e-05          48
Distatntmets                    8.456966e-05          50
ICUCPR                          1.846583e-04          41
prev_rtx                        3.676253e-05          56
PDT                             1.868028e-04          40
histologyNum                   -2.770444e-05          67
PaO2FiO2                       -1.481507e-04          81
CTxinICU                        1.217830e-04          46
ICU_Death                       2.310265e-04          38
DNR                             8.458993e-05          49
anemia                          1.440009e-04          44
MV                              2.499596e-04          36
hypoalbuminemia                 2.786281e-05          57
Hb                             -2.272774e-04          86
post2011                        5.437421e-05          52
respfailure                     1.753213e-04          43
DischargefromICU                8.307674e-05          51
ICU_LOS                        -1.835309e-04          84
preICUDNR                       1.071460e-04          47
Pre_PS                         -1.649055e-04          83
procalcitonin                  -2.110223e-04          85
performance_hospital_DC        -1.297164e-04          79
Hospital_death                  3.880088e-05          55
postICUCtx                      1.375774e-04          45
Surgery                         2.330948e-05          59
BIPAP                           1.853144e-05          60
performance_ICU_DC             -2.329433e-04          88
Refractory                     -1.178719e-04          76
ICUreadmission                 -9.281665e-06          62
RRT                             2.520430e-05          58
PoorPS                         -1.290124e-04          78
PCC                             5.373301e-05          53
ECMO                            5.113806e-05          54
prev_ctx                       -5.012093e-05          72
DNR_at_ICU                     -2.325074e-04          87
neurology                      -9.298189e-06          63
WBRT                           -2.269301e-05          65
Underlying_CV                  -4.512982e-05          70
ILD                            -1.028729e-05          64
postICURT                       6.818553e-06          61
prevCPR                        -1.171410e-04          75
Tracheostomy                   -4.321973e-05          69
postICUCPR                     -6.311861e-05          74
HD                             -5.352281e-05          73
dx_after_adm                   -1.408139e-04          80
prev_gks                       -2.709578e-05          66
PrevICUadm                     -3.966361e-05          68
other_malignancy               -1.635288e-04          82
Underlying_stroke              -1.206037e-04          77
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      5.962308616            1
PT_percent                           PT_percent      4.392135738            3
WBC                                         WBC      4.664725076            2
AKI                                         AKI      3.318728902            9
neutropenia                         neutropenia      3.430535128            8
BUN                                         BUN      3.884382007            4
SOFA_D1                                 SOFA_D1      3.548989080            7
PLT                                         PLT      3.750570535            5
CRP                                         CRP      3.686447042            6
bacteremia                           bacteremia      2.262030624           14
APACH_II                               APACH_II      2.882026278           10
SAPS_II                                 SAPS_II      2.357938190           12
Albumin                                 Albumin      2.417150973           11
Pneumonia                             Pneumonia      1.482027482           21
thrombocytopenia               thrombocytopenia      1.640144974           19
hospital_LOS                       hospital_LOS      2.266408351           13
Vasoactiveagent                 Vasoactiveagent      1.374903275           24
Cause_Ca_problem               Cause_Ca_problem      1.574749099           20
Death_Cause                         Death_Cause      1.373831756           25
age                                         age      1.716210401           17
timefromdx                           timefromdx      2.181480869           15
CRRT                                       CRRT      1.365734163           26
prev_wbrt                             prev_wbrt      1.237537241           28
post_dc_days                       post_dc_days      1.404264839           23
ICU_cause_intensivist     ICU_cause_intensivist      0.853626950           31
MV_days                                 MV_days      1.326610871           27
HFNC                                       HFNC      0.485206223           39
post_icu_survival             post_icu_survival      1.021972163           30
StageNum                               StageNum      0.768070534           34
Underlying_DM                     Underlying_DM      0.517550940           38
ICU_mortal30                       ICU_mortal30      0.378014624           46
prev_ccrt                             prev_ccrt      0.412252648           42
underlying_pulmo               underlying_pulmo      0.542451909           37
pulmocomorbid                     pulmocomorbid      0.387758999           45
Intensivist                         Intensivist      0.358521505           47
aPTT                                       aPTT      1.967877020           16
NewlyDx                                 NewlyDx      0.319603104           51
cardiovasc                           cardiovasc      0.256840467           60
sex                                         sex      0.327416104           50
smk_hx                                   smk_hx      0.388023655           44
Distatntmets                       Distatntmets      0.389107117           43
ICUCPR                                   ICUCPR      0.312359663           53
prev_rtx                               prev_rtx      0.455139895           40
PDT                                         PDT      0.280767136           58
histologyNum                       histologyNum      0.848344039           32
PaO2FiO2                               PaO2FiO2      1.692701372           18
CTxinICU                               CTxinICU      0.306385307           54
ICU_Death                             ICU_Death      0.254484820           62
DNR                                         DNR      0.315375092           52
anemia                                   anemia      0.267280839           59
MV                                           MV      0.180719207           69
hypoalbuminemia                 hypoalbuminemia      0.331680749           49
Hb                                           Hb      1.431182893           22
post2011                               post2011      0.286665849           56
respfailure                         respfailure      0.200443505           68
DischargefromICU               DischargefromICU      0.256352661           61
ICU_LOS                                 ICU_LOS      1.180262721           29
preICUDNR                             preICUDNR      0.220892521           66
Pre_PS                                   Pre_PS      0.747383353           35
procalcitonin                     procalcitonin      0.800122188           33
performance_hospital_DC performance_hospital_DC      0.448341100           41
Hospital_death                   Hospital_death      0.216865070           67
postICUCtx                           postICUCtx      0.135859889           77
Surgery                                 Surgery      0.250431667           63
BIPAP                                     BIPAP      0.235718898           64
performance_ICU_DC           performance_ICU_DC      0.566273817           36
Refractory                           Refractory      0.334484618           48
ICUreadmission                   ICUreadmission      0.221029872           65
RRT                                         RRT      0.170242455           71
PoorPS                                   PoorPS      0.288991626           55
PCC                                         PCC      0.077833552           84
ECMO                                       ECMO      0.056291178           87
prev_ctx                               prev_ctx      0.177979027           70
DNR_at_ICU                           DNR_at_ICU      0.285260878           57
neurology                             neurology      0.087686383           81
WBRT                                       WBRT      0.117736445           79
Underlying_CV                     Underlying_CV      0.148193229           75
ILD                                         ILD      0.084225152           82
postICURT                             postICURT      0.007661931           88
prevCPR                                 prevCPR      0.153006428           74
Tracheostomy                       Tracheostomy      0.117280307           80
postICUCPR                           postICUCPR      0.147667567           76
HD                                           HD      0.133896964           78
dx_after_adm                       dx_after_adm      0.166351835           72
prev_gks                               prev_gks      0.069586382           86
PrevICUadm                           PrevICUadm      0.076602467           85
other_malignancy               other_malignancy      0.153291099           73
Underlying_stroke             Underlying_stroke      0.083534101           83
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
PT_percent                   7        2                            4
WBC                          8        3                            6
AKI                         11        4                            2
neutropenia                 11        5                            3
BUN                         12        6                            8
SOFA_D1                     12        7                            5
PLT                         14        8                            9
CRP                         16        9                           10
bacteremia                  21       10                            7
APACH_II                    24       11                           14
SAPS_II                     31       12                           19
Albumin                     32       13                           21
Pneumonia                   32       14                           11
thrombocytopenia            32       15                           13
hospital_LOS                36       16                           23
Vasoactiveagent             36       17                           12
Cause_Ca_problem            38       18                           18
Death_Cause                 41       19                           16
age                         42       20                           25
timefromdx                  42       21                           27
CRRT                        43       22                           17
prev_wbrt                   43       23                           15
post_dc_days                45       24                           22
ICU_cause_intensivist       51       25                           20
MV_days                     59       26                           32
HFNC                        63       27                           24
post_icu_survival           63       28                           33
StageNum                    63       29                           29
Underlying_DM               66       30                           28
ICU_mortal30                72       31                           26
prev_ccrt                   72       32                           30
underlying_pulmo            76       33                           39
pulmocomorbid               79       34                           34
Intensivist                 82       35                           35
aPTT                        87       36                           71
NewlyDx                     88       37                           37
cardiovasc                  91       38                           31
sex                         92       39                           42
smk_hx                      92       40                           48
Distatntmets                93       41                           50
ICUCPR                      94       42                           41
prev_rtx                    96       43                           56
PDT                         98       44                           40
histologyNum                99       45                           67
PaO2FiO2                    99       46                           81
CTxinICU                   100       47                           46
ICU_Death                  100       48                           38
DNR                        101       49                           49
anemia                     103       50                           44
MV                         105       51                           36
hypoalbuminemia            106       52                           57
Hb                         108       53                           86
post2011                   108       54                           52
respfailure                111       55                           43
DischargefromICU           112       56                           51
ICU_LOS                    113       57                           84
preICUDNR                  113       58                           47
Pre_PS                     118       59                           83
procalcitonin              118       60                           85
performance_hospital_DC    120       61                           79
Hospital_death             122       62                           55
postICUCtx                 122       63                           45
Surgery                    122       64                           59
BIPAP                      124       65                           60
performance_ICU_DC         124       66                           88
Refractory                 124       67                           76
ICUreadmission             127       68                           62
RRT                        129       69                           58
PoorPS                     133       70                           78
PCC                        137       71                           53
ECMO                       141       72                           54
prev_ctx                   142       73                           72
DNR_at_ICU                 144       74                           87
neurology                  144       75                           63
WBRT                       144       76                           65
Underlying_CV              145       77                           70
ILD                        146       78                           64
postICURT                  149       79                           61
prevCPR                    149       80                           75
Tracheostomy               149       81                           69
postICUCPR                 150       82                           74
HD                         151       83                           73
dx_after_adm               152       84                           80
prev_gks                   152       85                           66
PrevICUadm                 153       86                           68
other_malignancy           155       87                           82
Underlying_stroke          160       88                           77
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
PT_percent                                     3                  7
WBC                                            2                  8
AKI                                            9                 11
neutropenia                                    8                 11
BUN                                            4                 12
SOFA_D1                                        7                 12
PLT                                            5                 14
CRP                                            6                 16
bacteremia                                    14                 21
APACH_II                                      10                 24
SAPS_II                                       12                 31
Albumin                                       11                 32
Pneumonia                                     21                 32
thrombocytopenia                              19                 32
hospital_LOS                                  13                 36
Vasoactiveagent                               24                 36
Cause_Ca_problem                              20                 38
Death_Cause                                   25                 41
age                                           17                 42
timefromdx                                    15                 42
CRRT                                          26                 43
prev_wbrt                                     28                 43
post_dc_days                                  23                 45
ICU_cause_intensivist                         31                 51
MV_days                                       27                 59
HFNC                                          39                 63
post_icu_survival                             30                 63
StageNum                                      34                 63
Underlying_DM                                 38                 66
ICU_mortal30                                  46                 72
prev_ccrt                                     42                 72
underlying_pulmo                              37                 76
pulmocomorbid                                 45                 79
Intensivist                                   47                 82
aPTT                                          16                 87
NewlyDx                                       51                 88
cardiovasc                                    60                 91
sex                                           50                 92
smk_hx                                        44                 92
Distatntmets                                  43                 93
ICUCPR                                        53                 94
prev_rtx                                      40                 96
PDT                                           58                 98
histologyNum                                  32                 99
PaO2FiO2                                      18                 99
CTxinICU                                      54                100
ICU_Death                                     62                100
DNR                                           52                101
anemia                                        59                103
MV                                            69                105
hypoalbuminemia                               49                106
Hb                                            22                108
post2011                                      56                108
respfailure                                   68                111
DischargefromICU                              61                112
ICU_LOS                                       29                113
preICUDNR                                     66                113
Pre_PS                                        35                118
procalcitonin                                 33                118
performance_hospital_DC                       41                120
Hospital_death                                67                122
postICUCtx                                    77                122
Surgery                                       63                122
BIPAP                                         64                124
performance_ICU_DC                            36                124
Refractory                                    48                124
ICUreadmission                                65                127
RRT                                           71                129
PoorPS                                        55                133
PCC                                           84                137
ECMO                                          87                141
prev_ctx                                      70                142
DNR_at_ICU                                    57                144
neurology                                     81                144
WBRT                                          79                144
Underlying_CV                                 75                145
ILD                                           82                146
postICURT                                     88                149
prevCPR                                       74                149
Tracheostomy                                  80                149
postICUCPR                                    76                150
HD                                            78                151
dx_after_adm                                  72                152
prev_gks                                      86                152
PrevICUadm                                    85                153
other_malignancy                              73                155
Underlying_stroke                             83                160
number of selected top features: 4
selected top features: 
[1] "ANC"        "PT_percent" "WBC"        "AKI"       

[Training Random Forests classifier on the training set with only the top  4  features]

[Applying the trained Random Forests classifier on the test set with only the top  4  features]

PR AUC (integral) 	0.6927467
ROC AUC 		0.75

Brier score =  0.177  (best value: 0; worst value: 1)

TOTAL:

 FN =  4  /  8 	 (truth == 1) & (prediction < threshold)
 TP =  4  /  8 	 (truth == 1) & (prediction >= threshold)

 FP =  3  /  18 	 (truth == 0) & (prediction >= threshold)
 TN =  15  /  18 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.347 	 0.533 	 	0.731 	 	0.500 	 	0.833		0.571	 	0.789	 	0.693	0.750

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  6
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.513048e-02           1
AKI                             1.417191e-02           2
WBC                             9.864486e-03           4
neutropenia                     1.144751e-02           3
PLT                             4.677340e-03           7
PT_percent                      4.265514e-03           9
bacteremia                      8.076425e-03           5
CRP                             3.726030e-03          12
BUN                             3.418712e-03          15
SOFA_D1                         4.058991e-03          10
CRRT                            4.290391e-03           8
APACH_II                        2.746832e-03          18
Vasoactiveagent                 4.861678e-03           6
Death_Cause                     3.732559e-03          11
Cause_Ca_problem                3.251366e-03          16
Albumin                         1.484410e-03          20
hospital_LOS                    8.438738e-04          24
thrombocytopenia                3.669919e-03          13
timefromdx                      5.660113e-04          30
SAPS_II                         8.314616e-04          25
Pneumonia                       3.655572e-03          14
prev_wbrt                       2.886718e-03          17
post_dc_days                    1.250621e-03          21
MV_days                         5.879757e-04          28
ICU_mortal30                    1.841194e-03          19
ICU_cause_intensivist           1.020011e-03          22
post_icu_survival               6.882325e-04          27
histologyNum                    3.833522e-04          33
prev_ccrt                       8.237969e-04          26
ICU_Death                       8.923342e-04          23
underlying_pulmo                3.671018e-04          35
DischargefromICU                4.560347e-04          31
HFNC                            3.726646e-04          34
Hospital_death                  5.772549e-04          29
performance_hospital_DC         2.229085e-04          40
pulmocomorbid                   2.761490e-04          37
StageNum                        1.595290e-04          45
procalcitonin                   1.032717e-04          51
ICU_LOS                         9.420346e-06          59
Intensivist                     2.365435e-04          39
Underlying_DM                   1.268586e-04          47
HD                              2.847390e-04          36
Refractory                      2.174260e-04          41
Distatntmets                    1.033851e-04          50
sex                             2.078379e-04          42
cardiovasc                      4.076202e-04          32
aPTT                           -1.175443e-04          81
NewlyDx                         2.471205e-04          38
ICUCPR                          1.867328e-04          43
hypoalbuminemia                 1.083875e-04          49
age                            -1.370987e-04          83
post2011                        1.172474e-04          48
prev_rtx                       -3.501888e-06          67
PaO2FiO2                       -1.845753e-04          86
MV                              1.627155e-04          44
Hb                             -3.827909e-04          88
performance_ICU_DC             -6.758221e-05          79
DNR                             5.887877e-06          60
respfailure                     1.472986e-04          46
anemia                          7.059955e-05          54
PoorPS                          1.015717e-06          63
Pre_PS                         -3.561998e-04          87
PDT                             1.788459e-05          57
postICUCtx                      8.747913e-05          53
preICUDNR                       0.000000e+00          65
ILD                             9.689003e-05          52
Surgery                        -1.401689e-05          69
BIPAP                           1.160195e-05          58
smk_hx                         -1.054055e-04          80
postICUCPR                      0.000000e+00          64
DNR_at_ICU                     -2.961205e-05          73
prev_ctx                       -1.441902e-06          66
ICUreadmission                 -1.853841e-05          71
PCC                             5.395747e-05          55
ECMO                            4.083892e-05          56
prevCPR                        -1.661397e-05          70
Tracheostomy                    2.869899e-06          62
Underlying_CV                  -2.810011e-05          72
postICURT                       4.678523e-06          61
dx_after_adm                   -5.839921e-05          78
WBRT                           -5.343319e-05          76
neurology                      -1.074054e-05          68
RRT                            -5.546362e-05          77
PrevICUadm                     -2.964033e-05          74
CTxinICU                       -3.746269e-05          75
other_malignancy               -1.313220e-04          82
prev_gks                       -1.384888e-04          84
Underlying_stroke              -1.547629e-04          85
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      6.205207787            1
AKI                                         AKI      3.795073988            3
WBC                                         WBC      5.202885668            2
neutropenia                         neutropenia      3.640184627            4
PLT                                         PLT      3.559595139            5
PT_percent                           PT_percent      3.019913801            8
bacteremia                           bacteremia      2.352612185           13
CRP                                         CRP      3.514792706            6
BUN                                         BUN      3.122916682            7
SOFA_D1                                 SOFA_D1      2.480896819           12
CRRT                                       CRRT      1.739065061           19
APACH_II                               APACH_II      2.616838292           10
Vasoactiveagent                 Vasoactiveagent      1.474918609           22
Death_Cause                         Death_Cause      1.568492812           21
Cause_Ca_problem               Cause_Ca_problem      1.823812754           17
Albumin                                 Albumin      2.076794670           14
hospital_LOS                       hospital_LOS      2.554059199           11
thrombocytopenia               thrombocytopenia      1.393019840           25
timefromdx                           timefromdx      2.632632825            9
SAPS_II                                 SAPS_II      1.981064461           15
Pneumonia                             Pneumonia      1.138053249           29
prev_wbrt                             prev_wbrt      1.174504652           28
post_dc_days                       post_dc_days      1.337810861           26
MV_days                                 MV_days      1.438734479           23
ICU_mortal30                       ICU_mortal30      0.683000764           34
ICU_cause_intensivist     ICU_cause_intensivist      0.685953509           33
post_icu_survival             post_icu_survival      1.113704931           30
histologyNum                       histologyNum      0.921918855           31
prev_ccrt                             prev_ccrt      0.518696564           40
ICU_Death                             ICU_Death      0.370189213           47
underlying_pulmo               underlying_pulmo      0.592408885           39
DischargefromICU               DischargefromICU      0.375193369           46
HFNC                                       HFNC      0.445168023           43
Hospital_death                   Hospital_death      0.360501393           49
performance_hospital_DC performance_hospital_DC      0.499595029           41
pulmocomorbid                     pulmocomorbid      0.442900531           44
StageNum                               StageNum      0.647970233           36
procalcitonin                     procalcitonin      0.905537275           32
ICU_LOS                                 ICU_LOS      1.288646327           27
Intensivist                         Intensivist      0.361850698           48
Underlying_DM                     Underlying_DM      0.466816013           42
HD                                           HD      0.322211697           54
Refractory                           Refractory      0.351439908           52
Distatntmets                       Distatntmets      0.424076337           45
sex                                         sex      0.327503013           53
cardiovasc                           cardiovasc      0.250586554           64
aPTT                                       aPTT      1.930284259           16
NewlyDx                                 NewlyDx      0.291675229           60
ICUCPR                                   ICUCPR      0.317775080           56
hypoalbuminemia                 hypoalbuminemia      0.351505154           51
age                                         age      1.767303405           18
post2011                               post2011      0.314634936           57
prev_rtx                               prev_rtx      0.593750161           38
PaO2FiO2                               PaO2FiO2      1.633655208           20
MV                                           MV      0.225230854           65
Hb                                           Hb      1.434134434           24
performance_ICU_DC           performance_ICU_DC      0.658500577           35
DNR                                         DNR      0.320924439           55
respfailure                         respfailure      0.203945157           69
anemia                                   anemia      0.286927739           62
PoorPS                                   PoorPS      0.288577966           61
Pre_PS                                   Pre_PS      0.640473743           37
PDT                                         PDT      0.210971017           68
postICUCtx                           postICUCtx      0.146858381           72
preICUDNR                             preICUDNR      0.285120663           63
ILD                                         ILD      0.127607890           76
Surgery                                 Surgery      0.306033885           59
BIPAP                                     BIPAP      0.152030788           71
smk_hx                                   smk_hx      0.352235586           50
postICUCPR                           postICUCPR      0.215052750           66
DNR_at_ICU                           DNR_at_ICU      0.306655143           58
prev_ctx                               prev_ctx      0.165206932           70
ICUreadmission                   ICUreadmission      0.213810689           67
PCC                                         PCC      0.069934665           84
ECMO                                       ECMO      0.041177911           87
prevCPR                                 prevCPR      0.144431814           73
Tracheostomy                       Tracheostomy      0.077820712           82
Underlying_CV                     Underlying_CV      0.138157942           74
postICURT                             postICURT      0.005311015           88
dx_after_adm                       dx_after_adm      0.131177410           75
WBRT                                       WBRT      0.126448831           77
neurology                             neurology      0.059182315           86
RRT                                         RRT      0.118333481           78
PrevICUadm                           PrevICUadm      0.071160842           83
CTxinICU                               CTxinICU      0.065483752           85
other_malignancy               other_malignancy      0.095639008           80
prev_gks                               prev_gks      0.103927323           79
Underlying_stroke             Underlying_stroke      0.094064205           81
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
AKI                          5        2                            2
WBC                          6        3                            4
neutropenia                  7        4                            3
PLT                         12        5                            7
PT_percent                  17        6                            9
bacteremia                  18        7                            5
CRP                         18        8                           12
BUN                         22        9                           15
SOFA_D1                     22       10                           10
CRRT                        27       11                            8
APACH_II                    28       12                           18
Vasoactiveagent             28       13                            6
Death_Cause                 32       14                           11
Cause_Ca_problem            33       15                           16
Albumin                     34       16                           20
hospital_LOS                35       17                           24
thrombocytopenia            38       18                           13
timefromdx                  39       19                           30
SAPS_II                     40       20                           25
Pneumonia                   43       21                           14
prev_wbrt                   45       22                           17
post_dc_days                47       23                           21
MV_days                     51       24                           28
ICU_mortal30                53       25                           19
ICU_cause_intensivist       55       26                           22
post_icu_survival           57       27                           27
histologyNum                64       28                           33
prev_ccrt                   66       29                           26
ICU_Death                   70       30                           23
underlying_pulmo            74       31                           35
DischargefromICU            77       32                           31
HFNC                        77       33                           34
Hospital_death              78       34                           29
performance_hospital_DC     81       35                           40
pulmocomorbid               81       36                           37
StageNum                    81       37                           45
procalcitonin               83       38                           51
ICU_LOS                     86       39                           59
Intensivist                 87       40                           39
Underlying_DM               89       41                           47
HD                          90       42                           36
Refractory                  93       43                           41
Distatntmets                95       44                           50
sex                         95       45                           42
cardiovasc                  96       46                           32
aPTT                        97       47                           81
NewlyDx                     98       48                           38
ICUCPR                      99       49                           43
hypoalbuminemia            100       50                           49
age                        101       51                           83
post2011                   105       52                           48
prev_rtx                   105       53                           67
PaO2FiO2                   106       54                           86
MV                         109       55                           44
Hb                         112       56                           88
performance_ICU_DC         114       57                           79
DNR                        115       58                           60
respfailure                115       59                           46
anemia                     116       60                           54
PoorPS                     124       61                           63
Pre_PS                     124       62                           87
PDT                        125       63                           57
postICUCtx                 125       64                           53
preICUDNR                  128       66                           64
ILD                        128       65                           52
Surgery                    128       67                           69
BIPAP                      129       68                           58
smk_hx                     130       70                           80
postICUCPR                 130       69                           65
DNR_at_ICU                 131       71                           73
prev_ctx                   136       72                           66
ICUreadmission             138       73                           71
PCC                        139       74                           55
ECMO                       143       75                           56
prevCPR                    143       76                           70
Tracheostomy               144       77                           62
Underlying_CV              146       78                           72
postICURT                  149       79                           61
dx_after_adm               153       80                           78
WBRT                       153       81                           76
neurology                  154       82                           68
RRT                        155       83                           77
PrevICUadm                 157       84                           74
CTxinICU                   160       85                           75
other_malignancy           162       86                           82
prev_gks                   163       87                           84
Underlying_stroke          166       88                           85
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
AKI                                            3                  5
WBC                                            2                  6
neutropenia                                    4                  7
PLT                                            5                 12
PT_percent                                     8                 17
bacteremia                                    13                 18
CRP                                            6                 18
BUN                                            7                 22
SOFA_D1                                       12                 22
CRRT                                          19                 27
APACH_II                                      10                 28
Vasoactiveagent                               22                 28
Death_Cause                                   21                 32
Cause_Ca_problem                              17                 33
Albumin                                       14                 34
hospital_LOS                                  11                 35
thrombocytopenia                              25                 38
timefromdx                                     9                 39
SAPS_II                                       15                 40
Pneumonia                                     29                 43
prev_wbrt                                     28                 45
post_dc_days                                  26                 47
MV_days                                       23                 51
ICU_mortal30                                  34                 53
ICU_cause_intensivist                         33                 55
post_icu_survival                             30                 57
histologyNum                                  31                 64
prev_ccrt                                     40                 66
ICU_Death                                     47                 70
underlying_pulmo                              39                 74
DischargefromICU                              46                 77
HFNC                                          43                 77
Hospital_death                                49                 78
performance_hospital_DC                       41                 81
pulmocomorbid                                 44                 81
StageNum                                      36                 81
procalcitonin                                 32                 83
ICU_LOS                                       27                 86
Intensivist                                   48                 87
Underlying_DM                                 42                 89
HD                                            54                 90
Refractory                                    52                 93
Distatntmets                                  45                 95
sex                                           53                 95
cardiovasc                                    64                 96
aPTT                                          16                 97
NewlyDx                                       60                 98
ICUCPR                                        56                 99
hypoalbuminemia                               51                100
age                                           18                101
post2011                                      57                105
prev_rtx                                      38                105
PaO2FiO2                                      20                106
MV                                            65                109
Hb                                            24                112
performance_ICU_DC                            35                114
DNR                                           55                115
respfailure                                   69                115
anemia                                        62                116
PoorPS                                        61                124
Pre_PS                                        37                124
PDT                                           68                125
postICUCtx                                    72                125
preICUDNR                                     63                127
ILD                                           76                128
Surgery                                       59                128
BIPAP                                         71                129
smk_hx                                        50                130
postICUCPR                                    66                131
DNR_at_ICU                                    58                131
prev_ctx                                      70                136
ICUreadmission                                67                138
PCC                                           84                139
ECMO                                          87                143
prevCPR                                       73                143
Tracheostomy                                  82                144
Underlying_CV                                 74                146
postICURT                                     88                149
dx_after_adm                                  75                153
WBRT                                          77                153
neurology                                     86                154
RRT                                           78                155
PrevICUadm                                    83                157
CTxinICU                                      85                160
other_malignancy                              80                162
prev_gks                                      79                163
Underlying_stroke                             81                166
number of selected top features: 4
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia"

[Training Random Forests classifier on the training set with only the top  4  features]

[Applying the trained Random Forests classifier on the test set with only the top  4  features]

PR AUC (integral) 	0.7699293
ROC AUC 		0.7647059

Brier score =  0.173  (best value: 0; worst value: 1)

TOTAL:

 FN =  5  /  9 	 (truth == 1) & (prediction < threshold)
 TP =  4  /  9 	 (truth == 1) & (prediction >= threshold)

 FP =  0  /  17 	 (truth == 0) & (prediction >= threshold)
 TN =  17  /  17 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.586 	 0.615 	 	0.808 	 	0.444 	 	1.000		1.000	 	0.773	 	0.770	0.765

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  7
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.228688e-02           2
AKI                             1.580967e-02           1
WBC                             9.431929e-03           4
neutropenia                     1.114234e-02           3
PT_percent                      7.260911e-03           6
SOFA_D1                         8.637097e-03           5
BUN                             5.733178e-03           9
APACH_II                        5.534326e-03          10
CRP                             4.119821e-03          13
PLT                             4.302368e-03          12
CRRT                            6.344154e-03           7
Death_Cause                     5.904512e-03           8
bacteremia                      5.309177e-03          11
Albumin                         1.577040e-03          20
SAPS_II                         1.965824e-03          19
Cause_Ca_problem                2.701645e-03          17
hospital_LOS                    9.944957e-04          23
timefromdx                      9.131960e-04          25
Pneumonia                       4.016089e-03          15
thrombocytopenia                4.028410e-03          14
prev_wbrt                       3.400207e-03          16
aPTT                            5.357898e-04          30
Vasoactiveagent                 2.261338e-03          18
age                             6.473234e-04          28
post_dc_days                    9.129938e-04          26
post_icu_survival               1.160028e-03          22
MV_days                         5.787169e-04          29
ICU_cause_intensivist           1.355155e-03          21
HFNC                            7.094525e-04          27
ICU_mortal30                    9.135376e-04          24
procalcitonin                   4.007077e-04          35
hypoalbuminemia                 5.116615e-04          31
histologyNum                    1.698755e-04          44
NewlyDx                         4.828955e-04          34
ICUCPR                          4.837376e-04          33
ICU_LOS                         1.015824e-04          50
PaO2FiO2                        4.846730e-05          60
StageNum                        1.677615e-04          45
Intensivist                     2.530507e-04          41
HD                              3.521903e-04          37
prev_ccrt                       3.431627e-04          38
pulmocomorbid                   1.904282e-04          43
underlying_pulmo                8.886157e-05          51
cardiovasc                      4.889705e-04          32
Underlying_DM                   1.357206e-04          46
ICU_Death                       3.689167e-04          36
DischargefromICU                1.203134e-04          47
CTxinICU                        1.094634e-04          48
respfailure                     3.371664e-04          39
sex                             6.661237e-05          56
MV                              2.622327e-04          40
Hospital_death                  2.192945e-04          42
Distatntmets                    7.133817e-05          55
Hb                             -2.436417e-04          87
DNR                             5.199756e-05          59
Pre_PS                         -1.352595e-04          79
anemia                          6.265493e-05          58
DNR_at_ICU                      1.103053e-05          63
preICUDNR                       7.971834e-05          52
prev_ctx                        7.899458e-05          53
performance_ICU_DC             -2.438934e-04          88
performance_hospital_DC        -1.605437e-04          85
ILD                             1.094237e-04          49
post2011                       -4.087104e-05          71
prev_rtx                       -1.767484e-04          86
RRT                             7.263289e-05          54
smk_hx                         -1.014472e-04          78
PDT                            -2.510212e-05          67
prevCPR                        -4.061159e-05          69
PCC                             6.597791e-05          57
PoorPS                         -1.392218e-04          82
BIPAP                          -4.075360e-05          70
Surgery                        -1.405374e-04          83
ICUreadmission                 -1.353847e-04          80
neurology                       2.367558e-05          62
postICUCtx                     -2.056955e-05          66
dx_after_adm                   -6.055681e-05          73
WBRT                           -3.322175e-05          68
ECMO                            2.917389e-05          61
Refractory                     -1.583809e-04          84
postICUCPR                     -6.235074e-05          74
PrevICUadm                     -1.714262e-06          64
postICURT                      -4.708489e-06          65
Tracheostomy                   -5.974551e-05          72
Underlying_CV                  -1.002852e-04          77
other_malignancy               -1.364391e-04          81
Underlying_stroke              -7.986246e-05          76
prev_gks                       -6.666386e-05          75
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC      5.780111962            1
AKI                                         AKI      4.264695581            3
WBC                                         WBC      4.932731014            2
neutropenia                         neutropenia      3.681552033            5
PT_percent                           PT_percent      3.958409218            4
SOFA_D1                                 SOFA_D1      3.619182052            7
BUN                                         BUN      3.632448470            6
APACH_II                               APACH_II      2.903902002           10
CRP                                         CRP      3.432540901            8
PLT                                         PLT      3.279733702            9
CRRT                                       CRRT      2.218101719           15
Death_Cause                         Death_Cause      2.100722139           17
bacteremia                           bacteremia      1.590345837           21
Albumin                                 Albumin      2.400295558           13
SAPS_II                                 SAPS_II      2.257191695           14
Cause_Ca_problem               Cause_Ca_problem      1.731364485           18
hospital_LOS                       hospital_LOS      2.449179457           12
timefromdx                           timefromdx      2.603822229           11
Pneumonia                             Pneumonia      1.356056118           23
thrombocytopenia               thrombocytopenia      1.293210259           26
prev_wbrt                             prev_wbrt      1.217302603           27
aPTT                                       aPTT      2.112062517           16
Vasoactiveagent                 Vasoactiveagent      1.214344818           28
age                                         age      1.683028349           20
post_dc_days                       post_dc_days      1.306570316           25
post_icu_survival             post_icu_survival      1.014374640           30
MV_days                                 MV_days      1.328416138           24
ICU_cause_intensivist     ICU_cause_intensivist      0.810453789           33
HFNC                                       HFNC      0.587333261           35
ICU_mortal30                       ICU_mortal30      0.457019497           42
procalcitonin                     procalcitonin      0.928595267           31
hypoalbuminemia                 hypoalbuminemia      0.505066026           38
histologyNum                       histologyNum      0.827691155           32
NewlyDx                                 NewlyDx      0.408769643           43
ICUCPR                                   ICUCPR      0.405902068           45
ICU_LOS                                 ICU_LOS      1.162542852           29
PaO2FiO2                               PaO2FiO2      1.688616719           19
StageNum                               StageNum      0.554080188           37
Intensivist                         Intensivist      0.406326959           44
HD                                           HD      0.324351392           49
prev_ccrt                             prev_ccrt      0.357232163           48
pulmocomorbid                     pulmocomorbid      0.359528314           47
underlying_pulmo               underlying_pulmo      0.503975769           39
cardiovasc                           cardiovasc      0.274376953           60
Underlying_DM                     Underlying_DM      0.380961566           46
ICU_Death                             ICU_Death      0.280695057           58
DischargefromICU               DischargefromICU      0.317136371           51
CTxinICU                               CTxinICU      0.316804978           52
respfailure                         respfailure      0.250715662           63
sex                                         sex      0.323732387           50
MV                                           MV      0.232368121           67
Hospital_death                   Hospital_death      0.238925319           66
Distatntmets                       Distatntmets      0.307185955           54
Hb                                           Hb      1.443316602           22
DNR                                         DNR      0.312264952           53
Pre_PS                                   Pre_PS      0.685686986           34
anemia                                   anemia      0.263012163           62
DNR_at_ICU                           DNR_at_ICU      0.286820122           57
preICUDNR                             preICUDNR      0.218638789           68
prev_ctx                               prev_ctx      0.214469188           69
performance_ICU_DC           performance_ICU_DC      0.556606317           36
performance_hospital_DC performance_hospital_DC      0.503641474           40
ILD                                         ILD      0.133632788           77
post2011                               post2011      0.297044611           56
prev_rtx                               prev_rtx      0.475117620           41
RRT                                         RRT      0.161271319           73
smk_hx                                   smk_hx      0.299944965           55
PDT                                         PDT      0.209288579           70
prevCPR                                 prevCPR      0.202664495           71
PCC                                         PCC      0.069444595           84
PoorPS                                   PoorPS      0.277903964           59
BIPAP                                     BIPAP      0.176999240           72
Surgery                                 Surgery      0.267478609           61
ICUreadmission                   ICUreadmission      0.244918208           65
neurology                             neurology      0.072158757           83
postICUCtx                           postICUCtx      0.102628045           80
dx_after_adm                       dx_after_adm      0.149051999           74
WBRT                                       WBRT      0.130730427           79
ECMO                                       ECMO      0.030049445           87
Refractory                           Refractory      0.246489382           64
postICUCPR                           postICUCPR      0.146967661           75
PrevICUadm                           PrevICUadm      0.053290167           85
postICURT                             postICURT      0.006159564           88
Tracheostomy                       Tracheostomy      0.090529664           81
Underlying_CV                     Underlying_CV      0.131854908           78
other_malignancy               other_malignancy      0.134432476           76
Underlying_stroke             Underlying_stroke      0.079920169           82
prev_gks                               prev_gks      0.049512122           86
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          3        1                            2
AKI                          4        2                            1
WBC                          6        3                            4
neutropenia                  8        4                            3
PT_percent                  10        5                            6
SOFA_D1                     12        6                            5
BUN                         15        7                            9
APACH_II                    20        8                           10
CRP                         21        9                           13
PLT                         21       10                           12
CRRT                        22       11                            7
Death_Cause                 25       12                            8
bacteremia                  32       13                           11
Albumin                     33       14                           20
SAPS_II                     33       15                           19
Cause_Ca_problem            35       16                           17
hospital_LOS                35       17                           23
timefromdx                  36       18                           25
Pneumonia                   38       19                           15
thrombocytopenia            40       20                           14
prev_wbrt                   43       21                           16
aPTT                        46       22                           30
Vasoactiveagent             46       23                           18
age                         48       24                           28
post_dc_days                51       25                           26
post_icu_survival           52       26                           22
MV_days                     53       27                           29
ICU_cause_intensivist       54       28                           21
HFNC                        62       29                           27
ICU_mortal30                66       30                           24
procalcitonin               66       31                           35
hypoalbuminemia             69       32                           31
histologyNum                76       33                           44
NewlyDx                     77       34                           34
ICUCPR                      78       35                           33
ICU_LOS                     79       36                           50
PaO2FiO2                    79       37                           60
StageNum                    82       38                           45
Intensivist                 85       39                           41
HD                          86       40                           37
prev_ccrt                   86       41                           38
pulmocomorbid               90       42                           43
underlying_pulmo            90       43                           51
cardiovasc                  92       44                           32
Underlying_DM               92       45                           46
ICU_Death                   94       46                           36
DischargefromICU            98       47                           47
CTxinICU                   100       48                           48
respfailure                102       49                           39
sex                        106       50                           56
MV                         107       51                           40
Hospital_death             108       52                           42
Distatntmets               109       53                           55
Hb                         109       54                           87
DNR                        112       55                           59
Pre_PS                     113       56                           79
anemia                     120       57                           58
DNR_at_ICU                 120       58                           63
preICUDNR                  120       59                           52
prev_ctx                   122       60                           53
performance_ICU_DC         124       61                           88
performance_hospital_DC    125       62                           85
ILD                        126       63                           49
post2011                   127       64                           71
prev_rtx                   127       65                           86
RRT                        127       66                           54
smk_hx                     133       67                           78
PDT                        137       68                           67
prevCPR                    140       69                           69
PCC                        141       70                           57
PoorPS                     141       71                           82
BIPAP                      142       72                           70
Surgery                    144       73                           83
ICUreadmission             145       74                           80
neurology                  145       75                           62
postICUCtx                 146       76                           66
dx_after_adm               147       77                           73
WBRT                       147       78                           68
ECMO                       148       79                           61
Refractory                 148       80                           84
postICUCPR                 149       81                           74
PrevICUadm                 149       82                           64
postICURT                  153       83                           65
Tracheostomy               153       84                           72
Underlying_CV              155       85                           77
other_malignancy           157       86                           81
Underlying_stroke          158       87                           76
prev_gks                   161       88                           75
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  3
AKI                                            3                  4
WBC                                            2                  6
neutropenia                                    5                  8
PT_percent                                     4                 10
SOFA_D1                                        7                 12
BUN                                            6                 15
APACH_II                                      10                 20
CRP                                            8                 21
PLT                                            9                 21
CRRT                                          15                 22
Death_Cause                                   17                 25
bacteremia                                    21                 32
Albumin                                       13                 33
SAPS_II                                       14                 33
Cause_Ca_problem                              18                 35
hospital_LOS                                  12                 35
timefromdx                                    11                 36
Pneumonia                                     23                 38
thrombocytopenia                              26                 40
prev_wbrt                                     27                 43
aPTT                                          16                 46
Vasoactiveagent                               28                 46
age                                           20                 48
post_dc_days                                  25                 51
post_icu_survival                             30                 52
MV_days                                       24                 53
ICU_cause_intensivist                         33                 54
HFNC                                          35                 62
ICU_mortal30                                  42                 66
procalcitonin                                 31                 66
hypoalbuminemia                               38                 69
histologyNum                                  32                 76
NewlyDx                                       43                 77
ICUCPR                                        45                 78
ICU_LOS                                       29                 79
PaO2FiO2                                      19                 79
StageNum                                      37                 82
Intensivist                                   44                 85
HD                                            49                 86
prev_ccrt                                     48                 86
pulmocomorbid                                 47                 90
underlying_pulmo                              39                 90
cardiovasc                                    60                 92
Underlying_DM                                 46                 92
ICU_Death                                     58                 94
DischargefromICU                              51                 98
CTxinICU                                      52                100
respfailure                                   63                102
sex                                           50                106
MV                                            67                107
Hospital_death                                66                108
Distatntmets                                  54                109
Hb                                            22                109
DNR                                           53                112
Pre_PS                                        34                113
anemia                                        62                120
DNR_at_ICU                                    57                120
preICUDNR                                     68                120
prev_ctx                                      69                122
performance_ICU_DC                            36                124
performance_hospital_DC                       40                125
ILD                                           77                126
post2011                                      56                127
prev_rtx                                      41                127
RRT                                           73                127
smk_hx                                        55                133
PDT                                           70                137
prevCPR                                       71                140
PCC                                           84                141
PoorPS                                        59                141
BIPAP                                         72                142
Surgery                                       61                144
ICUreadmission                                65                145
neurology                                     83                145
postICUCtx                                    80                146
dx_after_adm                                  74                147
WBRT                                          79                147
ECMO                                          87                148
Refractory                                    64                148
postICUCPR                                    75                149
PrevICUadm                                    85                149
postICURT                                     88                153
Tracheostomy                                  81                153
Underlying_CV                                 78                155
other_malignancy                              76                157
Underlying_stroke                             82                158
prev_gks                                      86                161
number of selected top features: 4
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia"

[Training Random Forests classifier on the training set with only the top  4  features]

[Applying the trained Random Forests classifier on the test set with only the top  4  features]

PR AUC (integral) 	0.7086544
ROC AUC 		0.8270677

Brier score =  0.151  (best value: 0; worst value: 1)

TOTAL:

 FN =  4  /  7 	 (truth == 1) & (prediction < threshold)
 TP =  3  /  7 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  19 	 (truth == 0) & (prediction >= threshold)
 TN =  18  /  19 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.462 	 0.545 	 	0.808 	 	0.429 	 	0.947		0.750	 	0.818	 	0.709	0.827

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  8
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.757753e-02           1
WBC                             1.120518e-02           3
neutropenia                     1.011757e-02           4
AKI                             1.209437e-02           2
PT_percent                      6.466824e-03           8
bacteremia                      9.217573e-03           5
PLT                             5.247460e-03           9
SOFA_D1                         4.825258e-03          10
CRP                             3.850811e-03          15
BUN                             4.044861e-03          13
Death_Cause                     6.980124e-03           6
Vasoactiveagent                 6.471242e-03           7
APACH_II                        2.363238e-03          17
hospital_LOS                    1.601301e-03          21
Albumin                         1.753311e-03          20
Cause_Ca_problem                3.283275e-03          16
Pneumonia                       4.537406e-03          11
thrombocytopenia                4.491645e-03          12
CRRT                            3.937216e-03          14
timefromdx                      1.133203e-03          25
SAPS_II                         1.170369e-03          24
post_dc_days                    1.301064e-03          22
prev_wbrt                       2.301549e-03          18
MV_days                         1.064343e-03          26
post_icu_survival               1.274178e-03          23
ICU_mortal30                    1.951121e-03          19
age                             4.024423e-04          33
PaO2FiO2                        3.590058e-04          36
ICU_cause_intensivist           8.875875e-04          27
ICU_LOS                         2.482616e-04          39
ICUCPR                          5.465302e-04          29
hypoalbuminemia                 4.365827e-04          32
prev_ccrt                       5.249483e-04          30
underlying_pulmo                2.704004e-04          38
histologyNum                    2.054468e-04          46
StageNum                        2.394368e-04          41
ICU_Death                       7.714837e-04          28
pulmocomorbid                   3.333193e-04          37
Intensivist                     2.383701e-04          42
Distatntmets                    2.145390e-04          45
post2011                        4.001253e-04          34
Refractory                      2.425096e-04          40
Hospital_death                  4.573902e-04          31
Underlying_DM                   1.246507e-04          51
NewlyDx                         1.889361e-04          48
cardiovasc                      3.817170e-04          35
DischargefromICU                1.436478e-04          50
HD                              2.186044e-04          44
aPTT                           -4.930285e-04          88
anemia                          2.216257e-04          43
BIPAP                           1.567119e-04          49
preICUDNR                       1.076527e-04          53
Hb                             -3.564924e-04          87
respfailure                     2.034214e-04          47
procalcitonin                  -2.789406e-04          86
performance_hospital_DC        -1.456141e-04          80
Pre_PS                         -2.567886e-04          85
performance_ICU_DC             -1.745149e-04          83
MV                              1.242928e-04          52
prev_rtx                       -1.924956e-04          84
CTxinICU                        3.492428e-05          59
Surgery                        -4.931345e-05          72
prevCPR                         5.289688e-05          57
dx_after_adm                    8.002986e-05          55
DNR                            -8.930237e-05          76
HFNC                           -1.363237e-04          78
DNR_at_ICU                     -5.474006e-05          73
ILD                             1.053763e-04          54
PoorPS                         -3.945845e-05          68
ICUreadmission                 -8.377912e-06          64
prev_ctx                        2.237128e-06          62
PDT                            -8.242537e-05          75
postICUCtx                      4.093394e-05          58
smk_hx                         -1.641519e-04          82
RRT                            -1.774303e-05          65
PCC                             7.559757e-05          56
Underlying_CV                   1.077475e-06          63
postICUCPR                     -4.032486e-05          69
ECMO                            9.196579e-06          60
sex                            -1.574609e-04          81
postICURT                       8.958000e-06          61
Tracheostomy                   -4.124710e-05          70
PrevICUadm                     -3.345787e-05          67
neurology                      -2.585071e-05          66
other_malignancy               -1.161924e-04          77
WBRT                           -4.493909e-05          71
Underlying_stroke              -5.983091e-05          74
prev_gks                       -1.415820e-04          79
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC       6.65343419            1
WBC                                         WBC       5.49995918            2
neutropenia                         neutropenia       3.61020954            4
AKI                                         AKI       3.35707663            7
PT_percent                           PT_percent       3.81445616            3
bacteremia                           bacteremia       2.69491069           10
PLT                                         PLT       3.38203271            6
SOFA_D1                                 SOFA_D1       2.82105904            9
CRP                                         CRP       3.57472640            5
BUN                                         BUN       3.30267676            8
Death_Cause                         Death_Cause       2.31091787           15
Vasoactiveagent                 Vasoactiveagent       1.77411098           19
APACH_II                               APACH_II       2.34282867           14
hospital_LOS                       hospital_LOS       2.63755082           11
Albumin                                 Albumin       2.43737079           13
Cause_Ca_problem               Cause_Ca_problem       1.81229199           18
Pneumonia                             Pneumonia       1.45324103           24
thrombocytopenia               thrombocytopenia       1.49267696           23
CRRT                                       CRRT       1.73088167           22
timefromdx                           timefromdx       2.52326860           12
SAPS_II                                 SAPS_II       1.97286529           16
post_dc_days                       post_dc_days       1.42468261           25
prev_wbrt                             prev_wbrt       0.91464512           32
MV_days                                 MV_days       1.41153928           26
post_icu_survival             post_icu_survival       1.09107501           29
ICU_mortal30                       ICU_mortal30       0.67642554           34
age                                         age       1.75360351           21
PaO2FiO2                               PaO2FiO2       1.75875385           20
ICU_cause_intensivist     ICU_cause_intensivist       0.69238678           33
ICU_LOS                                 ICU_LOS       1.18922125           28
ICUCPR                                   ICUCPR       0.43517334           42
hypoalbuminemia                 hypoalbuminemia       0.43366994           43
prev_ccrt                             prev_ccrt       0.40871185           45
underlying_pulmo               underlying_pulmo       0.57285061           37
histologyNum                       histologyNum       0.91988508           30
StageNum                               StageNum       0.63287960           36
ICU_Death                             ICU_Death       0.33632521           52
pulmocomorbid                     pulmocomorbid       0.38033884           47
Intensivist                         Intensivist       0.38444694           46
Distatntmets                       Distatntmets       0.42110664           44
post2011                               post2011       0.30592191           55
Refractory                           Refractory       0.35941217           49
Hospital_death                   Hospital_death       0.27959230           59
Underlying_DM                     Underlying_DM       0.45273054           41
NewlyDx                                 NewlyDx       0.36286655           48
cardiovasc                           cardiovasc       0.25310739           65
DischargefromICU               DischargefromICU       0.34340995           50
HD                                           HD       0.29526858           58
aPTT                                       aPTT       1.89529445           17
anemia                                   anemia       0.25895145           63
BIPAP                                     BIPAP       0.26754275           61
preICUDNR                             preICUDNR       0.27411627           60
Hb                                           Hb       1.39238584           27
respfailure                         respfailure       0.23407071           68
procalcitonin                     procalcitonin       0.91719767           31
performance_hospital_DC performance_hospital_DC       0.45754121           40
Pre_PS                                   Pre_PS       0.64947225           35
performance_ICU_DC           performance_ICU_DC       0.55645701           38
MV                                           MV       0.20750182           71
prev_rtx                               prev_rtx       0.53401031           39
CTxinICU                               CTxinICU       0.25216098           66
Surgery                                 Surgery       0.31323327           54
prevCPR                                 prevCPR       0.20827891           70
dx_after_adm                       dx_after_adm       0.17433921           73
DNR                                         DNR       0.31997466           53
HFNC                                       HFNC       0.34339844           51
DNR_at_ICU                           DNR_at_ICU       0.30074762           57
ILD                                         ILD       0.13167023           77
PoorPS                                   PoorPS       0.25576568           64
ICUreadmission                   ICUreadmission       0.22320969           69
prev_ctx                               prev_ctx       0.19360838           72
PDT                                         PDT       0.26616401           62
postICUCtx                           postICUCtx       0.11302750           79
smk_hx                                   smk_hx       0.30554709           56
RRT                                         RRT       0.16517133           74
PCC                                         PCC       0.07762287           85
Underlying_CV                     Underlying_CV       0.13126425           78
postICUCPR                           postICUCPR       0.13586068           76
ECMO                                       ECMO       0.02626198           87
sex                                         sex       0.24248323           67
postICURT                             postICURT       0.01041648           88
Tracheostomy                       Tracheostomy       0.11204812           80
PrevICUadm                           PrevICUadm       0.07790279           84
neurology                             neurology       0.05848879           86
other_malignancy               other_malignancy       0.14527039           75
WBRT                                       WBRT       0.11203467           81
Underlying_stroke             Underlying_stroke       0.08531917           83
prev_gks                               prev_gks       0.09925395           82
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
WBC                          5        2                            3
neutropenia                  8        3                            4
AKI                          9        4                            2
PT_percent                  11        5                            8
bacteremia                  15        6                            5
PLT                         15        7                            9
SOFA_D1                     19        8                           10
CRP                         20        9                           15
BUN                         21       10                           13
Death_Cause                 21       11                            6
Vasoactiveagent             26       12                            7
APACH_II                    31       13                           17
hospital_LOS                32       14                           21
Albumin                     33       15                           20
Cause_Ca_problem            34       16                           16
Pneumonia                   35       17                           11
thrombocytopenia            35       18                           12
CRRT                        36       19                           14
timefromdx                  37       20                           25
SAPS_II                     40       21                           24
post_dc_days                47       22                           22
prev_wbrt                   50       23                           18
MV_days                     52       24                           26
post_icu_survival           52       25                           23
ICU_mortal30                53       26                           19
age                         54       27                           33
PaO2FiO2                    56       28                           36
ICU_cause_intensivist       60       29                           27
ICU_LOS                     67       30                           39
ICUCPR                      71       31                           29
hypoalbuminemia             75       32                           32
prev_ccrt                   75       33                           30
underlying_pulmo            75       34                           38
histologyNum                76       35                           46
StageNum                    77       36                           41
ICU_Death                   80       37                           28
pulmocomorbid               84       38                           37
Intensivist                 88       39                           42
Distatntmets                89       40                           45
post2011                    89       41                           34
Refractory                  89       42                           40
Hospital_death              90       43                           31
Underlying_DM               92       44                           51
NewlyDx                     96       45                           48
cardiovasc                 100       46                           35
DischargefromICU           100       47                           50
HD                         102       48                           44
aPTT                       105       49                           88
anemia                     106       50                           43
BIPAP                      110       51                           49
preICUDNR                  113       52                           53
Hb                         114       53                           87
respfailure                115       54                           47
procalcitonin              117       55                           86
performance_hospital_DC    120       56                           80
Pre_PS                     120       57                           85
performance_ICU_DC         121       58                           83
MV                         123       59                           52
prev_rtx                   123       60                           84
CTxinICU                   125       61                           59
Surgery                    126       62                           72
prevCPR                    127       63                           57
dx_after_adm               128       64                           55
DNR                        129       65                           76
HFNC                       129       66                           78
DNR_at_ICU                 130       67                           73
ILD                        131       68                           54
PoorPS                     132       69                           68
ICUreadmission             133       70                           64
prev_ctx                   134       71                           62
PDT                        137       72                           75
postICUCtx                 137       73                           58
smk_hx                     138       74                           82
RRT                        139       75                           65
PCC                        141       76                           56
Underlying_CV              141       77                           63
postICUCPR                 145       78                           69
ECMO                       147       79                           60
sex                        148       80                           81
postICURT                  149       81                           61
Tracheostomy               150       82                           70
PrevICUadm                 151       83                           67
neurology                  152       84                           66
other_malignancy           152       85                           77
WBRT                       152       86                           71
Underlying_stroke          157       87                           74
prev_gks                   161       88                           79
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
WBC                                            2                  5
neutropenia                                    4                  8
AKI                                            7                  9
PT_percent                                     3                 11
bacteremia                                    10                 15
PLT                                            6                 15
SOFA_D1                                        9                 19
CRP                                            5                 20
BUN                                            8                 21
Death_Cause                                   15                 21
Vasoactiveagent                               19                 26
APACH_II                                      14                 31
hospital_LOS                                  11                 32
Albumin                                       13                 33
Cause_Ca_problem                              18                 34
Pneumonia                                     24                 35
thrombocytopenia                              23                 35
CRRT                                          22                 36
timefromdx                                    12                 37
SAPS_II                                       16                 40
post_dc_days                                  25                 47
prev_wbrt                                     32                 50
MV_days                                       26                 52
post_icu_survival                             29                 52
ICU_mortal30                                  34                 53
age                                           21                 54
PaO2FiO2                                      20                 56
ICU_cause_intensivist                         33                 60
ICU_LOS                                       28                 67
ICUCPR                                        42                 71
hypoalbuminemia                               43                 75
prev_ccrt                                     45                 75
underlying_pulmo                              37                 75
histologyNum                                  30                 76
StageNum                                      36                 77
ICU_Death                                     52                 80
pulmocomorbid                                 47                 84
Intensivist                                   46                 88
Distatntmets                                  44                 89
post2011                                      55                 89
Refractory                                    49                 89
Hospital_death                                59                 90
Underlying_DM                                 41                 92
NewlyDx                                       48                 96
cardiovasc                                    65                100
DischargefromICU                              50                100
HD                                            58                102
aPTT                                          17                105
anemia                                        63                106
BIPAP                                         61                110
preICUDNR                                     60                113
Hb                                            27                114
respfailure                                   68                115
procalcitonin                                 31                117
performance_hospital_DC                       40                120
Pre_PS                                        35                120
performance_ICU_DC                            38                121
MV                                            71                123
prev_rtx                                      39                123
CTxinICU                                      66                125
Surgery                                       54                126
prevCPR                                       70                127
dx_after_adm                                  73                128
DNR                                           53                129
HFNC                                          51                129
DNR_at_ICU                                    57                130
ILD                                           77                131
PoorPS                                        64                132
ICUreadmission                                69                133
prev_ctx                                      72                134
PDT                                           62                137
postICUCtx                                    79                137
smk_hx                                        56                138
RRT                                           74                139
PCC                                           85                141
Underlying_CV                                 78                141
postICUCPR                                    76                145
ECMO                                          87                147
sex                                           67                148
postICURT                                     88                149
Tracheostomy                                  80                150
PrevICUadm                                    84                151
neurology                                     86                152
other_malignancy                              75                152
WBRT                                          81                152
Underlying_stroke                             83                157
prev_gks                                      82                161
number of selected top features: 4
selected top features: 
[1] "ANC"         "WBC"         "neutropenia" "AKI"        

[Training Random Forests classifier on the training set with only the top  4  features]

[Applying the trained Random Forests classifier on the test set with only the top  4  features]

PR AUC (integral) 	0.656863
ROC AUC 		0.9416667

Brier score =  0.089  (best value: 0; worst value: 1)

TOTAL:

 FN =  1  /  6 	 (truth == 1) & (prediction < threshold)
 TP =  5  /  6 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  20 	 (truth == 0) & (prediction >= threshold)
 TN =  19  /  20 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.783 	 0.833 	 	0.923 	 	0.833 	 	0.950		0.833	 	0.950	 	0.657	0.942

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  9
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ANC                             1.498005e-02           1
AKI                             1.496185e-02           2
WBC                             9.867228e-03           4
neutropenia                     1.086646e-02           3
PT_percent                      6.256072e-03           8
SOFA_D1                         7.300172e-03           7
PLT                             4.448571e-03          10
bacteremia                      7.420900e-03           6
BUN                             4.074928e-03          12
CRP                             3.677572e-03          15
Vasoactiveagent                 7.988307e-03           5
APACH_II                        4.063134e-03          13
CRRT                            4.957806e-03           9
Death_Cause                     3.897587e-03          14
hospital_LOS                    1.491992e-03          22
SAPS_II                         2.461790e-03          18
Cause_Ca_problem                2.839887e-03          16
Pneumonia                       4.204245e-03          11
timefromdx                      7.176391e-04          26
Albumin                         1.057126e-03          25
thrombocytopenia                2.719000e-03          17
prev_wbrt                       2.220353e-03          19
post_dc_days                    1.176258e-03          24
age                             4.446907e-04          31
MV_days                         5.798285e-04          27
ICU_cause_intensivist           1.549086e-03          20
ICU_mortal30                    1.502978e-03          21
prev_ccrt                       1.198782e-03          23
post_icu_survival               5.034317e-04          29
ICU_LOS                         3.013862e-04          39
PaO2FiO2                        1.250353e-04          48
HFNC                            4.420321e-04          32
underlying_pulmo                3.917473e-04          33
StageNum                        3.034598e-04          38
ICU_Death                       5.618093e-04          28
pulmocomorbid                   4.608555e-04          30
histologyNum                    1.526429e-04          45
Underlying_DM                   2.129959e-04          41
DischargefromICU                3.151278e-04          36
performance_hospital_DC         3.857202e-05          55
ICUCPR                          3.054114e-04          37
Hb                             -7.850897e-05          75
NewlyDx                         2.429758e-04          40
anemia                          1.505073e-04          47
HD                              3.210442e-04          35
cardiovasc                      3.392757e-04          34
BIPAP                           1.518177e-04          46
PDT                             1.177320e-04          49
aPTT                           -2.779225e-04          86
Intensivist                     3.461478e-05          56
Hospital_death                  1.962458e-04          42
DNR                             7.416114e-05          52
sex                            -8.942940e-06          63
MV                              1.646775e-04          44
post2011                        1.130415e-04          50
RRT                             1.777056e-04          43
Distatntmets                   -6.136674e-05          73
CTxinICU                        5.361742e-05          53
procalcitonin                  -3.854363e-04          88
Pre_PS                         -2.717439e-04          85
Refractory                     -4.149464e-05          67
hypoalbuminemia                -5.792966e-05          72
performance_ICU_DC             -2.344814e-04          83
preICUDNR                       0.000000e+00          59
prev_rtx                       -2.514597e-04          84
Surgery                        -4.118043e-05          66
ILD                             9.655014e-05          51
smk_hx                         -1.560614e-04          81
dx_after_adm                    5.685705e-06          58
PoorPS                         -1.275138e-04          80
postICUCtx                     -4.848310e-06          62
respfailure                    -5.713267e-05          71
ECMO                            5.207835e-05          54
PCC                             2.422701e-05          57
Tracheostomy                   -3.851345e-05          65
postICUCPR                     -5.418565e-05          69
prev_ctx                       -7.124590e-05          74
neurology                      -2.014774e-06          61
Underlying_CV                  -5.544598e-05          70
DNR_at_ICU                     -3.066448e-04          87
PrevICUadm                     -1.320095e-05          64
postICURT                      -5.282400e-07          60
WBRT                           -5.267280e-05          68
prevCPR                        -1.173521e-04          78
other_malignancy               -1.751732e-04          82
Underlying_stroke              -8.443749e-05          77
prev_gks                       -1.228991e-04          79
ICUreadmission                 -8.069222e-05          76
                                       features MeanDecreaseGini secondColPos
ANC                                         ANC       6.19975742            1
AKI                                         AKI       4.08682763            3
WBC                                         WBC       5.39324285            2
neutropenia                         neutropenia       3.37299801            6
PT_percent                           PT_percent       3.74162498            4
SOFA_D1                                 SOFA_D1       2.95638826            9
PLT                                         PLT       3.29197919            8
bacteremia                           bacteremia       2.30690817           13
BUN                                         BUN       3.30065800            7
CRP                                         CRP       3.37798460            5
Vasoactiveagent                 Vasoactiveagent       2.07797425           15
APACH_II                               APACH_II       2.70934868           10
CRRT                                       CRRT       1.94982779           17
Death_Cause                         Death_Cause       1.71647083           20
hospital_LOS                       hospital_LOS       2.48563952           12
SAPS_II                                 SAPS_II       2.07328724           16
Cause_Ca_problem               Cause_Ca_problem       1.84024619           19
Pneumonia                             Pneumonia       1.43212652           24
timefromdx                           timefromdx       2.62980227           11
Albumin                                 Albumin       2.20646693           14
thrombocytopenia               thrombocytopenia       1.16885631           28
prev_wbrt                             prev_wbrt       1.10519077           29
post_dc_days                       post_dc_days       1.35443634           26
age                                         age       1.66501266           21
MV_days                                 MV_days       1.36426323           25
ICU_cause_intensivist     ICU_cause_intensivist       0.76116958           33
ICU_mortal30                       ICU_mortal30       0.62196182           37
prev_ccrt                             prev_ccrt       0.71079913           35
post_icu_survival             post_icu_survival       0.80985877           31
ICU_LOS                                 ICU_LOS       1.33886194           27
PaO2FiO2                               PaO2FiO2       1.65982313           22
HFNC                                       HFNC       0.52038738           41
underlying_pulmo               underlying_pulmo       0.55245072           40
StageNum                               StageNum       0.65138465           36
ICU_Death                             ICU_Death       0.34472513           47
pulmocomorbid                     pulmocomorbid       0.39855006           45
histologyNum                       histologyNum       0.80478481           32
Underlying_DM                     Underlying_DM       0.47293531           42
DischargefromICU               DischargefromICU       0.33358373           48
performance_hospital_DC performance_hospital_DC       0.58384220           38
ICUCPR                                   ICUCPR       0.29636299           59
Hb                                           Hb       1.46555357           23
NewlyDx                                 NewlyDx       0.30401167           58
anemia                                   anemia       0.32338269           52
HD                                           HD       0.27098416           64
cardiovasc                           cardiovasc       0.23610080           67
BIPAP                                     BIPAP       0.30474165           56
PDT                                         PDT       0.31878930           53
aPTT                                       aPTT       1.93426129           18
Intensivist                         Intensivist       0.32789282           51
Hospital_death                   Hospital_death       0.24679985           66
DNR                                         DNR       0.30450326           57
sex                                         sex       0.35309938           46
MV                                           MV       0.21732980           68
post2011                               post2011       0.28455237           62
RRT                                         RRT       0.16250632           73
Distatntmets                       Distatntmets       0.41305375           44
CTxinICU                               CTxinICU       0.26311832           65
procalcitonin                     procalcitonin       0.85173790           30
Pre_PS                                   Pre_PS       0.74217725           34
Refractory                           Refractory       0.31003308           54
hypoalbuminemia                 hypoalbuminemia       0.32983441           50
performance_ICU_DC           performance_ICU_DC       0.56131311           39
preICUDNR                             preICUDNR       0.27654281           63
prev_rtx                               prev_rtx       0.47169363           43
Surgery                                 Surgery       0.28528627           61
ILD                                         ILD       0.11869085           79
smk_hx                                   smk_hx       0.33268931           49
dx_after_adm                       dx_after_adm       0.16113885           74
PoorPS                                   PoorPS       0.30952972           55
postICUCtx                           postICUCtx       0.12654193           77
respfailure                         respfailure       0.19945221           69
ECMO                                       ECMO       0.03884413           87
PCC                                         PCC       0.07577831           84
Tracheostomy                       Tracheostomy       0.12028317           78
postICUCPR                           postICUCPR       0.15348343           75
prev_ctx                               prev_ctx       0.18130554           70
neurology                             neurology       0.07118022           85
Underlying_CV                     Underlying_CV       0.13003820           76
DNR_at_ICU                           DNR_at_ICU       0.29493122           60
PrevICUadm                           PrevICUadm       0.07873952           83
postICURT                             postICURT       0.01165933           88
WBRT                                       WBRT       0.09936358           80
prevCPR                                 prevCPR       0.16297294           72
other_malignancy               other_malignancy       0.17656501           71
Underlying_stroke             Underlying_stroke       0.08517022           81
prev_gks                               prev_gks       0.08356604           82
ICUreadmission                   ICUreadmission       0.06235149           86
                        posSum finalPos meanDecreaseAccuracyPosition
ANC                          2        1                            1
AKI                          5        2                            2
WBC                          6        3                            4
neutropenia                  9        4                            3
PT_percent                  12        5                            8
SOFA_D1                     16        6                            7
PLT                         18        7                           10
bacteremia                  19        8                            6
BUN                         19        9                           12
CRP                         20       10                           15
Vasoactiveagent             20       11                            5
APACH_II                    23       12                           13
CRRT                        26       13                            9
Death_Cause                 34       14                           14
hospital_LOS                34       15                           22
SAPS_II                     34       16                           18
Cause_Ca_problem            35       17                           16
Pneumonia                   35       18                           11
timefromdx                  37       19                           26
Albumin                     39       20                           25
thrombocytopenia            45       21                           17
prev_wbrt                   48       22                           19
post_dc_days                50       23                           24
age                         52       24                           31
MV_days                     52       25                           27
ICU_cause_intensivist       53       26                           20
ICU_mortal30                58       27                           21
prev_ccrt                   58       28                           23
post_icu_survival           60       29                           29
ICU_LOS                     66       30                           39
PaO2FiO2                    70       31                           48
HFNC                        73       32                           32
underlying_pulmo            73       33                           33
StageNum                    74       34                           38
ICU_Death                   75       35                           28
pulmocomorbid               75       36                           30
histologyNum                77       37                           45
Underlying_DM               83       38                           41
DischargefromICU            84       39                           36
performance_hospital_DC     93       40                           55
ICUCPR                      96       41                           37
Hb                          98       42                           75
NewlyDx                     98       43                           40
anemia                      99       44                           47
HD                          99       45                           35
cardiovasc                 101       46                           34
BIPAP                      102       47                           46
PDT                        102       48                           49
aPTT                       104       49                           86
Intensivist                107       50                           56
Hospital_death             108       51                           42
DNR                        109       52                           52
sex                        109       53                           63
MV                         112       54                           44
post2011                   112       55                           50
RRT                        116       56                           43
Distatntmets               117       57                           73
CTxinICU                   118       58                           53
procalcitonin              118       59                           88
Pre_PS                     119       60                           85
Refractory                 121       61                           67
hypoalbuminemia            122       62                           72
performance_ICU_DC         122       63                           83
preICUDNR                  122       64                           59
prev_rtx                   127       65                           84
Surgery                    127       66                           66
ILD                        130       67                           51
smk_hx                     130       68                           81
dx_after_adm               132       69                           58
PoorPS                     135       70                           80
postICUCtx                 139       71                           62
respfailure                140       72                           71
ECMO                       141       73                           54
PCC                        141       74                           57
Tracheostomy               143       75                           65
postICUCPR                 144       76                           69
prev_ctx                   144       77                           74
neurology                  146       78                           61
Underlying_CV              146       79                           70
DNR_at_ICU                 147       80                           87
PrevICUadm                 147       81                           64
postICURT                  148       82                           60
WBRT                       148       83                           68
prevCPR                    150       84                           78
other_malignancy           153       85                           82
Underlying_stroke          158       86                           77
prev_gks                   161       87                           79
ICUreadmission             162       88                           76
                        meanDecreaseGiniPosition aggregatedPosition
ANC                                            1                  2
AKI                                            3                  5
WBC                                            2                  6
neutropenia                                    6                  9
PT_percent                                     4                 12
SOFA_D1                                        9                 16
PLT                                            8                 18
bacteremia                                    13                 19
BUN                                            7                 19
CRP                                            5                 20
Vasoactiveagent                               15                 20
APACH_II                                      10                 23
CRRT                                          17                 26
Death_Cause                                   20                 34
hospital_LOS                                  12                 34
SAPS_II                                       16                 34
Cause_Ca_problem                              19                 35
Pneumonia                                     24                 35
timefromdx                                    11                 37
Albumin                                       14                 39
thrombocytopenia                              28                 45
prev_wbrt                                     29                 48
post_dc_days                                  26                 50
age                                           21                 52
MV_days                                       25                 52
ICU_cause_intensivist                         33                 53
ICU_mortal30                                  37                 58
prev_ccrt                                     35                 58
post_icu_survival                             31                 60
ICU_LOS                                       27                 66
PaO2FiO2                                      22                 70
HFNC                                          41                 73
underlying_pulmo                              40                 73
StageNum                                      36                 74
ICU_Death                                     47                 75
pulmocomorbid                                 45                 75
histologyNum                                  32                 77
Underlying_DM                                 42                 83
DischargefromICU                              48                 84
performance_hospital_DC                       38                 93
ICUCPR                                        59                 96
Hb                                            23                 98
NewlyDx                                       58                 98
anemia                                        52                 99
HD                                            64                 99
cardiovasc                                    67                101
BIPAP                                         56                102
PDT                                           53                102
aPTT                                          18                104
Intensivist                                   51                107
Hospital_death                                66                108
DNR                                           57                109
sex                                           46                109
MV                                            68                112
post2011                                      62                112
RRT                                           73                116
Distatntmets                                  44                117
CTxinICU                                      65                118
procalcitonin                                 30                118
Pre_PS                                        34                119
Refractory                                    54                121
hypoalbuminemia                               50                122
performance_ICU_DC                            39                122
preICUDNR                                     63                122
prev_rtx                                      43                127
Surgery                                       61                127
ILD                                           79                130
smk_hx                                        49                130
dx_after_adm                                  74                132
PoorPS                                        55                135
postICUCtx                                    77                139
respfailure                                   69                140
ECMO                                          87                141
PCC                                           84                141
Tracheostomy                                  78                143
postICUCPR                                    75                144
prev_ctx                                      70                144
neurology                                     85                146
Underlying_CV                                 76                146
DNR_at_ICU                                    60                147
PrevICUadm                                    83                147
postICURT                                     88                148
WBRT                                          80                148
prevCPR                                       72                150
other_malignancy                              71                153
Underlying_stroke                             81                158
prev_gks                                      82                161
ICUreadmission                                86                162
number of selected top features: 4
selected top features: 
[1] "ANC"         "AKI"         "WBC"         "neutropenia"

[Training Random Forests classifier on the training set with only the top  4  features]

[Applying the trained Random Forests classifier on the test set with only the top  4  features]

PR AUC (integral) 	0.6408321
ROC AUC 		0.7443609

Brier score =  0.162  (best value: 0; worst value: 1)

TOTAL:

 FN =  4  /  7 	 (truth == 1) & (prediction < threshold)
 TP =  3  /  7 	 (truth == 1) & (prediction >= threshold)

 FP =  0  /  19 	 (truth == 0) & (prediction >= threshold)
 TN =  19  /  19 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.595 	 0.600 	 	0.846 	 	0.429 	 	1.000		1.000	 	0.826	 	0.641	0.744

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  10
[Randomizing the rows]
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
AKI                             1.472991e-02           1
ANC                             1.376523e-02           3
neutropenia                     1.404364e-02           2
WBC                             1.191928e-02           4
bacteremia                      1.088759e-02           5
CRP                             4.801736e-03          10
BUN                             4.791693e-03          11
SOFA_D1                         5.802503e-03           7
PLT                             4.512142e-03          12
CRRT                            6.452498e-03           6
PT_percent                      4.399113e-03          14
Death_Cause                     5.580032e-03           8
timefromdx                      2.110452e-03          18
APACH_II                        4.387562e-03          15
Vasoactiveagent                 5.336900e-03           9
SAPS_II                         1.969561e-03          19
Albumin                         1.459245e-03          23
Cause_Ca_problem                3.299211e-03          17
Pneumonia                       4.490840e-03          13
hospital_LOS                    8.239678e-04          28
thrombocytopenia                3.787352e-03          16
MV_days                         1.297154e-03          25
prev_wbrt                       1.891433e-03          20
PaO2FiO2                        3.894218e-04          33
post_icu_survival               1.328067e-03          24
post_dc_days                    8.702055e-04          27
ICU_cause_intensivist           1.560966e-03          22
age                             3.166622e-04          36
aPTT                            2.668155e-04          38
ICU_mortal30                    1.598945e-03          21
HFNC                            6.807043e-04          29
ICU_LOS                         1.970640e-04          43
StageNum                        3.216937e-04          34
ICU_Death                       8.782735e-04          26
prev_ccrt                       6.043423e-04          31
underlying_pulmo                3.110503e-04          37
histologyNum                    7.846752e-05          53
Hb                              6.019863e-06          63
Hospital_death                  6.166868e-04          30
ICUCPR                          3.184275e-04          35
NewlyDx                         2.242416e-04          42
DischargefromICU                2.343484e-04          40
hypoalbuminemia                 1.367326e-04          48
post2011                        2.634846e-04          39
Underlying_DM                   1.170231e-04          51
pulmocomorbid                   1.442067e-04          47
cardiovasc                      5.175876e-04          32
CTxinICU                        1.713789e-04          45
Intensivist                     1.269248e-04          50
Distatntmets                    3.358720e-05          56
anemia                          1.654114e-04          46
HD                              1.323006e-04          49
procalcitonin                  -8.169313e-05          78
respfailure                     2.330768e-04          41
MV                              1.788982e-04          44
Refractory                      1.673184e-05          62
preICUDNR                       1.090316e-04          52
sex                             4.995302e-05          55
performance_ICU_DC             -1.086587e-04          82
performance_hospital_DC        -8.971016e-05          80
prev_rtx                       -1.227869e-04          83
Pre_PS                         -4.311503e-04          88
DNR                            -3.010905e-05          69
BIPAP                           2.579535e-05          57
ILD                             7.384476e-05          54
prevCPR                         1.861922e-05          59
prev_ctx                        1.738072e-05          61
PDT                            -2.329239e-05          68
PoorPS                         -6.520589e-05          75
postICUCtx                      1.993144e-05          58
Surgery                        -8.199421e-05          79
smk_hx                         -2.905658e-04          87
RRT                            -3.769406e-05          70
PCC                             1.753915e-05          60
Tracheostomy                   -1.480200e-05          67
dx_after_adm                   -5.951629e-05          73
postICUCPR                     -7.387013e-05          76
DNR_at_ICU                     -1.845538e-04          86
PrevICUadm                     -9.382517e-06          66
ECMO                            0.000000e+00          64
postICURT                      -2.673082e-08          65
ICUreadmission                 -1.493046e-04          85
WBRT                           -5.691069e-05          72
neurology                      -4.608843e-05          71
Underlying_CV                  -6.197220e-05          74
prev_gks                       -9.766204e-05          81
other_malignancy               -1.431387e-04          84
Underlying_stroke              -7.537652e-05          77
                                       features MeanDecreaseGini secondColPos
AKI                                         AKI      4.061166554            3
ANC                                         ANC      6.199718588            1
neutropenia                         neutropenia      4.003647521            4
WBC                                         WBC      5.759579124            2
bacteremia                           bacteremia      2.841989239            9
CRP                                         CRP      3.760788521            5
BUN                                         BUN      3.363829300            6
SOFA_D1                                 SOFA_D1      2.738703918           11
PLT                                         PLT      3.230695689            7
CRRT                                       CRRT      2.201041096           16
PT_percent                           PT_percent      2.783877075           10
Death_Cause                         Death_Cause      1.983148744           17
timefromdx                           timefromdx      3.066083396            8
APACH_II                               APACH_II      2.633287224           12
Vasoactiveagent                 Vasoactiveagent      1.710337609           22
SAPS_II                                 SAPS_II      2.228876441           14
Albumin                                 Albumin      2.222045506           15
Cause_Ca_problem               Cause_Ca_problem      1.771716807           21
Pneumonia                             Pneumonia      1.452652509           25
hospital_LOS                       hospital_LOS      2.306856376           13
thrombocytopenia               thrombocytopenia      1.233929352           28
MV_days                                 MV_days      1.500200348           24
prev_wbrt                             prev_wbrt      0.963566922           31
PaO2FiO2                               PaO2FiO2      1.869799209           19
post_icu_survival             post_icu_survival      1.057024515           29
post_dc_days                       post_dc_days      1.257744170           27
ICU_cause_intensivist     ICU_cause_intensivist      0.811298240           33
age                                         age      1.840868008           20
aPTT                                       aPTT      1.913635877           18
ICU_mortal30                       ICU_mortal30      0.566457704           37
HFNC                                       HFNC      0.509422809           39
ICU_LOS                                 ICU_LOS      1.318905554           26
StageNum                               StageNum      0.655448659           35
ICU_Death                             ICU_Death      0.359040682           47
prev_ccrt                             prev_ccrt      0.466393498           42
underlying_pulmo               underlying_pulmo      0.480204005           41
histologyNum                       histologyNum      0.856721268           32
Hb                                           Hb      1.534299629           23
Hospital_death                   Hospital_death      0.295150153           57
ICUCPR                                   ICUCPR      0.334465384           52
NewlyDx                                 NewlyDx      0.375936210           46
DischargefromICU               DischargefromICU      0.349491301           51
hypoalbuminemia                 hypoalbuminemia      0.432759404           44
post2011                               post2011      0.326589303           54
Underlying_DM                     Underlying_DM      0.442968160           43
pulmocomorbid                     pulmocomorbid      0.352317440           50
cardiovasc                           cardiovasc      0.241381069           66
CTxinICU                               CTxinICU      0.331516581           53
Intensivist                         Intensivist      0.357195294           48
Distatntmets                       Distatntmets      0.416678965           45
anemia                                   anemia      0.283156127           62
HD                                           HD      0.288841578           59
procalcitonin                     procalcitonin      0.995806221           30
respfailure                         respfailure      0.204916506           69
MV                                           MV      0.232127183           67
Refractory                           Refractory      0.352779999           49
preICUDNR                             preICUDNR      0.288387530           60
sex                                         sex      0.290852003           58
performance_ICU_DC           performance_ICU_DC      0.655257507           36
performance_hospital_DC performance_hospital_DC      0.500548015           40
prev_rtx                               prev_rtx      0.562890077           38
Pre_PS                                   Pre_PS      0.743432514           34
DNR                                         DNR      0.304649071           55
BIPAP                                     BIPAP      0.197708504           70
ILD                                         ILD      0.116092876           77
prevCPR                                 prevCPR      0.183945841           72
prev_ctx                               prev_ctx      0.185898805           71
PDT                                         PDT      0.241514972           65
PoorPS                                   PoorPS      0.257690931           63
postICUCtx                           postICUCtx      0.104762550           82
Surgery                                 Surgery      0.287738558           61
smk_hx                                   smk_hx      0.296566719           56
RRT                                         RRT      0.143425801           75
PCC                                         PCC      0.031416972           86
Tracheostomy                       Tracheostomy      0.108700889           79
dx_after_adm                       dx_after_adm      0.161432524           74
postICUCPR                           postICUCPR      0.162293515           73
DNR_at_ICU                           DNR_at_ICU      0.257563039           64
PrevICUadm                           PrevICUadm      0.068230157           85
ECMO                                       ECMO      0.005255233           88
postICURT                             postICURT      0.007440928           87
ICUreadmission                   ICUreadmission      0.207739633           68
WBRT                                       WBRT      0.105535798           81
neurology                             neurology      0.079204842           83
Underlying_CV                     Underlying_CV      0.106492819           80
prev_gks                               prev_gks      0.112105889           78
other_malignancy               other_malignancy      0.142765639           76
Underlying_stroke             Underlying_stroke      0.069009103           84
                        posSum finalPos meanDecreaseAccuracyPosition
AKI                          4        1                            1
ANC                          4        2                            3
neutropenia                  6        3                            2
WBC                          6        4                            4
bacteremia                  14        5                            5
CRP                         15        6                           10
BUN                         17        7                           11
SOFA_D1                     18        8                            7
PLT                         19        9                           12
CRRT                        22       10                            6
PT_percent                  24       11                           14
Death_Cause                 25       12                            8
timefromdx                  26       13                           18
APACH_II                    27       14                           15
Vasoactiveagent             31       15                            9
SAPS_II                     33       16                           19
Albumin                     38       17                           23
Cause_Ca_problem            38       18                           17
Pneumonia                   38       19                           13
hospital_LOS                41       20                           28
thrombocytopenia            44       21                           16
MV_days                     49       22                           25
prev_wbrt                   51       23                           20
PaO2FiO2                    52       24                           33
post_icu_survival           53       25                           24
post_dc_days                54       26                           27
ICU_cause_intensivist       55       27                           22
age                         56       28                           36
aPTT                        56       29                           38
ICU_mortal30                58       30                           21
HFNC                        68       31                           29
ICU_LOS                     69       32                           43
StageNum                    69       33                           34
ICU_Death                   73       34                           26
prev_ccrt                   73       35                           31
underlying_pulmo            78       36                           37
histologyNum                85       37                           53
Hb                          86       38                           63
Hospital_death              87       39                           30
ICUCPR                      87       40                           35
NewlyDx                     88       41                           42
DischargefromICU            91       42                           40
hypoalbuminemia             92       43                           48
post2011                    93       44                           39
Underlying_DM               94       45                           51
pulmocomorbid               97       46                           47
cardiovasc                  98       47                           32
CTxinICU                    98       48                           45
Intensivist                 98       49                           50
Distatntmets               101       50                           56
anemia                     108       51                           46
HD                         108       52                           49
procalcitonin              108       53                           78
respfailure                110       54                           41
MV                         111       55                           44
Refractory                 111       56                           62
preICUDNR                  112       57                           52
sex                        113       58                           55
performance_ICU_DC         118       59                           82
performance_hospital_DC    120       60                           80
prev_rtx                   121       61                           83
Pre_PS                     122       62                           88
DNR                        124       63                           69
BIPAP                      127       64                           57
ILD                        131       65                           54
prevCPR                    131       66                           59
prev_ctx                   132       67                           61
PDT                        133       68                           68
PoorPS                     138       69                           75
postICUCtx                 140       70                           58
Surgery                    140       71                           79
smk_hx                     143       72                           87
RRT                        145       73                           70
PCC                        146       74                           60
Tracheostomy               146       75                           67
dx_after_adm               147       76                           73
postICUCPR                 149       77                           76
DNR_at_ICU                 150       78                           86
PrevICUadm                 151       79                           66
ECMO                       152       80                           64
postICURT                  152       81                           65
ICUreadmission             153       82                           85
WBRT                       153       83                           72
neurology                  154       84                           71
Underlying_CV              154       85                           74
prev_gks                   159       86                           81
other_malignancy           160       87                           84
Underlying_stroke          161       88                           77
                        meanDecreaseGiniPosition aggregatedPosition
AKI                                            3                  4
ANC                                            1                  4
neutropenia                                    4                  6
WBC                                            2                  6
bacteremia                                     9                 14
CRP                                            5                 15
BUN                                            6                 17
SOFA_D1                                       11                 18
PLT                                            7                 19
CRRT                                          16                 22
PT_percent                                    10                 24
Death_Cause                                   17                 25
timefromdx                                     8                 26
APACH_II                                      12                 27
Vasoactiveagent                               22                 31
SAPS_II                                       14                 33
Albumin                                       15                 38
Cause_Ca_problem                              21                 38
Pneumonia                                     25                 38
hospital_LOS                                  13                 41
thrombocytopenia                              28                 44
MV_days                                       24                 49
prev_wbrt                                     31                 51
PaO2FiO2                                      19                 52
post_icu_survival                             29                 53
post_dc_days                                  27                 54
ICU_cause_intensivist                         33                 55
age                                           20                 56
aPTT                                          18                 56
ICU_mortal30                                  37                 58
HFNC                                          39                 68
ICU_LOS                                       26                 69
StageNum                                      35                 69
ICU_Death                                     47                 73
prev_ccrt                                     42                 73
underlying_pulmo                              41                 78
histologyNum                                  32                 85
Hb                                            23                 86
Hospital_death                                57                 87
ICUCPR                                        52                 87
NewlyDx                                       46                 88
DischargefromICU                              51                 91
hypoalbuminemia                               44                 92
post2011                                      54                 93
Underlying_DM                                 43                 94
pulmocomorbid                                 50                 97
cardiovasc                                    66                 98
CTxinICU                                      53                 98
Intensivist                                   48                 98
Distatntmets                                  45                101
anemia                                        62                108
HD                                            59                108
procalcitonin                                 30                108
respfailure                                   69                110
MV                                            67                111
Refractory                                    49                111
preICUDNR                                     60                112
sex                                           58                113
performance_ICU_DC                            36                118
performance_hospital_DC                       40                120
prev_rtx                                      38                121
Pre_PS                                        34                122
DNR                                           55                124
BIPAP                                         70                127
ILD                                           77                131
prevCPR                                       72                131
prev_ctx                                      71                132
PDT                                           65                133
PoorPS                                        63                138
postICUCtx                                    82                140
Surgery                                       61                140
smk_hx                                        56                143
RRT                                           75                145
PCC                                           86                146
Tracheostomy                                  79                146
dx_after_adm                                  74                147
postICUCPR                                    73                149
DNR_at_ICU                                    64                150
PrevICUadm                                    85                151
ECMO                                          88                152
postICURT                                     87                152
ICUreadmission                                68                153
WBRT                                          81                153
neurology                                     83                154
Underlying_CV                                 80                154
prev_gks                                      78                159
other_malignancy                              76                160
Underlying_stroke                             84                161
number of selected top features: 4
selected top features: 
[1] "AKI"         "ANC"         "neutropenia" "WBC"        

[Training Random Forests classifier on the training set with only the top  4  features]

[Applying the trained Random Forests classifier on the test set with only the top  4  features]

PR AUC (integral) 	0.3816546
ROC AUC 		0.8095238

Brier score =  0.144  (best value: 0; worst value: 1)

TOTAL:

 FN =  3  /  5 	 (truth == 1) & (prediction < threshold)
 TP =  2  /  5 	 (truth == 1) & (prediction >= threshold)

 FP =  3  /  21 	 (truth == 0) & (prediction >= threshold)
 TN =  18  /  21 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.257 	 0.400 	 	0.769 	 	0.400 	 	0.857		0.400	 	0.857	 	0.382	0.810




=== final results ===
Number of executions = 10
                MCC F1_score accuracy TP_rate TN_rate    PPV    NPV PR_AUC
nbr.val      10.000   10.000   10.000  10.000  10.000 10.000 10.000 10.000
nbr.null      0.000    0.000    0.000   0.000   0.000  0.000  0.000  0.000
nbr.na        0.000    0.000    0.000   0.000   0.000  0.000  0.000  0.000
min           0.257    0.400    0.654   0.250   0.833  0.400  0.619  0.382
max           0.783    0.833    0.923   1.000   1.000  1.000  1.000  0.770
range         0.526    0.433    0.269   0.750   0.167  0.600  0.381  0.388
sum           4.844    5.659    7.923   5.118   9.213  7.498  8.172  6.437
median        0.448    0.539    0.788   0.437   0.938  0.775  0.804  0.671
mean          0.484    0.566    0.792   0.512   0.921  0.750  0.817  0.644
SE.mean       0.055    0.043    0.025   0.073   0.022  0.068  0.033  0.037
CI.mean.0.95  0.125    0.098    0.057   0.164   0.049  0.154  0.075  0.085
var           0.031    0.019    0.006   0.053   0.005  0.046  0.011  0.014
std.dev       0.175    0.137    0.079   0.229   0.069  0.215  0.105  0.118
coef.var      0.361    0.241    0.100   0.448   0.075  0.286  0.129  0.184
             ROC_AUC
nbr.val       10.000
nbr.null       0.000
nbr.na         0.000
min            0.594
max            0.942
range          0.348
sum            7.929
median         0.787
mean           0.793
SE.mean        0.032
CI.mean.0.95   0.073
var            0.010
std.dev        0.102
coef.var       0.128


=== === === ===
          MCC F1_score accuracy TP_rate TN_rate   PPV   NPV PR_AUC ROC_AUC
mean    0.484    0.566    0.792   0.512   0.921 0.750 0.817  0.644   0.793
std.dev 0.175    0.137    0.079   0.229   0.069 0.215 0.105  0.118   0.102


=== === === ===



Total execution time: 1.741758 seconds
0 days, 00 hours, 01 minutes, 44.51 seconds

We'll plot only the top 20 features
applied command: mkdir -p ../results/
just run the command: mkdir -p ../results/
saved plot in file ../results/MeanDecreaseAccuracy_features_83191.pdf
just run the command: mkdir -p ../results/
saved plot in file ../results/MeanDecreaseGini_features_83191.pdf
null device 
          1 
