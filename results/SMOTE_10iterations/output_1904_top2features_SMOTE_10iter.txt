TOP_FEATURES_NUMBER = 2
NUM_ITERATIONS = 10
TRAIN_SET_OVERSAMPLING_SYNTHETIC_ROSE == FALSE
Read data from file ../data/pone0210951_s006_dataset_EDITED_IMPUTED.csv
adenoca
large_cell_NEC
mixed
neuroendocrine_tumor
nonsmall_cell
others
poorly_differentiated
sarcomatoid
small_cell
squamous


The target feature is Sepsis
application of dplyr::select()
TRAINING_SET_RATIO = 0.9
Number of classification executions = 10	Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  1
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  1
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  1
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  1
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  1
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  1
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  1
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  1
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  1
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  1
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
Vasoactiveagent                 4.067205e-02           1
Pneumonia                       3.291500e-02           3
AKI                             3.447853e-02           2
PCC                             3.029127e-02           4
sex                             1.888018e-02           7
thrombocytopenia                2.132004e-02           5
WBRT                            1.420915e-02           9
neutropenia                     1.916439e-02           6
CRP                             1.360883e-02          10
RRT                             1.545113e-02           8
CRRT                            1.225749e-02          12
ICU_cause_intensivist           8.611755e-03          17
Death_Cause                     1.321524e-02          11
SOFA_D1                         1.001682e-02          13
cardiovasc                      7.715088e-03          20
prev_wbrt                       9.365541e-03          15
PLT                             8.001139e-03          19
ICU_mortal30                    9.504570e-03          14
APACH_II                        8.019960e-03          18
BIPAP                           6.075588e-03          24
ANC                             9.020322e-03          16
smk_hx                          6.658764e-03          23
DischargefromICU                7.108593e-03          22
PT_percent                      7.207233e-03          21
MV                              5.854033e-03          27
MV_days                         5.870132e-03          26
respfailure                     4.403065e-03          34
Underlying_DM                   5.048216e-03          31
Hospital_death                  6.050751e-03          25
StageNum                        5.508416e-03          28
ICU_Death                       5.253939e-03          30
histologyNum                    5.311791e-03          29
post2011                        4.386874e-03          35
prev_rtx                        4.277267e-03          37
ICU_LOS                         4.818653e-03          32
age                             4.260914e-03          38
WBC                             4.807319e-03          33
Distatntmets                    4.286454e-03          36
Underlying_stroke               2.939744e-03          47
bacteremia                      4.235945e-03          39
timefromdx                      3.317544e-03          43
Cause_Ca_problem                4.188384e-03          40
BUN                             3.598504e-03          41
Albumin                         3.353571e-03          42
postICUCtx                      2.800712e-03          50
hospital_LOS                    3.177916e-03          46
Pre_PS                          3.180115e-03          45
Surgery                         1.850156e-03          65
PaO2FiO2                        2.895930e-03          48
prev_ctx                        3.299268e-03          44
post_icu_survival               2.735279e-03          51
post_dc_days                    2.872484e-03          49
aPTT                            2.647744e-03          53
procalcitonin                   2.485648e-03          56
SAPS_II                         2.589404e-03          55
performance_ICU_DC              2.724979e-03          52
underlying_pulmo                2.630542e-03          54
NewlyDx                         2.320646e-03          59
Hb                              2.148696e-03          61
Refractory                      2.424631e-03          58
DNR                             2.479319e-03          57
prev_ccrt                       1.913788e-03          62
anemia                          2.247012e-03          60
DNR_at_ICU                      1.877963e-03          63
HD                              1.408061e-03          67
performance_hospital_DC         1.870325e-03          64
Intensivist                     1.748581e-03          66
HFNC                            1.248479e-03          69
PoorPS                          1.285873e-03          68
Tracheostomy                    8.376002e-04          73
hypoalbuminemia                 1.209045e-03          70
PDT                             9.031367e-04          72
pulmocomorbid                   9.788082e-04          71
ICUreadmission                  7.243179e-04          74
dx_after_adm                    5.124656e-04          76
prev_gks                        6.884585e-04          75
Underlying_CV                   4.108844e-04          78
ICUCPR                          4.546369e-04          77
ILD                             1.822190e-04          79
prevCPR                         1.218274e-04          80
PrevICUadm                      1.048053e-04          82
neurology                       1.120957e-04          81
preICUDNR                       8.813116e-05          83
other_malignancy                7.145629e-05          84
CTxinICU                        7.595207e-06          86
ECMO                            6.362509e-05          85
postICURT                       5.947730e-06          87
postICUCPR                     -3.984304e-06          88
                                       features MeanDecreaseGini secondColPos
Vasoactiveagent                 Vasoactiveagent      22.54573457            2
Pneumonia                             Pneumonia      28.40040581            1
AKI                                         AKI      16.50327585            5
PCC                                         PCC      19.11189949            3
sex                                         sex      18.99220608            4
thrombocytopenia               thrombocytopenia      12.41584373            6
WBRT                                       WBRT      11.97157814            7
neutropenia                         neutropenia       9.21502797           11
CRP                                         CRP      10.54492632            8
RRT                                         RRT       9.38481370           10
CRRT                                       CRRT       8.94395431           13
ICU_cause_intensivist     ICU_cause_intensivist      10.37816532            9
Death_Cause                         Death_Cause       5.52304126           16
SOFA_D1                                 SOFA_D1       7.08776779           14
cardiovasc                           cardiovasc       9.00951750           12
prev_wbrt                             prev_wbrt       4.73982604           17
PLT                                         PLT       6.29826296           15
ICU_mortal30                       ICU_mortal30       3.73310363           21
APACH_II                               APACH_II       4.03257748           19
BIPAP                                     BIPAP       4.08644278           18
ANC                                         ANC       3.04311923           27
smk_hx                                   smk_hx       3.79736452           20
DischargefromICU               DischargefromICU       3.25149062           24
PT_percent                           PT_percent       2.99263238           28
MV                                           MV       3.49866840           23
MV_days                                 MV_days       3.10021303           26
respfailure                         respfailure       3.71432671           22
Underlying_DM                     Underlying_DM       3.18946277           25
Hospital_death                   Hospital_death       2.48598856           33
StageNum                               StageNum       2.30443681           34
ICU_Death                             ICU_Death       2.27376607           35
histologyNum                       histologyNum       1.98538296           37
post2011                               post2011       2.63047966           31
prev_rtx                               prev_rtx       2.96077526           29
ICU_LOS                                 ICU_LOS       1.92184766           39
age                                         age       2.02490908           36
WBC                                         WBC       1.69317898           43
Distatntmets                       Distatntmets       1.71534263           42
Underlying_stroke             Underlying_stroke       2.50758299           32
bacteremia                           bacteremia       1.84168498           41
timefromdx                           timefromdx       1.93051523           38
Cause_Ca_problem               Cause_Ca_problem       1.68799327           44
BUN                                         BUN       1.62779444           45
Albumin                                 Albumin       1.61477034           46
postICUCtx                           postICUCtx       1.89949621           40
hospital_LOS                       hospital_LOS       1.54314570           47
Pre_PS                                   Pre_PS       1.36094447           49
Surgery                                 Surgery       2.87565954           30
PaO2FiO2                               PaO2FiO2       1.51160132           48
prev_ctx                               prev_ctx       1.14728854           57
post_icu_survival             post_icu_survival       1.28322509           51
post_dc_days                       post_dc_days       1.22988917           55
aPTT                                       aPTT       1.27574511           53
procalcitonin                     procalcitonin       1.30570878           50
SAPS_II                                 SAPS_II       1.27713415           52
performance_ICU_DC           performance_ICU_DC       1.15036642           56
underlying_pulmo               underlying_pulmo       1.27182482           54
NewlyDx                                 NewlyDx       1.13292979           58
Hb                                           Hb       1.12638457           59
Refractory                           Refractory       0.95644119           62
DNR                                         DNR       0.83553440           64
prev_ccrt                             prev_ccrt       1.01297492           61
anemia                                   anemia       0.80366779           66
DNR_at_ICU                           DNR_at_ICU       0.86235076           63
HD                                           HD       1.03902672           60
performance_hospital_DC performance_hospital_DC       0.82519540           65
Intensivist                         Intensivist       0.78099732           68
HFNC                                       HFNC       0.56795166           70
PoorPS                                   PoorPS       0.52017054           72
Tracheostomy                       Tracheostomy       0.78736950           67
hypoalbuminemia                 hypoalbuminemia       0.55225735           71
PDT                                         PDT       0.74082694           69
pulmocomorbid                     pulmocomorbid       0.49077290           73
ICUreadmission                   ICUreadmission       0.37054497           74
dx_after_adm                       dx_after_adm       0.35998313           75
prev_gks                               prev_gks       0.26124295           77
Underlying_CV                     Underlying_CV       0.27368688           76
ICUCPR                                   ICUCPR       0.21845471           78
ILD                                         ILD       0.14185852           79
prevCPR                                 prevCPR       0.10568229           81
PrevICUadm                           PrevICUadm       0.12137927           80
neurology                             neurology       0.08765120           82
preICUDNR                             preICUDNR       0.08738875           83
other_malignancy               other_malignancy       0.06463943           84
CTxinICU                               CTxinICU       0.03882763           85
ECMO                                       ECMO       0.03868275           86
postICURT                             postICURT       0.03084815           87
postICUCPR                           postICUCPR       0.01666136           88
                        posSum finalPos meanDecreaseAccuracyPosition
Vasoactiveagent              3        1                            1
Pneumonia                    4        2                            3
AKI                          7        3                            2
PCC                          7        4                            4
sex                         11        5                            7
thrombocytopenia            11        6                            5
WBRT                        16        7                            9
neutropenia                 17        8                            6
CRP                         18        9                           10
RRT                         18       10                            8
CRRT                        25       11                           12
ICU_cause_intensivist       26       12                           17
Death_Cause                 27       13                           11
SOFA_D1                     27       14                           13
cardiovasc                  32       15                           20
prev_wbrt                   32       16                           15
PLT                         34       17                           19
ICU_mortal30                35       18                           14
APACH_II                    37       19                           18
BIPAP                       42       20                           24
ANC                         43       21                           16
smk_hx                      43       22                           23
DischargefromICU            46       23                           22
PT_percent                  49       24                           21
MV                          50       25                           27
MV_days                     52       26                           26
respfailure                 56       27                           34
Underlying_DM               56       28                           31
Hospital_death              58       29                           25
StageNum                    62       30                           28
ICU_Death                   65       31                           30
histologyNum                66       32                           29
post2011                    66       33                           35
prev_rtx                    66       34                           37
ICU_LOS                     71       35                           32
age                         74       36                           38
WBC                         76       37                           33
Distatntmets                78       38                           36
Underlying_stroke           79       39                           47
bacteremia                  80       40                           39
timefromdx                  81       41                           43
Cause_Ca_problem            84       42                           40
BUN                         86       43                           41
Albumin                     88       44                           42
postICUCtx                  90       45                           50
hospital_LOS                93       46                           46
Pre_PS                      94       47                           45
Surgery                     95       48                           65
PaO2FiO2                    96       49                           48
prev_ctx                   101       50                           44
post_icu_survival          102       51                           51
post_dc_days               104       52                           49
aPTT                       106       53                           53
procalcitonin              106       54                           56
SAPS_II                    107       55                           55
performance_ICU_DC         108       56                           52
underlying_pulmo           108       57                           54
NewlyDx                    117       58                           59
Hb                         120       59                           61
Refractory                 120       60                           58
DNR                        121       61                           57
prev_ccrt                  123       62                           62
anemia                     126       63                           60
DNR_at_ICU                 126       64                           63
HD                         127       65                           67
performance_hospital_DC    129       66                           64
Intensivist                134       67                           66
HFNC                       139       68                           69
PoorPS                     140       69                           68
Tracheostomy               140       70                           73
hypoalbuminemia            141       71                           70
PDT                        141       72                           72
pulmocomorbid              144       73                           71
ICUreadmission             148       74                           74
dx_after_adm               151       75                           76
prev_gks                   152       76                           75
Underlying_CV              154       77                           78
ICUCPR                     155       78                           77
ILD                        158       79                           79
prevCPR                    161       80                           80
PrevICUadm                 162       81                           82
neurology                  163       82                           81
preICUDNR                  166       83                           83
other_malignancy           168       84                           84
CTxinICU                   171       85                           86
ECMO                       171       86                           85
postICURT                  174       87                           87
postICUCPR                 176       88                           88
                        meanDecreaseGiniPosition aggregatedPosition
Vasoactiveagent                                2                  3
Pneumonia                                      1                  4
AKI                                            5                  7
PCC                                            3                  7
sex                                            4                 11
thrombocytopenia                               6                 11
WBRT                                           7                 16
neutropenia                                   11                 17
CRP                                            8                 18
RRT                                           10                 18
CRRT                                          13                 25
ICU_cause_intensivist                          9                 26
Death_Cause                                   16                 27
SOFA_D1                                       14                 27
cardiovasc                                    12                 32
prev_wbrt                                     17                 32
PLT                                           15                 34
ICU_mortal30                                  21                 35
APACH_II                                      19                 37
BIPAP                                         18                 42
ANC                                           27                 43
smk_hx                                        20                 43
DischargefromICU                              24                 46
PT_percent                                    28                 49
MV                                            23                 50
MV_days                                       26                 52
respfailure                                   22                 56
Underlying_DM                                 25                 56
Hospital_death                                33                 58
StageNum                                      34                 62
ICU_Death                                     35                 65
histologyNum                                  37                 66
post2011                                      31                 66
prev_rtx                                      29                 66
ICU_LOS                                       39                 71
age                                           36                 74
WBC                                           43                 76
Distatntmets                                  42                 78
Underlying_stroke                             32                 79
bacteremia                                    41                 80
timefromdx                                    38                 81
Cause_Ca_problem                              44                 84
BUN                                           45                 86
Albumin                                       46                 88
postICUCtx                                    40                 90
hospital_LOS                                  47                 93
Pre_PS                                        49                 94
Surgery                                       30                 95
PaO2FiO2                                      48                 96
prev_ctx                                      57                101
post_icu_survival                             51                102
post_dc_days                                  55                104
aPTT                                          53                106
procalcitonin                                 50                106
SAPS_II                                       52                107
performance_ICU_DC                            56                108
underlying_pulmo                              54                108
NewlyDx                                       58                117
Hb                                            59                120
Refractory                                    62                120
DNR                                           64                121
prev_ccrt                                     61                123
anemia                                        66                126
DNR_at_ICU                                    63                126
HD                                            60                127
performance_hospital_DC                       65                129
Intensivist                                   68                134
HFNC                                          70                139
PoorPS                                        72                140
Tracheostomy                                  67                140
hypoalbuminemia                               71                141
PDT                                           69                141
pulmocomorbid                                 73                144
ICUreadmission                                74                148
dx_after_adm                                  75                151
prev_gks                                      77                152
Underlying_CV                                 76                154
ICUCPR                                        78                155
ILD                                           79                158
prevCPR                                       81                161
PrevICUadm                                    80                162
neurology                                     82                163
preICUDNR                                     83                166
other_malignancy                              84                168
CTxinICU                                      85                171
ECMO                                          86                171
postICURT                                     87                174
postICUCPR                                    88                176
number of selected top features: 2
selected top features: 
[1] "Vasoactiveagent" "Pneumonia"      

[Training Random Forests classifier on the training set with only the top  2  features]

[Applying the trained Random Forests classifier on the test set with only the top  2  features]

PR AUC (integral) 	0.685556
ROC AUC 		0.8888889

Brier score =  0.182  (best value: 0; worst value: 1)

TOTAL:

 FN =  1  /  8 	 (truth == 1) & (prediction < threshold)
 TP =  7  /  8 	 (truth == 1) & (prediction >= threshold)

 FP =  3  /  18 	 (truth == 0) & (prediction >= threshold)
 TN =  15  /  18 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.672 	 0.778 	 	0.846 	 	0.875 	 	0.833		0.700	 	0.938	 	0.686	0.889

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  2
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  2
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  2
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  2
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  2
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  2
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  2
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  2
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  2
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  2
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
Vasoactiveagent                 4.492966e-02           1
AKI                             3.584062e-02           2
cardiovasc                      3.059263e-02           3
neutropenia                     2.453355e-02           4
Pneumonia                       2.337055e-02           5
prev_ctx                        2.075499e-02           6
CRRT                            1.738940e-02           8
SOFA_D1                         1.893189e-02           7
prev_wbrt                       1.530891e-02           9
bacteremia                      1.357887e-02          11
CRP                             1.383797e-02          10
NewlyDx                         8.887472e-03          13
thrombocytopenia                1.234602e-02          12
ICU_cause_intensivist           7.778102e-03          15
ANC                             8.374611e-03          14
PaO2FiO2                        6.847520e-03          16
APACH_II                        5.907465e-03          21
PT_percent                      6.679750e-03          17
Pre_PS                          5.122449e-03          26
timefromdx                      5.936876e-03          20
prev_gks                        4.457996e-03          30
WBC                             5.834776e-03          22
post_dc_days                    6.248470e-03          19
StageNum                        6.406711e-03          18
PLT                             4.954242e-03          27
PrevICUadm                      4.593089e-03          28
prevCPR                         4.280871e-03          32
SAPS_II                         5.647498e-03          23
Death_Cause                     5.429677e-03          24
ICU_mortal30                    5.154546e-03          25
smk_hx                          4.045336e-03          35
Hb                              3.896473e-03          39
age                             4.246630e-03          33
preICUDNR                       3.665349e-03          42
ICU_LOS                         4.148316e-03          34
procalcitonin                   4.552831e-03          29
BUN                             3.878923e-03          40
anemia                          3.948378e-03          37
MV_days                         4.285670e-03          31
prev_rtx                        4.023667e-03          36
PCC                             3.897856e-03          38
Albumin                         3.683682e-03          41
aPTT                            3.123744e-03          45
ICUreadmission                  1.857253e-03          66
Cause_Ca_problem                3.485014e-03          43
dx_after_adm                    2.539678e-03          51
DischargefromICU                2.968885e-03          46
hospital_LOS                    2.901236e-03          48
ECMO                            2.568875e-03          50
ICU_Death                       3.327437e-03          44
post2011                        2.695560e-03          49
MV                              2.322002e-03          53
post_icu_survival               2.964779e-03          47
performance_ICU_DC              2.527295e-03          52
Intensivist                     2.209332e-03          57
CTxinICU                        2.293924e-03          55
pulmocomorbid                   2.134124e-03          60
PoorPS                          2.258185e-03          56
Refractory                      2.173286e-03          58
respfailure                     2.299217e-03          54
performance_hospital_DC         1.870014e-03          65
Distatntmets                    1.890884e-03          64
hypoalbuminemia                 2.027564e-03          63
Tracheostomy                    1.366130e-03          75
histologyNum                    2.037677e-03          62
HFNC                            2.159136e-03          59
Hospital_death                  2.085955e-03          61
underlying_pulmo                1.688199e-03          69
postICUCtx                      1.535874e-03          71
DNR                             1.637704e-03          70
DNR_at_ICU                      1.761726e-03          68
Underlying_CV                   1.766995e-03          67
Surgery                         1.427021e-03          73
ICUCPR                          1.433783e-03          72
Underlying_DM                   1.395000e-03          74
prev_ccrt                       1.065156e-03          77
Underlying_stroke               1.196764e-03          76
WBRT                            9.070020e-04          78
HD                              8.323976e-04          80
sex                             8.686227e-04          79
BIPAP                           6.479505e-04          81
PDT                             6.110346e-04          82
RRT                             5.561967e-04          83
ILD                             4.693354e-04          84
other_malignancy                1.143940e-04          85
postICUCPR                      4.970593e-05          86
neurology                       4.867598e-05          87
postICURT                       0.000000e+00          88
                                       features MeanDecreaseGini secondColPos
Vasoactiveagent                 Vasoactiveagent      34.38075735            1
AKI                                         AKI      26.02556758            2
cardiovasc                           cardiovasc      22.17507398            3
neutropenia                         neutropenia      21.11242544            4
Pneumonia                             Pneumonia      16.13781611            5
prev_ctx                               prev_ctx      15.57916335            7
CRRT                                       CRRT      15.73749662            6
SOFA_D1                                 SOFA_D1      15.13900692            8
prev_wbrt                             prev_wbrt       9.36919357            9
bacteremia                           bacteremia       7.71414640           10
CRP                                         CRP       5.58592660           13
NewlyDx                                 NewlyDx       7.53445994           11
thrombocytopenia               thrombocytopenia       7.08532380           12
ICU_cause_intensivist     ICU_cause_intensivist       4.95043029           14
ANC                                         ANC       3.93543871           18
PaO2FiO2                               PaO2FiO2       3.44716543           20
APACH_II                               APACH_II       3.98260644           17
PT_percent                           PT_percent       3.23876229           22
Pre_PS                                   Pre_PS       4.01205928           16
timefromdx                           timefromdx       3.16676784           23
prev_gks                               prev_gks       4.19877338           15
WBC                                         WBC       2.86275669           26
post_dc_days                       post_dc_days       2.64923847           31
StageNum                               StageNum       2.64827657           32
PLT                                         PLT       2.86608539           25
PrevICUadm                           PrevICUadm       2.95522044           24
prevCPR                                 prevCPR       3.25470151           21
SAPS_II                                 SAPS_II       2.65349416           30
Death_Cause                         Death_Cause       2.61458294           33
ICU_mortal30                       ICU_mortal30       2.29637085           35
smk_hx                                   smk_hx       2.81078823           28
Hb                                           Hb       2.82143519           27
age                                         age       2.28486470           36
preICUDNR                             preICUDNR       2.72292711           29
ICU_LOS                                 ICU_LOS       2.03935792           38
procalcitonin                     procalcitonin       1.86555921           43
BUN                                         BUN       2.44058051           34
anemia                                   anemia       2.02801660           39
MV_days                                 MV_days       1.69404485           46
prev_rtx                               prev_rtx       1.87651995           42
PCC                                         PCC       1.90879536           41
Albumin                                 Albumin       1.81919448           44
aPTT                                       aPTT       2.00200513           40
ICUreadmission                   ICUreadmission       3.54392206           19
Cause_Ca_problem               Cause_Ca_problem       1.72618430           45
dx_after_adm                       dx_after_adm       2.18099562           37
DischargefromICU               DischargefromICU       1.46971454           49
hospital_LOS                       hospital_LOS       1.56185392           48
ECMO                                       ECMO       1.65855279           47
ICU_Death                             ICU_Death       1.32287181           53
post2011                               post2011       1.33554102           52
MV                                           MV       1.46023633           50
post_icu_survival             post_icu_survival       1.10401488           59
performance_ICU_DC           performance_ICU_DC       1.27128777           55
Intensivist                         Intensivist       1.30496744           54
CTxinICU                               CTxinICU       1.12498939           58
pulmocomorbid                     pulmocomorbid       1.19389449           56
PoorPS                                   PoorPS       1.04043078           63
Refractory                           Refractory       1.05864171           62
respfailure                         respfailure       0.92318247           67
performance_hospital_DC performance_hospital_DC       1.13906802           57
Distatntmets                       Distatntmets       1.08878914           60
hypoalbuminemia                 hypoalbuminemia       1.06841358           61
Tracheostomy                       Tracheostomy       1.36434205           51
histologyNum                       histologyNum       0.95833011           65
HFNC                                       HFNC       0.80843535           72
Hospital_death                   Hospital_death       0.90698722           70
underlying_pulmo               underlying_pulmo       0.95835109           64
postICUCtx                           postICUCtx       0.94975627           66
DNR                                         DNR       0.91100613           68
DNR_at_ICU                           DNR_at_ICU       0.88204407           71
Underlying_CV                     Underlying_CV       0.77681947           73
Surgery                                 Surgery       0.90989052           69
ICUCPR                                   ICUCPR       0.69108149           75
Underlying_DM                     Underlying_DM       0.69138729           74
prev_ccrt                             prev_ccrt       0.67263903           76
Underlying_stroke             Underlying_stroke       0.61122349           77
WBRT                                       WBRT       0.50249043           79
HD                                           HD       0.53987407           78
sex                                         sex       0.48066898           80
BIPAP                                     BIPAP       0.38672392           83
PDT                                         PDT       0.39449861           82
RRT                                         RRT       0.42318491           81
ILD                                         ILD       0.20539408           84
other_malignancy               other_malignancy       0.13194880           85
postICUCPR                           postICUCPR       0.08260584           86
neurology                             neurology       0.04592504           87
postICURT                             postICURT       0.00000000           88
                        posSum finalPos meanDecreaseAccuracyPosition
Vasoactiveagent              2        1                            1
AKI                          4        2                            2
cardiovasc                   6        3                            3
neutropenia                  8        4                            4
Pneumonia                   10        5                            5
prev_ctx                    13        6                            6
CRRT                        14        7                            8
SOFA_D1                     15        8                            7
prev_wbrt                   18        9                            9
bacteremia                  21       10                           11
CRP                         23       11                           10
NewlyDx                     24       12                           13
thrombocytopenia            24       13                           12
ICU_cause_intensivist       29       14                           15
ANC                         32       15                           14
PaO2FiO2                    36       16                           16
APACH_II                    38       17                           21
PT_percent                  39       18                           17
Pre_PS                      42       19                           26
timefromdx                  43       20                           20
prev_gks                    45       21                           30
WBC                         48       22                           22
post_dc_days                50       23                           19
StageNum                    50       24                           18
PLT                         52       25                           27
PrevICUadm                  52       26                           28
prevCPR                     53       27                           32
SAPS_II                     53       28                           23
Death_Cause                 57       29                           24
ICU_mortal30                60       30                           25
smk_hx                      63       31                           35
Hb                          66       32                           39
age                         69       33                           33
preICUDNR                   71       34                           42
ICU_LOS                     72       35                           34
procalcitonin               72       36                           29
BUN                         74       37                           40
anemia                      76       38                           37
MV_days                     77       39                           31
prev_rtx                    78       40                           36
PCC                         79       41                           38
Albumin                     85       42                           41
aPTT                        85       43                           45
ICUreadmission              85       44                           66
Cause_Ca_problem            88       45                           43
dx_after_adm                88       46                           51
DischargefromICU            95       47                           46
hospital_LOS                96       48                           48
ECMO                        97       49                           50
ICU_Death                   97       50                           44
post2011                   101       51                           49
MV                         103       52                           53
post_icu_survival          106       53                           47
performance_ICU_DC         107       54                           52
Intensivist                111       55                           57
CTxinICU                   113       56                           55
pulmocomorbid              116       57                           60
PoorPS                     119       58                           56
Refractory                 120       59                           58
respfailure                121       60                           54
performance_hospital_DC    122       61                           65
Distatntmets               124       62                           64
hypoalbuminemia            124       63                           63
Tracheostomy               126       64                           75
histologyNum               127       65                           62
HFNC                       131       66                           59
Hospital_death             131       67                           61
underlying_pulmo           133       68                           69
postICUCtx                 137       69                           71
DNR                        138       70                           70
DNR_at_ICU                 139       71                           68
Underlying_CV              140       72                           67
Surgery                    142       73                           73
ICUCPR                     147       74                           72
Underlying_DM              148       75                           74
prev_ccrt                  153       76                           77
Underlying_stroke          153       77                           76
WBRT                       157       78                           78
HD                         158       79                           80
sex                        159       80                           79
BIPAP                      164       81                           81
PDT                        164       82                           82
RRT                        164       83                           83
ILD                        168       84                           84
other_malignancy           170       85                           85
postICUCPR                 172       86                           86
neurology                  174       87                           87
postICURT                  176       88                           88
                        meanDecreaseGiniPosition aggregatedPosition
Vasoactiveagent                                1                  2
AKI                                            2                  4
cardiovasc                                     3                  6
neutropenia                                    4                  8
Pneumonia                                      5                 10
prev_ctx                                       7                 13
CRRT                                           6                 14
SOFA_D1                                        8                 15
prev_wbrt                                      9                 18
bacteremia                                    10                 21
CRP                                           13                 23
NewlyDx                                       11                 24
thrombocytopenia                              12                 24
ICU_cause_intensivist                         14                 29
ANC                                           18                 32
PaO2FiO2                                      20                 36
APACH_II                                      17                 38
PT_percent                                    22                 39
Pre_PS                                        16                 42
timefromdx                                    23                 43
prev_gks                                      15                 45
WBC                                           26                 48
post_dc_days                                  31                 50
StageNum                                      32                 50
PLT                                           25                 52
PrevICUadm                                    24                 52
prevCPR                                       21                 53
SAPS_II                                       30                 53
Death_Cause                                   33                 57
ICU_mortal30                                  35                 60
smk_hx                                        28                 63
Hb                                            27                 66
age                                           36                 69
preICUDNR                                     29                 71
ICU_LOS                                       38                 72
procalcitonin                                 43                 72
BUN                                           34                 74
anemia                                        39                 76
MV_days                                       46                 77
prev_rtx                                      42                 78
PCC                                           41                 79
Albumin                                       44                 85
aPTT                                          40                 85
ICUreadmission                                19                 85
Cause_Ca_problem                              45                 88
dx_after_adm                                  37                 88
DischargefromICU                              49                 95
hospital_LOS                                  48                 96
ECMO                                          47                 97
ICU_Death                                     53                 97
post2011                                      52                101
MV                                            50                103
post_icu_survival                             59                106
performance_ICU_DC                            55                107
Intensivist                                   54                111
CTxinICU                                      58                113
pulmocomorbid                                 56                116
PoorPS                                        63                119
Refractory                                    62                120
respfailure                                   67                121
performance_hospital_DC                       57                122
Distatntmets                                  60                124
hypoalbuminemia                               61                124
Tracheostomy                                  51                126
histologyNum                                  65                127
HFNC                                          72                131
Hospital_death                                70                131
underlying_pulmo                              64                133
postICUCtx                                    66                137
DNR                                           68                138
DNR_at_ICU                                    71                139
Underlying_CV                                 73                140
Surgery                                       69                142
ICUCPR                                        75                147
Underlying_DM                                 74                148
prev_ccrt                                     76                153
Underlying_stroke                             77                153
WBRT                                          79                157
HD                                            78                158
sex                                           80                159
BIPAP                                         83                164
PDT                                           82                164
RRT                                           81                164
ILD                                           84                168
other_malignancy                              85                170
postICUCPR                                    86                172
neurology                                     87                174
postICURT                                     88                176
number of selected top features: 2
selected top features: 
[1] "Vasoactiveagent" "AKI"            

[Training Random Forests classifier on the training set with only the top  2  features]

[Applying the trained Random Forests classifier on the test set with only the top  2  features]

PR AUC (integral) 	0.4588498
ROC AUC 		0.8

Brier score =  0.274  (best value: 0; worst value: 1)

TOTAL:

 FN =  0  /  6 	 (truth == 1) & (prediction < threshold)
 TP =  6  /  6 	 (truth == 1) & (prediction >= threshold)

 FP =  11  /  20 	 (truth == 0) & (prediction >= threshold)
 TN =  9  /  20 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.399 	 0.522 	 	0.577 	 	1.000 	 	0.450		0.353	 	1.000	 	0.459	0.800

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  3
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  3
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  3
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  3
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  3
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  3
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  3
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  3
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  3
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  3
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
ILD                             3.620504e-02           1
neutropenia                     3.108888e-02           3
Death_Cause                     3.414628e-02           2
BUN                             2.566106e-02           4
Vasoactiveagent                 2.354388e-02           5
Hospital_death                  1.638890e-02           9
PT_percent                      2.185423e-02           6
SOFA_D1                         2.009040e-02           8
cardiovasc                      1.452494e-02          11
AKI                             2.140265e-02           7
prev_ctx                        1.324682e-02          14
underlying_pulmo                1.551026e-02          10
ECMO                            1.390219e-02          12
ANC                             1.331478e-02          13
aPTT                            1.244305e-02          15
ICU_cause_intensivist           8.834560e-03          19
PCC                             9.575123e-03          17
Pneumonia                       9.011535e-03          18
WBC                             1.104018e-02          16
prev_rtx                        7.815845e-03          21
ICU_mortal30                    6.082977e-03          25
ICUCPR                          8.416621e-03          20
NewlyDx                         7.571159e-03          22
post_icu_survival               5.662756e-03          26
ICU_Death                       5.127731e-03          30
CRRT                            7.342032e-03          23
MV                              5.504205e-03          28
PLT                             6.624588e-03          24
pulmocomorbid                   5.554664e-03          27
SAPS_II                         5.265514e-03          29
BIPAP                           4.547377e-03          32
timefromdx                      4.796893e-03          31
Tracheostomy                    3.298776e-03          39
APACH_II                        4.438884e-03          33
Distatntmets                    3.834115e-03          36
MV_days                         4.429824e-03          34
hospital_LOS                    4.012130e-03          35
procalcitonin                   3.546872e-03          38
CRP                             3.786484e-03          37
age                             3.283464e-03          41
HD                              2.731800e-03          45
CTxinICU                        2.527701e-03          49
Albumin                         2.955176e-03          43
post2011                        3.285011e-03          40
Cause_Ca_problem                3.219163e-03          42
Intensivist                     2.884328e-03          44
respfailure                     2.572825e-03          48
performance_hospital_DC         2.475585e-03          50
thrombocytopenia                2.689377e-03          46
hypoalbuminemia                 2.685515e-03          47
ICU_LOS                         2.224476e-03          52
Hb                              1.994771e-03          56
DischargefromICU                2.245396e-03          51
PaO2FiO2                        2.202126e-03          54
other_malignancy                1.352943e-03          65
anemia                          1.950129e-03          57
bacteremia                      2.147521e-03          55
prev_wbrt                       2.216734e-03          53
StageNum                        1.929202e-03          58
sex                             1.690860e-03          61
prev_ccrt                       1.797311e-03          59
performance_ICU_DC              1.581179e-03          63
Surgery                         1.529590e-03          64
histologyNum                    1.707137e-03          60
post_dc_days                    1.675625e-03          62
Pre_PS                          1.312765e-03          67
postICUCtx                      1.139695e-03          72
Refractory                      1.346388e-03          66
DNR                             1.165376e-03          71
DNR_at_ICU                      1.300518e-03          68
smk_hx                          1.172566e-03          70
PoorPS                          1.256586e-03          69
preICUDNR                       8.047491e-04          76
neurology                       1.015883e-03          73
RRT                             8.133054e-04          75
Underlying_CV                   6.585073e-04          79
prevCPR                         7.624587e-04          77
Underlying_DM                   8.403000e-04          74
HFNC                            7.449132e-04          78
ICUreadmission                  4.527062e-04          80
WBRT                            2.966628e-04          82
dx_after_adm                    3.404100e-04          81
PDT                             2.216188e-04          83
postICUCPR                      1.604288e-04          85
prev_gks                        1.890442e-04          84
PrevICUadm                      2.531964e-05          87
Underlying_stroke               2.918079e-05          86
postICURT                       2.304680e-05          88
                                       features MeanDecreaseGini secondColPos
ILD                                         ILD     23.609393196            2
neutropenia                         neutropenia     27.015610202            1
Death_Cause                         Death_Cause     21.664094008            3
BUN                                         BUN     18.233036954            4
Vasoactiveagent                 Vasoactiveagent     14.228519407            6
Hospital_death                   Hospital_death     17.172152037            5
PT_percent                           PT_percent      9.777288503           10
SOFA_D1                                 SOFA_D1     10.531425845            9
cardiovasc                           cardiovasc     12.783023685            8
AKI                                         AKI      7.050174215           14
prev_ctx                               prev_ctx     13.697124812            7
underlying_pulmo               underlying_pulmo      9.475735451           11
ECMO                                       ECMO      8.189764194           12
ANC                                         ANC      5.521119907           17
aPTT                                       aPTT      6.969704000           15
ICU_cause_intensivist     ICU_cause_intensivist      7.966709712           13
PCC                                         PCC      6.002104382           16
Pneumonia                             Pneumonia      4.865531657           20
WBC                                         WBC      4.270458917           23
prev_rtx                               prev_rtx      4.783845559           22
ICU_mortal30                       ICU_mortal30      4.865568950           19
ICUCPR                                   ICUCPR      3.854289490           26
NewlyDx                                 NewlyDx      3.981783560           25
post_icu_survival             post_icu_survival      4.850707886           21
ICU_Death                             ICU_Death      4.938156879           18
CRRT                                       CRRT      3.085351519           29
MV                                           MV      4.155132129           24
PLT                                         PLT      2.947702757           31
pulmocomorbid                     pulmocomorbid      3.250372599           28
SAPS_II                                 SAPS_II      2.976984942           30
BIPAP                                     BIPAP      2.348643663           32
timefromdx                           timefromdx      2.270028093           33
Tracheostomy                       Tracheostomy      3.716040628           27
APACH_II                               APACH_II      2.201635609           34
Distatntmets                       Distatntmets      2.018599714           35
MV_days                                 MV_days      1.930816279           37
hospital_LOS                       hospital_LOS      1.786439519           39
procalcitonin                     procalcitonin      1.637218178           40
CRP                                         CRP      1.495208291           42
age                                         age      1.591363181           41
HD                                           HD      1.910210830           38
CTxinICU                               CTxinICU      1.949494328           36
Albumin                                 Albumin      1.491826609           43
post2011                               post2011      1.453429803           46
Cause_Ca_problem               Cause_Ca_problem      1.246745953           48
Intensivist                         Intensivist      1.223724670           49
respfailure                         respfailure      1.462429498           45
performance_hospital_DC performance_hospital_DC      1.379586224           47
thrombocytopenia               thrombocytopenia      1.205021136           51
hypoalbuminemia                 hypoalbuminemia      1.122900645           53
ICU_LOS                                 ICU_LOS      1.136264968           52
Hb                                           Hb      1.205632657           50
DischargefromICU               DischargefromICU      0.884086669           57
PaO2FiO2                               PaO2FiO2      1.098849738           54
other_malignancy               other_malignancy      1.480087824           44
anemia                                   anemia      1.065420059           55
bacteremia                           bacteremia      0.857200237           59
prev_wbrt                             prev_wbrt      0.840231527           62
StageNum                               StageNum      0.871786042           58
sex                                         sex      0.926358594           56
prev_ccrt                             prev_ccrt      0.821622682           63
performance_ICU_DC           performance_ICU_DC      0.844880082           61
Surgery                                 Surgery      0.845969577           60
histologyNum                       histologyNum      0.711201954           66
post_dc_days                       post_dc_days      0.742302339           65
Pre_PS                                   Pre_PS      0.706174617           67
postICUCtx                           postICUCtx      0.789139468           64
Refractory                           Refractory      0.598510044           71
DNR                                         DNR      0.635139771           69
DNR_at_ICU                           DNR_at_ICU      0.574825507           72
smk_hx                                   smk_hx      0.617845943           70
PoorPS                                   PoorPS      0.532855189           74
preICUDNR                             preICUDNR      0.638135738           68
neurology                             neurology      0.521166667           75
RRT                                         RRT      0.437644291           77
Underlying_CV                     Underlying_CV      0.534582810           73
prevCPR                                 prevCPR      0.512510250           76
Underlying_DM                     Underlying_DM      0.362380481           79
HFNC                                       HFNC      0.391727981           78
ICUreadmission                   ICUreadmission      0.216559312           80
WBRT                                       WBRT      0.202701270           81
dx_after_adm                       dx_after_adm      0.184117007           83
PDT                                         PDT      0.169432086           84
postICUCPR                           postICUCPR      0.193368148           82
prev_gks                               prev_gks      0.147809043           85
PrevICUadm                           PrevICUadm      0.047684976           86
Underlying_stroke             Underlying_stroke      0.032835898           87
postICURT                             postICURT      0.008457323           88
                        posSum finalPos meanDecreaseAccuracyPosition
ILD                          3        1                            1
neutropenia                  4        2                            3
Death_Cause                  5        3                            2
BUN                          8        4                            4
Vasoactiveagent             11        5                            5
Hospital_death              14        6                            9
PT_percent                  16        7                            6
SOFA_D1                     17        8                            8
cardiovasc                  19        9                           11
AKI                         21       10                            7
prev_ctx                    21       11                           14
underlying_pulmo            21       12                           10
ECMO                        24       13                           12
ANC                         30       14                           13
aPTT                        30       15                           15
ICU_cause_intensivist       32       16                           19
PCC                         33       17                           17
Pneumonia                   38       18                           18
WBC                         39       19                           16
prev_rtx                    43       20                           21
ICU_mortal30                44       21                           25
ICUCPR                      46       22                           20
NewlyDx                     47       23                           22
post_icu_survival           47       24                           26
ICU_Death                   48       25                           30
CRRT                        52       26                           23
MV                          52       27                           28
PLT                         55       28                           24
pulmocomorbid               55       29                           27
SAPS_II                     59       30                           29
BIPAP                       64       31                           32
timefromdx                  64       32                           31
Tracheostomy                66       33                           39
APACH_II                    67       34                           33
Distatntmets                71       35                           36
MV_days                     71       36                           34
hospital_LOS                74       37                           35
procalcitonin               78       38                           38
CRP                         79       39                           37
age                         82       40                           41
HD                          83       41                           45
CTxinICU                    85       42                           49
Albumin                     86       43                           43
post2011                    86       44                           40
Cause_Ca_problem            90       45                           42
Intensivist                 93       46                           44
respfailure                 93       47                           48
performance_hospital_DC     97       48                           50
thrombocytopenia            97       49                           46
hypoalbuminemia            100       50                           47
ICU_LOS                    104       51                           52
Hb                         106       52                           56
DischargefromICU           108       53                           51
PaO2FiO2                   108       54                           54
other_malignancy           109       55                           65
anemia                     112       56                           57
bacteremia                 114       57                           55
prev_wbrt                  115       58                           53
StageNum                   116       59                           58
sex                        117       60                           61
prev_ccrt                  122       61                           59
performance_ICU_DC         124       62                           63
Surgery                    124       63                           64
histologyNum               126       64                           60
post_dc_days               127       65                           62
Pre_PS                     134       66                           67
postICUCtx                 136       67                           72
Refractory                 137       68                           66
DNR                        140       69                           71
DNR_at_ICU                 140       70                           68
smk_hx                     140       71                           70
PoorPS                     143       72                           69
preICUDNR                  144       73                           76
neurology                  148       74                           73
RRT                        152       75                           75
Underlying_CV              152       76                           79
prevCPR                    153       77                           77
Underlying_DM              153       78                           74
HFNC                       156       79                           78
ICUreadmission             160       80                           80
WBRT                       163       81                           82
dx_after_adm               164       82                           81
PDT                        167       83                           83
postICUCPR                 167       84                           85
prev_gks                   169       85                           84
PrevICUadm                 173       86                           87
Underlying_stroke          173       87                           86
postICURT                  176       88                           88
                        meanDecreaseGiniPosition aggregatedPosition
ILD                                            2                  3
neutropenia                                    1                  4
Death_Cause                                    3                  5
BUN                                            4                  8
Vasoactiveagent                                6                 11
Hospital_death                                 5                 14
PT_percent                                    10                 16
SOFA_D1                                        9                 17
cardiovasc                                     8                 19
AKI                                           14                 21
prev_ctx                                       7                 21
underlying_pulmo                              11                 21
ECMO                                          12                 24
ANC                                           17                 30
aPTT                                          15                 30
ICU_cause_intensivist                         13                 32
PCC                                           16                 33
Pneumonia                                     20                 38
WBC                                           23                 39
prev_rtx                                      22                 43
ICU_mortal30                                  19                 44
ICUCPR                                        26                 46
NewlyDx                                       25                 47
post_icu_survival                             21                 47
ICU_Death                                     18                 48
CRRT                                          29                 52
MV                                            24                 52
PLT                                           31                 55
pulmocomorbid                                 28                 55
SAPS_II                                       30                 59
BIPAP                                         32                 64
timefromdx                                    33                 64
Tracheostomy                                  27                 66
APACH_II                                      34                 67
Distatntmets                                  35                 71
MV_days                                       37                 71
hospital_LOS                                  39                 74
procalcitonin                                 40                 78
CRP                                           42                 79
age                                           41                 82
HD                                            38                 83
CTxinICU                                      36                 85
Albumin                                       43                 86
post2011                                      46                 86
Cause_Ca_problem                              48                 90
Intensivist                                   49                 93
respfailure                                   45                 93
performance_hospital_DC                       47                 97
thrombocytopenia                              51                 97
hypoalbuminemia                               53                100
ICU_LOS                                       52                104
Hb                                            50                106
DischargefromICU                              57                108
PaO2FiO2                                      54                108
other_malignancy                              44                109
anemia                                        55                112
bacteremia                                    59                114
prev_wbrt                                     62                115
StageNum                                      58                116
sex                                           56                117
prev_ccrt                                     63                122
performance_ICU_DC                            61                124
Surgery                                       60                124
histologyNum                                  66                126
post_dc_days                                  65                127
Pre_PS                                        67                134
postICUCtx                                    64                136
Refractory                                    71                137
DNR                                           69                140
DNR_at_ICU                                    72                140
smk_hx                                        70                140
PoorPS                                        74                143
preICUDNR                                     68                144
neurology                                     75                148
RRT                                           77                152
Underlying_CV                                 73                152
prevCPR                                       76                153
Underlying_DM                                 79                153
HFNC                                          78                156
ICUreadmission                                80                160
WBRT                                          81                163
dx_after_adm                                  83                164
PDT                                           84                167
postICUCPR                                    82                167
prev_gks                                      85                169
PrevICUadm                                    86                173
Underlying_stroke                             87                173
postICURT                                     88                176
number of selected top features: 2
selected top features: 
[1] "ILD"         "neutropenia"

[Training Random Forests classifier on the training set with only the top  2  features]

[Applying the trained Random Forests classifier on the test set with only the top  2  features]

PR AUC (integral) 	0.3162169
ROC AUC 		0.5791667

Brier score =  0.192  (best value: 0; worst value: 1)

TOTAL:

 FN =  5  /  6 	 (truth == 1) & (prediction < threshold)
 TP =  1  /  6 	 (truth == 1) & (prediction >= threshold)

 FP =  1  /  20 	 (truth == 0) & (prediction >= threshold)
 TN =  19  /  20 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.184 	 0.250 	 	0.769 	 	0.167 	 	0.950		0.500	 	0.792	 	0.316	0.579

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  4
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  4
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  4
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  4
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  4
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  4
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  4
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  4
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  4
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  4
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
Vasoactiveagent                 3.899526e-02           1
thrombocytopenia                3.603166e-02           3
AKI                             3.629249e-02           2
neutropenia                     2.892580e-02           4
PT_percent                      2.603275e-02           6
SOFA_D1                         2.813768e-02           5
pulmocomorbid                   1.836273e-02          10
underlying_pulmo                1.875739e-02           9
BUN                             1.931048e-02           7
ANC                             1.895586e-02           8
Albumin                         1.621733e-02          12
WBC                             1.724905e-02          11
PCC                             1.423939e-02          13
CRRT                            9.980412e-03          18
Pneumonia                       1.355314e-02          16
Death_Cause                     1.389617e-02          14
PLT                             1.362526e-02          15
SAPS_II                         1.212813e-02          17
APACH_II                        6.549377e-03          19
postICURT                       5.048519e-03          22
aPTT                            4.119641e-03          24
hypoalbuminemia                 6.468402e-03          20
PaO2FiO2                        3.879671e-03          26
Cause_Ca_problem                5.127423e-03          21
Underlying_DM                   4.649112e-03          23
HD                              3.443652e-03          28
ICUCPR                          3.143188e-03          31
Hb                              3.471729e-03          27
timefromdx                      3.167598e-03          30
post2011                        4.066445e-03          25
Pre_PS                          3.134420e-03          32
CTxinICU                        3.338312e-03          29
age                             3.129841e-03          33
bacteremia                      2.941024e-03          35
CRP                             2.936312e-03          36
anemia                          3.013817e-03          34
hospital_LOS                    2.819137e-03          38
prev_rtx                        2.857017e-03          37
ICU_LOS                         2.374905e-03          43
histologyNum                    2.634081e-03          40
ICU_mortal30                    2.760120e-03          39
MV_days                         2.304551e-03          44
other_malignancy                1.975997e-03          53
StageNum                        2.119988e-03          48
procalcitonin                   2.263266e-03          45
DNR                             2.608564e-03          41
ICU_cause_intensivist           2.003177e-03          51
PoorPS                          2.407294e-03          42
post_dc_days                    2.173852e-03          47
prev_wbrt                       1.820145e-03          54
performance_ICU_DC              1.979947e-03          52
Distatntmets                    2.064946e-03          50
Refractory                      2.072903e-03          49
Intensivist                     2.188576e-03          46
DNR_at_ICU                      1.750808e-03          55
performance_hospital_DC         1.449022e-03          59
preICUDNR                       1.344344e-03          61
ICU_Death                       1.485416e-03          58
prev_ccrt                       1.583668e-03          57
Underlying_CV                   9.550988e-04          69
Surgery                         1.277643e-03          64
sex                             1.286697e-03          63
post_icu_survival               1.302156e-03          62
cardiovasc                      9.797665e-04          68
ILD                             1.701507e-03          56
DischargefromICU                1.186967e-03          65
Hospital_death                  1.059625e-03          67
ECMO                            1.412067e-03          60
HFNC                            1.125570e-03          66
respfailure                     8.910225e-04          70
MV                              8.619020e-04          72
WBRT                            7.640264e-04          74
NewlyDx                         8.809033e-04          71
RRT                             7.157745e-04          75
prevCPR                         8.607332e-04          73
prev_ctx                        6.801969e-04          77
neurology                       5.198631e-04          80
smk_hx                          7.061465e-04          76
postICUCtx                      5.376499e-04          79
PrevICUadm                      6.290954e-04          78
ICUreadmission                  3.150360e-04          82
prev_gks                        4.840159e-04          81
Underlying_stroke               2.768619e-04          84
Tracheostomy                    3.033556e-04          83
dx_after_adm                    1.921832e-04          86
PDT                             2.023986e-04          85
BIPAP                           1.496333e-04          87
postICUCPR                      1.285043e-05          88
                                       features MeanDecreaseGini secondColPos
Vasoactiveagent                 Vasoactiveagent      27.76158875            1
thrombocytopenia               thrombocytopenia      26.18060068            2
AKI                                         AKI      21.25687450            4
neutropenia                         neutropenia      25.23210214            3
PT_percent                           PT_percent      17.53089333            5
SOFA_D1                                 SOFA_D1      14.06107216            8
pulmocomorbid                     pulmocomorbid      15.56991502            6
underlying_pulmo               underlying_pulmo      14.71620997            7
BUN                                         BUN      11.50339777           10
ANC                                         ANC       9.05864732           11
Albumin                                 Albumin      12.56225707            9
WBC                                         WBC       7.50660345           14
PCC                                         PCC       7.90419866           13
CRRT                                       CRRT       8.33187828           12
Pneumonia                             Pneumonia       6.81554939           15
Death_Cause                         Death_Cause       5.09586291           18
PLT                                         PLT       5.92704015           17
SAPS_II                                 SAPS_II       6.64801643           16
APACH_II                               APACH_II       2.67663982           23
postICURT                             postICURT       2.78050323           20
aPTT                                       aPTT       2.86025084           19
hypoalbuminemia                 hypoalbuminemia       2.47505565           24
PaO2FiO2                               PaO2FiO2       2.72955840           21
Cause_Ca_problem               Cause_Ca_problem       2.00667385           27
Underlying_DM                     Underlying_DM       2.02795306           26
HD                                           HD       2.05674472           25
ICUCPR                                   ICUCPR       2.70536227           22
Hb                                           Hb       1.96120281           28
timefromdx                           timefromdx       1.74909020           29
post2011                               post2011       1.43156727           35
Pre_PS                                   Pre_PS       1.70720329           30
CTxinICU                               CTxinICU       1.39335253           36
age                                         age       1.50798131           33
bacteremia                           bacteremia       1.56334802           32
CRP                                         CRP       1.61821271           31
anemia                                   anemia       1.37693118           38
hospital_LOS                       hospital_LOS       1.38868045           37
prev_rtx                               prev_rtx       1.31934741           39
ICU_LOS                                 ICU_LOS       1.25565292           40
histologyNum                       histologyNum       1.19568809           44
ICU_mortal30                       ICU_mortal30       1.09944747           47
MV_days                                 MV_days       1.21244731           43
other_malignancy               other_malignancy       1.44835422           34
StageNum                               StageNum       1.21656181           42
procalcitonin                     procalcitonin       1.16764238           46
DNR                                         DNR       0.95279896           51
ICU_cause_intensivist     ICU_cause_intensivist       1.22245754           41
PoorPS                                   PoorPS       1.01280639           50
post_dc_days                       post_dc_days       1.06552756           49
prev_wbrt                             prev_wbrt       1.18629594           45
performance_ICU_DC           performance_ICU_DC       1.07339325           48
Distatntmets                       Distatntmets       0.84729994           53
Refractory                           Refractory       0.83289734           55
Intensivist                         Intensivist       0.73189049           59
DNR_at_ICU                           DNR_at_ICU       0.84275396           54
performance_hospital_DC performance_hospital_DC       0.82323469           56
preICUDNR                             preICUDNR       0.75563257           57
ICU_Death                             ICU_Death       0.68243223           62
prev_ccrt                             prev_ccrt       0.63862843           63
Underlying_CV                     Underlying_CV       0.85720821           52
Surgery                                 Surgery       0.74597785           58
sex                                         sex       0.69890656           61
post_icu_survival             post_icu_survival       0.63528943           64
cardiovasc                           cardiovasc       0.72254567           60
ILD                                         ILD       0.47485829           72
DischargefromICU               DischargefromICU       0.60728403           65
Hospital_death                   Hospital_death       0.58747113           67
ECMO                                       ECMO       0.44194190           76
HFNC                                       HFNC       0.51868215           70
respfailure                         respfailure       0.60697756           66
MV                                           MV       0.51952450           69
WBRT                                       WBRT       0.55845858           68
NewlyDx                                 NewlyDx       0.46575833           74
RRT                                         RRT       0.50024483           71
prevCPR                                 prevCPR       0.40930893           77
prev_ctx                               prev_ctx       0.45240432           75
neurology                             neurology       0.46577384           73
smk_hx                                   smk_hx       0.36418071           79
postICUCtx                           postICUCtx       0.37418939           78
PrevICUadm                           PrevICUadm       0.36113863           80
ICUreadmission                   ICUreadmission       0.31187205           81
prev_gks                               prev_gks       0.27786852           83
Underlying_stroke             Underlying_stroke       0.31132071           82
Tracheostomy                       Tracheostomy       0.18123977           85
dx_after_adm                       dx_after_adm       0.19192851           84
PDT                                         PDT       0.12333598           86
BIPAP                                     BIPAP       0.07609744           87
postICUCPR                           postICUCPR       0.02437483           88
                        posSum finalPos meanDecreaseAccuracyPosition
Vasoactiveagent              2        1                            1
thrombocytopenia             5        2                            3
AKI                          6        3                            2
neutropenia                  7        4                            4
PT_percent                  11        5                            6
SOFA_D1                     13        6                            5
pulmocomorbid               16        7                           10
underlying_pulmo            16        8                            9
BUN                         17        9                            7
ANC                         19       10                            8
Albumin                     21       11                           12
WBC                         25       12                           11
PCC                         26       13                           13
CRRT                        30       14                           18
Pneumonia                   31       15                           16
Death_Cause                 32       16                           14
PLT                         32       17                           15
SAPS_II                     33       18                           17
APACH_II                    42       19                           19
postICURT                   42       20                           22
aPTT                        43       21                           24
hypoalbuminemia             44       22                           20
PaO2FiO2                    47       23                           26
Cause_Ca_problem            48       24                           21
Underlying_DM               49       25                           23
HD                          53       26                           28
ICUCPR                      53       27                           31
Hb                          55       28                           27
timefromdx                  59       29                           30
post2011                    60       30                           25
Pre_PS                      62       31                           32
CTxinICU                    65       32                           29
age                         66       33                           33
bacteremia                  67       34                           35
CRP                         67       35                           36
anemia                      72       36                           34
hospital_LOS                75       37                           38
prev_rtx                    76       38                           37
ICU_LOS                     83       39                           43
histologyNum                84       40                           40
ICU_mortal30                86       41                           39
MV_days                     87       42                           44
other_malignancy            87       43                           53
StageNum                    90       44                           48
procalcitonin               91       45                           45
DNR                         92       46                           41
ICU_cause_intensivist       92       47                           51
PoorPS                      92       48                           42
post_dc_days                96       49                           47
prev_wbrt                   99       50                           54
performance_ICU_DC         100       51                           52
Distatntmets               103       52                           50
Refractory                 104       53                           49
Intensivist                105       54                           46
DNR_at_ICU                 109       55                           55
performance_hospital_DC    115       56                           59
preICUDNR                  118       57                           61
ICU_Death                  120       58                           58
prev_ccrt                  120       59                           57
Underlying_CV              121       60                           69
Surgery                    122       61                           64
sex                        124       62                           63
post_icu_survival          126       63                           62
cardiovasc                 128       64                           68
ILD                        128       65                           56
DischargefromICU           130       66                           65
Hospital_death             134       67                           67
ECMO                       136       68                           60
HFNC                       136       69                           66
respfailure                136       70                           70
MV                         141       71                           72
WBRT                       142       72                           74
NewlyDx                    145       73                           71
RRT                        146       74                           75
prevCPR                    150       75                           73
prev_ctx                   152       76                           77
neurology                  153       77                           80
smk_hx                     155       78                           76
postICUCtx                 157       79                           79
PrevICUadm                 158       80                           78
ICUreadmission             163       81                           82
prev_gks                   164       82                           81
Underlying_stroke          166       83                           84
Tracheostomy               168       84                           83
dx_after_adm               170       85                           86
PDT                        171       86                           85
BIPAP                      174       87                           87
postICUCPR                 176       88                           88
                        meanDecreaseGiniPosition aggregatedPosition
Vasoactiveagent                                1                  2
thrombocytopenia                               2                  5
AKI                                            4                  6
neutropenia                                    3                  7
PT_percent                                     5                 11
SOFA_D1                                        8                 13
pulmocomorbid                                  6                 16
underlying_pulmo                               7                 16
BUN                                           10                 17
ANC                                           11                 19
Albumin                                        9                 21
WBC                                           14                 25
PCC                                           13                 26
CRRT                                          12                 30
Pneumonia                                     15                 31
Death_Cause                                   18                 32
PLT                                           17                 32
SAPS_II                                       16                 33
APACH_II                                      23                 42
postICURT                                     20                 42
aPTT                                          19                 43
hypoalbuminemia                               24                 44
PaO2FiO2                                      21                 47
Cause_Ca_problem                              27                 48
Underlying_DM                                 26                 49
HD                                            25                 53
ICUCPR                                        22                 53
Hb                                            28                 55
timefromdx                                    29                 59
post2011                                      35                 60
Pre_PS                                        30                 62
CTxinICU                                      36                 65
age                                           33                 66
bacteremia                                    32                 67
CRP                                           31                 67
anemia                                        38                 72
hospital_LOS                                  37                 75
prev_rtx                                      39                 76
ICU_LOS                                       40                 83
histologyNum                                  44                 84
ICU_mortal30                                  47                 86
MV_days                                       43                 87
other_malignancy                              34                 87
StageNum                                      42                 90
procalcitonin                                 46                 91
DNR                                           51                 92
ICU_cause_intensivist                         41                 92
PoorPS                                        50                 92
post_dc_days                                  49                 96
prev_wbrt                                     45                 99
performance_ICU_DC                            48                100
Distatntmets                                  53                103
Refractory                                    55                104
Intensivist                                   59                105
DNR_at_ICU                                    54                109
performance_hospital_DC                       56                115
preICUDNR                                     57                118
ICU_Death                                     62                120
prev_ccrt                                     63                120
Underlying_CV                                 52                121
Surgery                                       58                122
sex                                           61                124
post_icu_survival                             64                126
cardiovasc                                    60                128
ILD                                           72                128
DischargefromICU                              65                130
Hospital_death                                67                134
ECMO                                          76                136
HFNC                                          70                136
respfailure                                   66                136
MV                                            69                141
WBRT                                          68                142
NewlyDx                                       74                145
RRT                                           71                146
prevCPR                                       77                150
prev_ctx                                      75                152
neurology                                     73                153
smk_hx                                        79                155
postICUCtx                                    78                157
PrevICUadm                                    80                158
ICUreadmission                                81                163
prev_gks                                      83                164
Underlying_stroke                             82                166
Tracheostomy                                  85                168
dx_after_adm                                  84                170
PDT                                           86                171
BIPAP                                         87                174
postICUCPR                                    88                176
number of selected top features: 2
selected top features: 
[1] "Vasoactiveagent"  "thrombocytopenia"

[Training Random Forests classifier on the training set with only the top  2  features]

[Applying the trained Random Forests classifier on the test set with only the top  2  features]

PR AUC (integral) 	0.4530337
ROC AUC 		0.6388889

Brier score =  0.319  (best value: 0; worst value: 1)

TOTAL:

 FN =  2  /  8 	 (truth == 1) & (prediction < threshold)
 TP =  6  /  8 	 (truth == 1) & (prediction >= threshold)

 FP =  9  /  18 	 (truth == 0) & (prediction >= threshold)
 TN =  9  /  18 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.234 	 0.522 	 	0.577 	 	0.750 	 	0.500		0.400	 	0.818	 	0.453	0.639

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  5
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  5
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  5
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  5
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  5
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  5
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  5
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  5
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  5
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  5
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
Vasoactiveagent                 6.823734e-02           1
CRRT                            2.386719e-02           3
SOFA_D1                         3.185744e-02           2
cardiovasc                      2.010790e-02           5
APACH_II                        2.020468e-02           4
hypoalbuminemia                 1.878725e-02           7
neutropenia                     1.896933e-02           6
thrombocytopenia                1.819251e-02           9
SAPS_II                         1.419833e-02          11
prev_wbrt                       1.516437e-02          10
Death_Cause                     1.868517e-02           8
PLT                             1.197990e-02          14
AKI                             1.399075e-02          12
BUN                             1.219897e-02          13
RRT                             1.037159e-02          16
Hb                              9.802177e-03          17
WBC                             1.072587e-02          15
DischargefromICU                7.199489e-03          23
PCC                             7.445108e-03          21
ANC                             8.682023e-03          18
hospital_LOS                    7.554541e-03          20
Albumin                         7.321325e-03          22
ICU_mortal30                    7.883477e-03          19
HD                              5.477000e-03          25
Pre_PS                          6.694408e-03          24
anemia                          4.769596e-03          29
Cause_Ca_problem                5.408606e-03          26
smk_hx                          4.791487e-03          28
dx_after_adm                    3.192279e-03          42
PT_percent                      5.218986e-03          27
timefromdx                      3.961617e-03          30
Underlying_stroke               3.762292e-03          36
bacteremia                      3.319089e-03          40
ICUCPR                          3.263761e-03          41
sex                             3.814227e-03          34
aPTT                            3.472230e-03          38
ICU_Death                       3.818017e-03          33
post_dc_days                    3.853890e-03          32
CRP                             3.773625e-03          35
Pneumonia                       3.883655e-03          31
Underlying_DM                   3.023723e-03          44
MV_days                         3.586660e-03          37
ICU_cause_intensivist           3.362858e-03          39
PaO2FiO2                        3.092126e-03          43
ICU_LOS                         2.968755e-03          46
PoorPS                          3.012732e-03          45
underlying_pulmo                2.353465e-03          47
age                             2.097814e-03          51
Hospital_death                  2.115230e-03          49
post_icu_survival               2.103089e-03          50
HFNC                            2.191039e-03          48
histologyNum                    1.877104e-03          53
prev_rtx                        1.402432e-03          54
pulmocomorbid                   2.045876e-03          52
performance_ICU_DC              1.373536e-03          55
MV                              1.260785e-03          57
Surgery                         1.273455e-03          56
CTxinICU                        1.239422e-03          59
prev_ctx                        1.098408e-03          65
performance_hospital_DC         1.154053e-03          63
procalcitonin                   1.182125e-03          61
prev_ccrt                       1.082718e-03          66
respfailure                     1.240892e-03          58
ILD                             1.035284e-03          67
post2011                        1.202194e-03          60
Distatntmets                    1.133277e-03          64
Refractory                      1.172913e-03          62
DNR                             9.035982e-04          70
prevCPR                         9.163722e-04          69
StageNum                        8.953899e-04          71
postICUCtx                      9.781263e-04          68
DNR_at_ICU                      7.867612e-04          73
Intensivist                     8.890772e-04          72
prev_gks                        6.034110e-04          76
NewlyDx                         7.072920e-04          74
WBRT                            6.182484e-04          75
other_malignancy                3.689559e-04          77
ECMO                            2.234504e-04          79
ICUreadmission                  2.520397e-04          78
neurology                       1.643791e-04          81
preICUDNR                       1.965397e-04          80
PrevICUadm                      8.912027e-05          83
PDT                             1.094571e-04          82
Underlying_CV                   7.901129e-05          84
BIPAP                           2.970264e-05          86
Tracheostomy                    6.166762e-05          85
postICUCPR                      0.000000e+00          87
postICURT                       0.000000e+00          88
                                       features MeanDecreaseGini secondColPos
Vasoactiveagent                 Vasoactiveagent     42.966104721            1
CRRT                                       CRRT     24.400220700            2
SOFA_D1                                 SOFA_D1     21.553483265            3
cardiovasc                           cardiovasc     13.477055690            5
APACH_II                               APACH_II     12.466269393            8
hypoalbuminemia                 hypoalbuminemia     13.196794257            6
neutropenia                         neutropenia     12.840559136            7
thrombocytopenia               thrombocytopenia     17.090348654            4
SAPS_II                                 SAPS_II     10.997514087            9
prev_wbrt                             prev_wbrt      8.071209233           11
Death_Cause                         Death_Cause      6.232994246           15
PLT                                         PLT      8.208405625           10
AKI                                         AKI      6.850436980           13
BUN                                         BUN      6.832311803           14
RRT                                         RRT      8.021079934           12
Hb                                           Hb      5.519209577           17
WBC                                         WBC      4.870003660           19
DischargefromICU               DischargefromICU      6.077241797           16
PCC                                         PCC      3.961371964           20
ANC                                         ANC      3.491724944           24
hospital_LOS                       hospital_LOS      3.550656642           22
Albumin                                 Albumin      3.508857248           23
ICU_mortal30                       ICU_mortal30      3.312615668           26
HD                                           HD      3.730706494           21
Pre_PS                                   Pre_PS      3.306819297           27
anemia                                   anemia      3.367506875           25
Cause_Ca_problem               Cause_Ca_problem      2.099264374           33
smk_hx                                   smk_hx      2.585893410           31
dx_after_adm                       dx_after_adm      5.035567104           18
PT_percent                           PT_percent      1.867792234           35
timefromdx                           timefromdx      1.743656222           37
Underlying_stroke             Underlying_stroke      2.334133935           32
bacteremia                           bacteremia      2.670144522           29
ICUCPR                                   ICUCPR      3.038033504           28
sex                                         sex      1.815834114           36
aPTT                                       aPTT      1.954911153           34
ICU_Death                             ICU_Death      1.712048806           39
post_dc_days                       post_dc_days      1.517787045           40
CRP                                         CRP      1.720510512           38
Pneumonia                             Pneumonia      1.412965789           42
Underlying_DM                     Underlying_DM      2.636386373           30
MV_days                                 MV_days      1.429081748           41
ICU_cause_intensivist     ICU_cause_intensivist      1.251525756           46
PaO2FiO2                               PaO2FiO2      1.393675856           43
ICU_LOS                                 ICU_LOS      1.320228755           44
PoorPS                                   PoorPS      1.302135165           45
underlying_pulmo               underlying_pulmo      1.011057079           47
age                                         age      0.972875323           48
Hospital_death                   Hospital_death      0.758810965           51
post_icu_survival             post_icu_survival      0.768802908           50
HFNC                                       HFNC      0.691782512           53
histologyNum                       histologyNum      0.883216711           49
prev_rtx                               prev_rtx      0.701080484           52
pulmocomorbid                     pulmocomorbid      0.671846208           54
performance_ICU_DC           performance_ICU_DC      0.546191016           59
MV                                           MV      0.535300263           62
Surgery                                 Surgery      0.527511647           63
CTxinICU                               CTxinICU      0.536370398           61
prev_ctx                               prev_ctx      0.668252123           55
performance_hospital_DC performance_hospital_DC      0.551017663           58
procalcitonin                     procalcitonin      0.536863768           60
prev_ccrt                             prev_ccrt      0.637231824           56
respfailure                         respfailure      0.512033398           64
ILD                                         ILD      0.571151551           57
post2011                               post2011      0.488740385           65
Distatntmets                       Distatntmets      0.475587310           66
Refractory                           Refractory      0.416274248           70
DNR                                         DNR      0.460189685           67
prevCPR                                 prevCPR      0.438753167           69
StageNum                               StageNum      0.457706479           68
postICUCtx                           postICUCtx      0.336164518           75
DNR_at_ICU                           DNR_at_ICU      0.396824731           72
Intensivist                         Intensivist      0.362242159           73
prev_gks                               prev_gks      0.404084612           71
NewlyDx                                 NewlyDx      0.356708432           74
WBRT                                       WBRT      0.295230809           76
other_malignancy               other_malignancy      0.239383909           77
ECMO                                       ECMO      0.196161792           78
ICUreadmission                   ICUreadmission      0.168466385           79
neurology                             neurology      0.147726764           80
preICUDNR                             preICUDNR      0.130995799           82
PrevICUadm                           PrevICUadm      0.144271597           81
PDT                                         PDT      0.112313992           83
Underlying_CV                     Underlying_CV      0.091334672           84
BIPAP                                     BIPAP      0.081114923           85
Tracheostomy                       Tracheostomy      0.044491043           86
postICUCPR                           postICUCPR      0.003168504           87
postICURT                             postICURT      0.000000000           88
                        posSum finalPos meanDecreaseAccuracyPosition
Vasoactiveagent              2        1                            1
CRRT                         5        2                            3
SOFA_D1                      5        3                            2
cardiovasc                  10        4                            5
APACH_II                    12        5                            4
hypoalbuminemia             13        6                            7
neutropenia                 13        7                            6
thrombocytopenia            13        8                            9
SAPS_II                     20        9                           11
prev_wbrt                   21       10                           10
Death_Cause                 23       11                            8
PLT                         24       12                           14
AKI                         25       13                           12
BUN                         27       14                           13
RRT                         28       15                           16
Hb                          34       16                           17
WBC                         34       17                           15
DischargefromICU            39       18                           23
PCC                         41       19                           21
ANC                         42       20                           18
hospital_LOS                42       21                           20
Albumin                     45       22                           22
ICU_mortal30                45       23                           19
HD                          46       24                           25
Pre_PS                      51       25                           24
anemia                      54       26                           29
Cause_Ca_problem            59       27                           26
smk_hx                      59       28                           28
dx_after_adm                60       29                           42
PT_percent                  62       30                           27
timefromdx                  67       31                           30
Underlying_stroke           68       32                           36
bacteremia                  69       33                           40
ICUCPR                      69       34                           41
sex                         70       35                           34
aPTT                        72       36                           38
ICU_Death                   72       37                           33
post_dc_days                72       38                           32
CRP                         73       39                           35
Pneumonia                   73       40                           31
Underlying_DM               74       41                           44
MV_days                     78       42                           37
ICU_cause_intensivist       85       43                           39
PaO2FiO2                    86       44                           43
ICU_LOS                     90       45                           46
PoorPS                      90       46                           45
underlying_pulmo            94       47                           47
age                         99       48                           51
Hospital_death             100       49                           49
post_icu_survival          100       50                           50
HFNC                       101       51                           48
histologyNum               102       52                           53
prev_rtx                   106       53                           54
pulmocomorbid              106       54                           52
performance_ICU_DC         114       55                           55
MV                         119       56                           57
Surgery                    119       57                           56
CTxinICU                   120       58                           59
prev_ctx                   120       59                           65
performance_hospital_DC    121       60                           63
procalcitonin              121       61                           61
prev_ccrt                  122       62                           66
respfailure                122       63                           58
ILD                        124       64                           67
post2011                   125       65                           60
Distatntmets               130       66                           64
Refractory                 132       67                           62
DNR                        137       68                           70
prevCPR                    138       69                           69
StageNum                   139       70                           71
postICUCtx                 143       71                           68
DNR_at_ICU                 145       72                           73
Intensivist                145       73                           72
prev_gks                   147       74                           76
NewlyDx                    148       75                           74
WBRT                       151       76                           75
other_malignancy           154       77                           77
ECMO                       157       78                           79
ICUreadmission             157       79                           78
neurology                  161       80                           81
preICUDNR                  162       81                           80
PrevICUadm                 164       82                           83
PDT                        165       83                           82
Underlying_CV              168       84                           84
BIPAP                      171       85                           86
Tracheostomy               171       86                           85
postICUCPR                 174       87                           87
postICURT                  176       88                           88
                        meanDecreaseGiniPosition aggregatedPosition
Vasoactiveagent                                1                  2
CRRT                                           2                  5
SOFA_D1                                        3                  5
cardiovasc                                     5                 10
APACH_II                                       8                 12
hypoalbuminemia                                6                 13
neutropenia                                    7                 13
thrombocytopenia                               4                 13
SAPS_II                                        9                 20
prev_wbrt                                     11                 21
Death_Cause                                   15                 23
PLT                                           10                 24
AKI                                           13                 25
BUN                                           14                 27
RRT                                           12                 28
Hb                                            17                 34
WBC                                           19                 34
DischargefromICU                              16                 39
PCC                                           20                 41
ANC                                           24                 42
hospital_LOS                                  22                 42
Albumin                                       23                 45
ICU_mortal30                                  26                 45
HD                                            21                 46
Pre_PS                                        27                 51
anemia                                        25                 54
Cause_Ca_problem                              33                 59
smk_hx                                        31                 59
dx_after_adm                                  18                 60
PT_percent                                    35                 62
timefromdx                                    37                 67
Underlying_stroke                             32                 68
bacteremia                                    29                 69
ICUCPR                                        28                 69
sex                                           36                 70
aPTT                                          34                 72
ICU_Death                                     39                 72
post_dc_days                                  40                 72
CRP                                           38                 73
Pneumonia                                     42                 73
Underlying_DM                                 30                 74
MV_days                                       41                 78
ICU_cause_intensivist                         46                 85
PaO2FiO2                                      43                 86
ICU_LOS                                       44                 90
PoorPS                                        45                 90
underlying_pulmo                              47                 94
age                                           48                 99
Hospital_death                                51                100
post_icu_survival                             50                100
HFNC                                          53                101
histologyNum                                  49                102
prev_rtx                                      52                106
pulmocomorbid                                 54                106
performance_ICU_DC                            59                114
MV                                            62                119
Surgery                                       63                119
CTxinICU                                      61                120
prev_ctx                                      55                120
performance_hospital_DC                       58                121
procalcitonin                                 60                121
prev_ccrt                                     56                122
respfailure                                   64                122
ILD                                           57                124
post2011                                      65                125
Distatntmets                                  66                130
Refractory                                    70                132
DNR                                           67                137
prevCPR                                       69                138
StageNum                                      68                139
postICUCtx                                    75                143
DNR_at_ICU                                    72                145
Intensivist                                   73                145
prev_gks                                      71                147
NewlyDx                                       74                148
WBRT                                          76                151
other_malignancy                              77                154
ECMO                                          78                157
ICUreadmission                                79                157
neurology                                     80                161
preICUDNR                                     82                162
PrevICUadm                                    81                164
PDT                                           83                165
Underlying_CV                                 84                168
BIPAP                                         85                171
Tracheostomy                                  86                171
postICUCPR                                    87                174
postICURT                                     88                176
number of selected top features: 2
selected top features: 
[1] "Vasoactiveagent" "CRRT"           

[Training Random Forests classifier on the training set with only the top  2  features]

[Applying the trained Random Forests classifier on the test set with only the top  2  features]

PR AUC (integral) 	0.7190241
ROC AUC 		0.8090278

Brier score =  0.361  (best value: 0; worst value: 1)

TOTAL:

 FN =  0  /  8 	 (truth == 1) & (prediction < threshold)
 TP =  8  /  8 	 (truth == 1) & (prediction >= threshold)

 FP =  11  /  18 	 (truth == 0) & (prediction >= threshold)
 TN =  7  /  18 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.405 	 0.593 	 	0.577 	 	1.000 	 	0.389		0.421	 	1.000	 	0.719	0.809

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  6
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  6
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  6
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  6
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  6
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  6
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  6
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  6
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  6
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  6
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
Vasoactiveagent                 7.522389e-02           1
AKI                             2.276073e-02           3
SOFA_D1                         2.485535e-02           2
CRRT                            1.787931e-02           5
Death_Cause                     1.887430e-02           4
bacteremia                      1.747699e-02           6
CRP                             1.494475e-02           8
post_icu_survival               1.223926e-02          11
Hospital_death                  1.270965e-02           9
PT_percent                      1.083870e-02          14
Pneumonia                       1.584555e-02           7
neutropenia                     1.243390e-02          10
performance_hospital_DC         1.146266e-02          13
thrombocytopenia                9.600213e-03          17
pulmocomorbid                   8.319438e-03          20
underlying_pulmo                9.556743e-03          18
prev_wbrt                       1.205678e-02          12
Hb                              9.259614e-03          19
APACH_II                        1.025955e-02          15
aPTT                            9.660978e-03          16
postICUCtx                      5.364275e-03          29
age                             7.323947e-03          22
ICU_mortal30                    7.808804e-03          21
performance_ICU_DC              6.099372e-03          25
prev_ccrt                       6.001727e-03          26
ICU_Death                       7.251236e-03          23
NewlyDx                         5.650421e-03          27
ANC                             6.289538e-03          24
Underlying_CV                   4.138788e-03          41
Refractory                      4.276660e-03          38
SAPS_II                         5.505657e-03          28
RRT                             4.418243e-03          36
WBC                             5.127182e-03          30
Albumin                         4.793697e-03          32
anemia                          4.371239e-03          37
Cause_Ca_problem                5.111522e-03          31
MV                              4.186702e-03          40
StageNum                        3.365601e-03          44
timefromdx                      4.519269e-03          35
BUN                             4.682631e-03          33
MV_days                         4.584635e-03          34
PLT                             4.228838e-03          39
DNR                             3.879691e-03          42
Intensivist                     3.517130e-03          43
procalcitonin                   3.206431e-03          48
DischargefromICU                3.301510e-03          45
Pre_PS                          3.098503e-03          49
post_dc_days                    3.243789e-03          46
histologyNum                    3.226953e-03          47
PaO2FiO2                        3.069768e-03          50
Surgery                         2.542989e-03          57
ICU_LOS                         2.987409e-03          52
prev_rtx                        2.740257e-03          54
BIPAP                           3.053502e-03          51
DNR_at_ICU                      2.702947e-03          55
ICUCPR                          9.497450e-04          73
hypoalbuminemia                 2.776996e-03          53
respfailure                     2.483284e-03          58
hospital_LOS                    2.211164e-03          60
HD                              2.595923e-03          56
ILD                             1.952374e-03          61
prev_ctx                        2.386932e-03          59
PoorPS                          1.798505e-03          64
ICU_cause_intensivist           1.886051e-03          62
smk_hx                          1.817780e-03          63
post2011                        1.763049e-03          65
Distatntmets                    1.576898e-03          67
HFNC                            1.758162e-03          66
neurology                       1.431869e-03          68
PDT                             1.199314e-03          69
prevCPR                         1.102551e-03          70
Underlying_DM                   9.251854e-04          74
cardiovasc                      1.045297e-03          71
ICUreadmission                  9.245745e-04          75
Tracheostomy                    6.628741e-04          76
PCC                             9.844095e-04          72
WBRT                            6.306517e-04          77
dx_after_adm                    4.804887e-04          78
Underlying_stroke               4.532290e-04          80
other_malignancy                4.446278e-04          81
postICUCPR                      4.612373e-04          79
prev_gks                        2.676563e-04          83
sex                             2.940763e-04          82
CTxinICU                        1.649127e-04          84
PrevICUadm                      1.275680e-04          85
preICUDNR                       7.524312e-05          86
postICURT                       5.281966e-05          87
ECMO                            1.362790e-05          88
                                       features MeanDecreaseGini secondColPos
Vasoactiveagent                 Vasoactiveagent      48.63553780            1
AKI                                         AKI      20.34887174            2
SOFA_D1                                 SOFA_D1      15.62495719            4
CRRT                                       CRRT      16.02613009            3
Death_Cause                         Death_Cause      10.16637389            8
bacteremia                           bacteremia      10.31298351            7
CRP                                         CRP      13.15000865            5
post_icu_survival             post_icu_survival      11.36559011            6
Hospital_death                   Hospital_death       6.54068152           15
PT_percent                           PT_percent       7.61461487           11
Pneumonia                             Pneumonia       4.98781011           19
neutropenia                         neutropenia       6.02087682           17
performance_hospital_DC performance_hospital_DC       6.42853604           16
thrombocytopenia               thrombocytopenia       7.59929228           12
pulmocomorbid                     pulmocomorbid       7.85550455           10
underlying_pulmo               underlying_pulmo       7.06979331           13
prev_wbrt                             prev_wbrt       4.90130070           20
Hb                                           Hb       6.82017374           14
APACH_II                               APACH_II       4.81685902           21
aPTT                                       aPTT       4.37105567           22
postICUCtx                           postICUCtx       8.53876676            9
age                                         age       4.07630799           23
ICU_mortal30                       ICU_mortal30       3.48290420           28
performance_ICU_DC           performance_ICU_DC       3.71948677           26
prev_ccrt                             prev_ccrt       3.77435731           25
ICU_Death                             ICU_Death       3.25151924           31
NewlyDx                                 NewlyDx       3.62635048           27
ANC                                         ANC       3.09618762           32
Underlying_CV                     Underlying_CV       5.22811167           18
Refractory                           Refractory       4.04031664           24
SAPS_II                                 SAPS_II       2.80824050           34
RRT                                         RRT       3.40893821           30
WBC                                         WBC       2.30020671           37
Albumin                                 Albumin       2.41675711           36
anemia                                   anemia       2.64114535           35
Cause_Ca_problem               Cause_Ca_problem       2.07449241           42
MV                                           MV       2.87729020           33
StageNum                               StageNum       3.45982093           29
timefromdx                           timefromdx       2.19877009           38
BUN                                         BUN       2.07631784           41
MV_days                                 MV_days       2.11637543           40
PLT                                         PLT       1.95019109           45
DNR                                         DNR       2.02695655           44
Intensivist                         Intensivist       1.66017386           48
procalcitonin                     procalcitonin       2.06124214           43
DischargefromICU               DischargefromICU       1.65546804           49
Pre_PS                                   Pre_PS       1.92175258           47
post_dc_days                       post_dc_days       1.55398796           51
histologyNum                       histologyNum       1.51260909           53
PaO2FiO2                               PaO2FiO2       1.58270405           50
Surgery                                 Surgery       1.93245822           46
ICU_LOS                                 ICU_LOS       1.45303227           54
prev_rtx                               prev_rtx       1.51328310           52
BIPAP                                     BIPAP       1.25092895           58
DNR_at_ICU                           DNR_at_ICU       1.39125771           55
ICUCPR                                   ICUCPR       2.14556768           39
hypoalbuminemia                 hypoalbuminemia       1.08726151           60
respfailure                         respfailure       1.29330715           56
hospital_LOS                       hospital_LOS       1.28910707           57
HD                                           HD       1.06228809           62
ILD                                         ILD       1.08483104           61
prev_ctx                               prev_ctx       1.05830275           63
PoorPS                                   PoorPS       1.19394628           59
ICU_cause_intensivist     ICU_cause_intensivist       0.91537473           65
smk_hx                                   smk_hx       0.97258543           64
post2011                               post2011       0.84236608           67
Distatntmets                       Distatntmets       0.85146600           66
HFNC                                       HFNC       0.75810823           69
neurology                             neurology       0.79582073           68
PDT                                         PDT       0.67583880           70
prevCPR                                 prevCPR       0.58499915           72
Underlying_DM                     Underlying_DM       0.59824339           71
cardiovasc                           cardiovasc       0.46429683           75
ICUreadmission                   ICUreadmission       0.52954372           73
Tracheostomy                       Tracheostomy       0.51803654           74
PCC                                         PCC       0.29980994           80
WBRT                                       WBRT       0.43547756           76
dx_after_adm                       dx_after_adm       0.42145876           77
Underlying_stroke             Underlying_stroke       0.41678982           78
other_malignancy               other_malignancy       0.34305371           79
postICUCPR                           postICUCPR       0.15053112           84
prev_gks                               prev_gks       0.22573494           81
sex                                         sex       0.21149579           82
CTxinICU                               CTxinICU       0.15426371           83
PrevICUadm                           PrevICUadm       0.12064294           85
preICUDNR                             preICUDNR       0.11427154           86
postICURT                             postICURT       0.09477115           87
ECMO                                       ECMO       0.01630848           88
                        posSum finalPos meanDecreaseAccuracyPosition
Vasoactiveagent              2        1                            1
AKI                          5        2                            3
SOFA_D1                      6        3                            2
CRRT                         8        4                            5
Death_Cause                 12        5                            4
bacteremia                  13        6                            6
CRP                         13        7                            8
post_icu_survival           17        8                           11
Hospital_death              24        9                            9
PT_percent                  25       10                           14
Pneumonia                   26       11                            7
neutropenia                 27       12                           10
performance_hospital_DC     29       13                           13
thrombocytopenia            29       14                           17
pulmocomorbid               30       15                           20
underlying_pulmo            31       16                           18
prev_wbrt                   32       17                           12
Hb                          33       18                           19
APACH_II                    36       19                           15
aPTT                        38       20                           16
postICUCtx                  38       21                           29
age                         45       22                           22
ICU_mortal30                49       23                           21
performance_ICU_DC          51       24                           25
prev_ccrt                   51       25                           26
ICU_Death                   54       26                           23
NewlyDx                     54       27                           27
ANC                         56       28                           24
Underlying_CV               59       29                           41
Refractory                  62       30                           38
SAPS_II                     62       31                           28
RRT                         66       32                           36
WBC                         67       33                           30
Albumin                     68       34                           32
anemia                      72       35                           37
Cause_Ca_problem            73       36                           31
MV                          73       37                           40
StageNum                    73       38                           44
timefromdx                  73       39                           35
BUN                         74       40                           33
MV_days                     74       41                           34
PLT                         84       42                           39
DNR                         86       43                           42
Intensivist                 91       44                           43
procalcitonin               91       45                           48
DischargefromICU            94       46                           45
Pre_PS                      96       47                           49
post_dc_days                97       48                           46
histologyNum               100       49                           47
PaO2FiO2                   100       50                           50
Surgery                    103       51                           57
ICU_LOS                    106       52                           52
prev_rtx                   106       53                           54
BIPAP                      109       54                           51
DNR_at_ICU                 110       55                           55
ICUCPR                     112       56                           73
hypoalbuminemia            113       57                           53
respfailure                114       58                           58
hospital_LOS               117       59                           60
HD                         118       60                           56
ILD                        122       61                           61
prev_ctx                   122       62                           59
PoorPS                     123       63                           64
ICU_cause_intensivist      127       64                           62
smk_hx                     127       65                           63
post2011                   132       66                           65
Distatntmets               133       67                           67
HFNC                       135       68                           66
neurology                  136       69                           68
PDT                        139       70                           69
prevCPR                    142       71                           70
Underlying_DM              145       72                           74
cardiovasc                 146       73                           71
ICUreadmission             148       74                           75
Tracheostomy               150       75                           76
PCC                        152       76                           72
WBRT                       153       77                           77
dx_after_adm               155       78                           78
Underlying_stroke          158       79                           80
other_malignancy           160       80                           81
postICUCPR                 163       81                           79
prev_gks                   164       82                           83
sex                        164       83                           82
CTxinICU                   167       84                           84
PrevICUadm                 170       85                           85
preICUDNR                  172       86                           86
postICURT                  174       87                           87
ECMO                       176       88                           88
                        meanDecreaseGiniPosition aggregatedPosition
Vasoactiveagent                                1                  2
AKI                                            2                  5
SOFA_D1                                        4                  6
CRRT                                           3                  8
Death_Cause                                    8                 12
bacteremia                                     7                 13
CRP                                            5                 13
post_icu_survival                              6                 17
Hospital_death                                15                 24
PT_percent                                    11                 25
Pneumonia                                     19                 26
neutropenia                                   17                 27
performance_hospital_DC                       16                 29
thrombocytopenia                              12                 29
pulmocomorbid                                 10                 30
underlying_pulmo                              13                 31
prev_wbrt                                     20                 32
Hb                                            14                 33
APACH_II                                      21                 36
aPTT                                          22                 38
postICUCtx                                     9                 38
age                                           23                 45
ICU_mortal30                                  28                 49
performance_ICU_DC                            26                 51
prev_ccrt                                     25                 51
ICU_Death                                     31                 54
NewlyDx                                       27                 54
ANC                                           32                 56
Underlying_CV                                 18                 59
Refractory                                    24                 62
SAPS_II                                       34                 62
RRT                                           30                 66
WBC                                           37                 67
Albumin                                       36                 68
anemia                                        35                 72
Cause_Ca_problem                              42                 73
MV                                            33                 73
StageNum                                      29                 73
timefromdx                                    38                 73
BUN                                           41                 74
MV_days                                       40                 74
PLT                                           45                 84
DNR                                           44                 86
Intensivist                                   48                 91
procalcitonin                                 43                 91
DischargefromICU                              49                 94
Pre_PS                                        47                 96
post_dc_days                                  51                 97
histologyNum                                  53                100
PaO2FiO2                                      50                100
Surgery                                       46                103
ICU_LOS                                       54                106
prev_rtx                                      52                106
BIPAP                                         58                109
DNR_at_ICU                                    55                110
ICUCPR                                        39                112
hypoalbuminemia                               60                113
respfailure                                   56                114
hospital_LOS                                  57                117
HD                                            62                118
ILD                                           61                122
prev_ctx                                      63                122
PoorPS                                        59                123
ICU_cause_intensivist                         65                127
smk_hx                                        64                127
post2011                                      67                132
Distatntmets                                  66                133
HFNC                                          69                135
neurology                                     68                136
PDT                                           70                139
prevCPR                                       72                142
Underlying_DM                                 71                145
cardiovasc                                    75                146
ICUreadmission                                73                148
Tracheostomy                                  74                150
PCC                                           80                152
WBRT                                          76                153
dx_after_adm                                  77                155
Underlying_stroke                             78                158
other_malignancy                              79                160
postICUCPR                                    84                163
prev_gks                                      81                164
sex                                           82                164
CTxinICU                                      83                167
PrevICUadm                                    85                170
preICUDNR                                     86                172
postICURT                                     87                174
ECMO                                          88                176
number of selected top features: 2
selected top features: 
[1] "Vasoactiveagent" "AKI"            

[Training Random Forests classifier on the training set with only the top  2  features]

[Applying the trained Random Forests classifier on the test set with only the top  2  features]

PR AUC (integral) 	0.2686211
ROC AUC 		0.7047619

Brier score =  0.291  (best value: 0; worst value: 1)

TOTAL:

 FN =  0  /  5 	 (truth == 1) & (prediction < threshold)
 TP =  5  /  5 	 (truth == 1) & (prediction >= threshold)

 FP =  9  /  21 	 (truth == 0) & (prediction >= threshold)
 TN =  12  /  21 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.452 	 0.526 	 	0.654 	 	1.000 	 	0.571		0.357	 	1.000	 	0.269	0.705

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  7
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  7
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  7
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  7
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  7
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  7
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  7
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  7
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  7
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  7
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
Vasoactiveagent                 9.026828e-02           1
RRT                             3.679728e-02           2
neutropenia                     2.993128e-02           3
Pneumonia                       2.066145e-02           4
SOFA_D1                         1.753062e-02           6
AKI                             1.515893e-02           7
Death_Cause                     1.984841e-02           5
MV_days                         1.367959e-02           9
CRP                             1.396132e-02           8
PCC                             1.105450e-02          13
thrombocytopenia                1.323247e-02          10
cardiovasc                      8.723811e-03          15
ANC                             1.185373e-02          12
BUN                             1.221209e-02          11
ICU_cause_intensivist           7.216713e-03          19
ICU_mortal30                    9.146136e-03          14
WBC                             8.326319e-03          16
DischargefromICU                7.677922e-03          18
ICU_Death                       8.147094e-03          17
prev_ccrt                       6.419747e-03          21
Hospital_death                  6.951228e-03          20
post_icu_survival               5.878655e-03          23
prev_wbrt                       6.181638e-03          22
prev_gks                        4.780104e-03          29
Cause_Ca_problem                5.742801e-03          24
CRRT                            5.033105e-03          28
Albumin                         5.271280e-03          25
APACH_II                        5.084533e-03          27
pulmocomorbid                   4.603421e-03          31
Underlying_DM                   5.249233e-03          26
SAPS_II                         4.661823e-03          30
underlying_pulmo                4.399527e-03          33
ICU_LOS                         4.432214e-03          32
MV                              3.584757e-03          40
prev_ctx                        2.824358e-03          45
PT_percent                      4.328342e-03          34
age                             3.393199e-03          41
DNR                             4.090319e-03          36
post_dc_days                    4.084272e-03          37
Surgery                         3.727400e-03          39
PLT                             4.090386e-03          35
aPTT                            3.049758e-03          43
bacteremia                      3.950894e-03          38
timefromdx                      3.262916e-03          42
hospital_LOS                    2.936180e-03          44
PaO2FiO2                        2.743978e-03          46
prevCPR                         2.297474e-03          51
StageNum                        2.580130e-03          47
ICUreadmission                  2.021360e-03          56
performance_hospital_DC         2.487067e-03          49
performance_ICU_DC              2.523795e-03          48
Hb                              2.234196e-03          53
Intensivist                     2.144729e-03          54
postICUCtx                      1.567099e-03          65
prev_rtx                        2.239380e-03          52
Distatntmets                    2.319372e-03          50
histologyNum                    1.990004e-03          57
respfailure                     1.983866e-03          58
hypoalbuminemia                 2.115105e-03          55
ICUCPR                          1.363165e-03          69
neurology                       1.674479e-03          62
procalcitonin                   1.761514e-03          60
anemia                          1.773939e-03          59
DNR_at_ICU                      1.712139e-03          61
NewlyDx                         1.628435e-03          64
sex                             1.629357e-03          63
Pre_PS                          1.372359e-03          68
HFNC                            1.539586e-03          66
ECMO                            1.053094e-03          71
Refractory                      1.429130e-03          67
PoorPS                          1.073658e-03          70
Tracheostomy                    1.028342e-03          72
other_malignancy                7.694209e-04          75
ILD                             9.037305e-04          74
Underlying_CV                   9.634637e-04          73
post2011                        6.800633e-04          76
PDT                             6.468189e-04          77
CTxinICU                        5.463955e-04          79
PrevICUadm                      4.159364e-04          80
smk_hx                          5.559766e-04          78
BIPAP                           3.682310e-04          81
WBRT                            3.007577e-04          82
Underlying_stroke               2.539201e-04          83
dx_after_adm                    2.126806e-04          84
HD                              1.700823e-04          85
preICUDNR                       5.147175e-06          86
postICUCPR                      2.500000e-06          88
postICURT                       3.400615e-06          87
                                       features MeanDecreaseGini secondColPos
Vasoactiveagent                 Vasoactiveagent     53.691026167            1
RRT                                         RRT     29.547852024            2
neutropenia                         neutropenia     22.378428365            3
Pneumonia                             Pneumonia     15.601324694            4
SOFA_D1                                 SOFA_D1     12.977476258            5
AKI                                         AKI      9.434021548            6
Death_Cause                         Death_Cause      8.605014412            9
MV_days                                 MV_days      8.858428297            8
CRP                                         CRP      7.728915298           12
PCC                                         PCC      9.144477031            7
thrombocytopenia               thrombocytopenia      8.253420914           11
cardiovasc                           cardiovasc      8.499604007           10
ANC                                         ANC      7.094321182           14
BUN                                         BUN      6.158882737           15
ICU_cause_intensivist     ICU_cause_intensivist      7.362377326           13
ICU_mortal30                       ICU_mortal30      4.473950843           19
WBC                                         WBC      5.648577130           17
DischargefromICU               DischargefromICU      5.220428506           18
ICU_Death                             ICU_Death      4.408366185           20
prev_ccrt                             prev_ccrt      6.094919970           16
Hospital_death                   Hospital_death      4.287397300           22
post_icu_survival             post_icu_survival      4.273652706           23
prev_wbrt                             prev_wbrt      3.040236300           25
prev_gks                               prev_gks      4.376939815           21
Cause_Ca_problem               Cause_Ca_problem      2.877204352           27
CRRT                                       CRRT      3.884927726           24
Albumin                                 Albumin      2.292560724           33
APACH_II                               APACH_II      2.412613086           31
pulmocomorbid                     pulmocomorbid      2.667513534           28
Underlying_DM                     Underlying_DM      2.264076456           34
SAPS_II                                 SAPS_II      2.399252186           32
underlying_pulmo               underlying_pulmo      2.565397800           29
ICU_LOS                                 ICU_LOS      2.170269741           36
MV                                           MV      2.447548704           30
prev_ctx                               prev_ctx      2.915985457           26
PT_percent                           PT_percent      2.153830818           37
age                                         age      2.214352915           35
DNR                                         DNR      1.852964641           40
post_dc_days                       post_dc_days      1.928025967           39
Surgery                                 Surgery      1.969723392           38
PLT                                         PLT      1.684484934           45
aPTT                                       aPTT      1.844970264           41
bacteremia                           bacteremia      1.543709290           48
timefromdx                           timefromdx      1.707050525           44
hospital_LOS                       hospital_LOS      1.562396516           47
PaO2FiO2                               PaO2FiO2      1.374476330           49
prevCPR                                 prevCPR      1.615140728           46
StageNum                               StageNum      1.295824027           51
ICUreadmission                   ICUreadmission      1.740848228           43
performance_hospital_DC performance_hospital_DC      1.174048696           54
performance_ICU_DC           performance_ICU_DC      1.084377492           57
Hb                                           Hb      1.195476585           53
Intensivist                         Intensivist      1.243760591           52
postICUCtx                           postICUCtx      1.807984002           42
prev_rtx                               prev_rtx      1.109901465           55
Distatntmets                       Distatntmets      0.981994429           60
histologyNum                       histologyNum      1.087165933           56
respfailure                         respfailure      1.022303258           58
hypoalbuminemia                 hypoalbuminemia      0.911629037           62
ICUCPR                                   ICUCPR      1.323389826           50
neurology                             neurology      1.014609413           59
procalcitonin                     procalcitonin      0.948905477           61
anemia                                   anemia      0.804256930           64
DNR_at_ICU                           DNR_at_ICU      0.766312368           65
NewlyDx                                 NewlyDx      0.858772583           63
sex                                         sex      0.745382329           66
Pre_PS                                   Pre_PS      0.738503706           67
HFNC                                       HFNC      0.660219122           70
ECMO                                       ECMO      0.720870838           68
Refractory                           Refractory      0.596583661           74
PoorPS                                   PoorPS      0.598222038           73
Tracheostomy                       Tracheostomy      0.638602924           71
other_malignancy               other_malignancy      0.670229438           69
ILD                                         ILD      0.633658504           72
Underlying_CV                     Underlying_CV      0.431999403           75
post2011                               post2011      0.399184733           76
PDT                                         PDT      0.363770643           77
CTxinICU                               CTxinICU      0.302269169           79
PrevICUadm                           PrevICUadm      0.303500523           78
smk_hx                                   smk_hx      0.298098673           80
BIPAP                                     BIPAP      0.283539982           81
WBRT                                       WBRT      0.212175541           82
Underlying_stroke             Underlying_stroke      0.188946844           83
dx_after_adm                       dx_after_adm      0.161387352           84
HD                                           HD      0.124401703           85
preICUDNR                             preICUDNR      0.012143361           87
postICUCPR                           postICUCPR      0.012846263           86
postICURT                             postICURT      0.003689615           88
                        posSum finalPos meanDecreaseAccuracyPosition
Vasoactiveagent              2        1                            1
RRT                          4        2                            2
neutropenia                  6        3                            3
Pneumonia                    8        4                            4
SOFA_D1                     11        5                            6
AKI                         13        6                            7
Death_Cause                 14        7                            5
MV_days                     17        8                            9
CRP                         20        9                            8
PCC                         20       10                           13
thrombocytopenia            21       11                           10
cardiovasc                  25       12                           15
ANC                         26       13                           12
BUN                         26       14                           11
ICU_cause_intensivist       32       15                           19
ICU_mortal30                33       16                           14
WBC                         33       17                           16
DischargefromICU            36       18                           18
ICU_Death                   37       19                           17
prev_ccrt                   37       20                           21
Hospital_death              42       21                           20
post_icu_survival           46       22                           23
prev_wbrt                   47       23                           22
prev_gks                    50       24                           29
Cause_Ca_problem            51       25                           24
CRRT                        52       26                           28
Albumin                     58       27                           25
APACH_II                    58       28                           27
pulmocomorbid               59       29                           31
Underlying_DM               60       30                           26
SAPS_II                     62       31                           30
underlying_pulmo            62       32                           33
ICU_LOS                     68       33                           32
MV                          70       34                           40
prev_ctx                    71       35                           45
PT_percent                  71       36                           34
age                         76       37                           41
DNR                         76       38                           36
post_dc_days                76       39                           37
Surgery                     77       40                           39
PLT                         80       41                           35
aPTT                        84       42                           43
bacteremia                  86       43                           38
timefromdx                  86       44                           42
hospital_LOS                91       45                           44
PaO2FiO2                    95       46                           46
prevCPR                     97       47                           51
StageNum                    98       48                           47
ICUreadmission              99       49                           56
performance_hospital_DC    103       50                           49
performance_ICU_DC         105       51                           48
Hb                         106       52                           53
Intensivist                106       53                           54
postICUCtx                 107       54                           65
prev_rtx                   107       55                           52
Distatntmets               110       56                           50
histologyNum               113       57                           57
respfailure                116       58                           58
hypoalbuminemia            117       59                           55
ICUCPR                     119       60                           69
neurology                  121       61                           62
procalcitonin              121       62                           60
anemia                     123       63                           59
DNR_at_ICU                 126       64                           61
NewlyDx                    127       65                           64
sex                        129       66                           63
Pre_PS                     135       67                           68
HFNC                       136       68                           66
ECMO                       139       69                           71
Refractory                 141       70                           67
PoorPS                     143       71                           70
Tracheostomy               143       72                           72
other_malignancy           144       73                           75
ILD                        146       74                           74
Underlying_CV              148       75                           73
post2011                   152       76                           76
PDT                        154       77                           77
CTxinICU                   158       78                           79
PrevICUadm                 158       79                           80
smk_hx                     158       80                           78
BIPAP                      162       81                           81
WBRT                       164       82                           82
Underlying_stroke          166       83                           83
dx_after_adm               168       84                           84
HD                         170       85                           85
preICUDNR                  173       86                           86
postICUCPR                 174       87                           88
postICURT                  175       88                           87
                        meanDecreaseGiniPosition aggregatedPosition
Vasoactiveagent                                1                  2
RRT                                            2                  4
neutropenia                                    3                  6
Pneumonia                                      4                  8
SOFA_D1                                        5                 11
AKI                                            6                 13
Death_Cause                                    9                 14
MV_days                                        8                 17
CRP                                           12                 20
PCC                                            7                 20
thrombocytopenia                              11                 21
cardiovasc                                    10                 25
ANC                                           14                 26
BUN                                           15                 26
ICU_cause_intensivist                         13                 32
ICU_mortal30                                  19                 33
WBC                                           17                 33
DischargefromICU                              18                 36
ICU_Death                                     20                 37
prev_ccrt                                     16                 37
Hospital_death                                22                 42
post_icu_survival                             23                 46
prev_wbrt                                     25                 47
prev_gks                                      21                 50
Cause_Ca_problem                              27                 51
CRRT                                          24                 52
Albumin                                       33                 58
APACH_II                                      31                 58
pulmocomorbid                                 28                 59
Underlying_DM                                 34                 60
SAPS_II                                       32                 62
underlying_pulmo                              29                 62
ICU_LOS                                       36                 68
MV                                            30                 70
prev_ctx                                      26                 71
PT_percent                                    37                 71
age                                           35                 76
DNR                                           40                 76
post_dc_days                                  39                 76
Surgery                                       38                 77
PLT                                           45                 80
aPTT                                          41                 84
bacteremia                                    48                 86
timefromdx                                    44                 86
hospital_LOS                                  47                 91
PaO2FiO2                                      49                 95
prevCPR                                       46                 97
StageNum                                      51                 98
ICUreadmission                                43                 99
performance_hospital_DC                       54                103
performance_ICU_DC                            57                105
Hb                                            53                106
Intensivist                                   52                106
postICUCtx                                    42                107
prev_rtx                                      55                107
Distatntmets                                  60                110
histologyNum                                  56                113
respfailure                                   58                116
hypoalbuminemia                               62                117
ICUCPR                                        50                119
neurology                                     59                121
procalcitonin                                 61                121
anemia                                        64                123
DNR_at_ICU                                    65                126
NewlyDx                                       63                127
sex                                           66                129
Pre_PS                                        67                135
HFNC                                          70                136
ECMO                                          68                139
Refractory                                    74                141
PoorPS                                        73                143
Tracheostomy                                  71                143
other_malignancy                              69                144
ILD                                           72                146
Underlying_CV                                 75                148
post2011                                      76                152
PDT                                           77                154
CTxinICU                                      79                158
PrevICUadm                                    78                158
smk_hx                                        80                158
BIPAP                                         81                162
WBRT                                          82                164
Underlying_stroke                             83                166
dx_after_adm                                  84                168
HD                                            85                170
preICUDNR                                     87                173
postICUCPR                                    86                174
postICURT                                     88                175
number of selected top features: 2
selected top features: 
[1] "Vasoactiveagent" "RRT"            

[Training Random Forests classifier on the training set with only the top  2  features]

[Applying the trained Random Forests classifier on the test set with only the top  2  features]

PR AUC (integral) 	0.2777778
ROC AUC 		0.6904762

Brier score =  0.516  (best value: 0; worst value: 1)

TOTAL:

 FN =  0  /  5 	 (truth == 1) & (prediction < threshold)
 TP =  5  /  5 	 (truth == 1) & (prediction >= threshold)

 FP =  13  /  21 	 (truth == 0) & (prediction >= threshold)
 TN =  8  /  21 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.325 	 0.435 	 	0.500 	 	1.000 	 	0.381		0.278	 	1.000	 	0.278	0.690

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  8
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  8
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  8
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  8
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  8
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  8
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  8
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  8
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  8
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  8
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
Vasoactiveagent                 5.831654e-02           1
Death_Cause                     4.189595e-02           2
BUN                             2.249501e-02           4
Pneumonia                       3.193999e-02           3
bacteremia                      2.017542e-02           6
respfailure                     1.977977e-02           7
AKI                             2.135768e-02           5
prev_ctx                        1.499253e-02           9
SOFA_D1                         1.854562e-02           8
ICUCPR                          1.395389e-02          10
MV                              1.241453e-02          12
thrombocytopenia                1.361284e-02          11
CRRT                            1.115165e-02          13
PT_percent                      9.396438e-03          14
ICU_cause_intensivist           8.618458e-03          16
hypoalbuminemia                 9.131706e-03          15
post_icu_survival               7.817691e-03          18
Hospital_death                  8.095838e-03          17
PaO2FiO2                        6.127844e-03          24
underlying_pulmo                7.322012e-03          20
ANC                             6.197663e-03          23
aPTT                            6.503718e-03          22
PLT                             6.549913e-03          21
APACH_II                        6.033743e-03          25
Underlying_DM                   5.154646e-03          32
ICU_mortal30                    7.442786e-03          19
Albumin                         6.015398e-03          26
ILD                             5.219464e-03          29
SAPS_II                         5.163879e-03          31
Intensivist                     4.760439e-03          36
hospital_LOS                    5.276855e-03          28
WBC                             5.197649e-03          30
Pre_PS                          4.807400e-03          34
RRT                             4.981578e-03          33
prev_ccrt                       3.650404e-03          49
DischargefromICU                5.486900e-03          27
Tracheostomy                    3.706595e-03          47
CRP                             4.798764e-03          35
Hb                              4.716554e-03          37
neurology                       3.556652e-03          51
timefromdx                      4.534170e-03          40
MV_days                         4.633981e-03          38
histologyNum                    4.140792e-03          42
age                             4.424631e-03          41
prevCPR                         3.104360e-03          57
prev_rtx                        4.040416e-03          43
ICU_Death                       4.570238e-03          39
PoorPS                          3.444431e-03          54
post_dc_days                    3.731600e-03          46
ICU_LOS                         3.906394e-03          44
Cause_Ca_problem                3.554431e-03          52
performance_ICU_DC              3.584647e-03          50
DNR                             3.682718e-03          48
neutropenia                     3.737249e-03          45
StageNum                        3.428487e-03          55
PCC                             2.683764e-03          60
post2011                        2.833221e-03          59
prev_wbrt                       3.520296e-03          53
Refractory                      3.198649e-03          56
procalcitonin                   2.942684e-03          58
pulmocomorbid                   2.165247e-03          62
HFNC                            2.544621e-03          61
DNR_at_ICU                      2.104056e-03          64
smk_hx                          2.076994e-03          65
Distatntmets                    2.137001e-03          63
PrevICUadm                      1.585051e-03          71
ICUreadmission                  1.398353e-03          72
sex                             1.999566e-03          66
PDT                             1.800001e-03          68
other_malignancy                1.936747e-03          67
Underlying_CV                   1.658224e-03          69
WBRT                            1.633000e-03          70
anemia                          1.349490e-03          73
performance_hospital_DC         1.324894e-03          75
Underlying_stroke               8.132777e-04          79
BIPAP                           1.304508e-03          76
NewlyDx                         1.336315e-03          74
cardiovasc                      1.020803e-03          77
Surgery                         8.968876e-04          78
postICUCtx                      7.515690e-04          80
dx_after_adm                    5.110647e-04          81
HD                              3.645257e-04          83
prev_gks                        3.881783e-04          82
CTxinICU                        1.679549e-04          84
postICUCPR                      5.948579e-05          85
ECMO                            0.000000e+00          86
preICUDNR                       0.000000e+00          88
postICURT                       0.000000e+00          87
                                       features MeanDecreaseGini secondColPos
Vasoactiveagent                 Vasoactiveagent     35.657618846            1
Death_Cause                         Death_Cause     22.476471606            2
BUN                                         BUN     21.028599367            3
Pneumonia                             Pneumonia     15.295436364            6
bacteremia                           bacteremia     15.516750043            5
respfailure                         respfailure     16.942406439            4
AKI                                         AKI     12.538866850            8
prev_ctx                               prev_ctx     12.629718866            7
SOFA_D1                                 SOFA_D1     11.030074552            9
ICUCPR                                   ICUCPR     10.229716636           10
MV                                           MV      8.472896699           11
thrombocytopenia               thrombocytopenia      6.231365014           13
CRRT                                       CRRT      8.260411384           12
PT_percent                           PT_percent      4.703761925           14
ICU_cause_intensivist     ICU_cause_intensivist      4.304144380           16
hypoalbuminemia                 hypoalbuminemia      4.067172670           18
post_icu_survival             post_icu_survival      4.601997255           15
Hospital_death                   Hospital_death      3.944516342           19
PaO2FiO2                               PaO2FiO2      4.237342677           17
underlying_pulmo               underlying_pulmo      3.352180134           21
ANC                                         ANC      3.451018565           20
aPTT                                       aPTT      3.265608684           23
PLT                                         PLT      3.041483886           27
APACH_II                               APACH_II      2.820650737           31
Underlying_DM                     Underlying_DM      3.236860006           24
ICU_mortal30                       ICU_mortal30      2.589085567           38
Albumin                                 Albumin      2.817279834           32
ILD                                         ILD      2.850569620           30
SAPS_II                                 SAPS_II      2.898857594           29
Intensivist                         Intensivist      3.214303393           25
hospital_LOS                       hospital_LOS      2.745831361           34
WBC                                         WBC      2.705396128           35
Pre_PS                                   Pre_PS      2.651845541           36
RRT                                         RRT      2.646480710           37
prev_ccrt                             prev_ccrt      3.345108487           22
DischargefromICU               DischargefromICU      2.002368855           45
Tracheostomy                       Tracheostomy      3.186439844           26
CRP                                         CRP      2.177770814           40
Hb                                           Hb      2.104400472           42
neurology                             neurology      2.981742190           28
timefromdx                           timefromdx      2.466191507           39
MV_days                                 MV_days      2.073214985           44
histologyNum                       histologyNum      2.076918455           43
age                                         age      1.942020179           46
prevCPR                                 prevCPR      2.811541539           33
prev_rtx                               prev_rtx      1.891852131           48
ICU_Death                             ICU_Death      1.590748457           56
PoorPS                                   PoorPS      2.106550048           41
post_dc_days                       post_dc_days      1.764525565           50
ICU_LOS                                 ICU_LOS      1.628209490           55
Cause_Ca_problem               Cause_Ca_problem      1.813367576           49
performance_ICU_DC           performance_ICU_DC      1.713153814           51
DNR                                         DNR      1.663603211           54
neutropenia                         neutropenia      1.381817630           57
StageNum                               StageNum      1.916721151           47
PCC                                         PCC      1.699013565           52
post2011                               post2011      1.671849385           53
prev_wbrt                             prev_wbrt      1.305553136           60
Refractory                           Refractory      1.317131855           58
procalcitonin                     procalcitonin      1.257062638           61
pulmocomorbid                     pulmocomorbid      1.245512853           62
HFNC                                       HFNC      1.027745991           66
DNR_at_ICU                           DNR_at_ICU      1.044270753           65
smk_hx                                   smk_hx      1.117483618           64
Distatntmets                       Distatntmets      0.995347407           67
PrevICUadm                           PrevICUadm      1.309979980           59
ICUreadmission                   ICUreadmission      1.154133671           63
sex                                         sex      0.936484459           69
PDT                                         PDT      0.958731689           68
other_malignancy               other_malignancy      0.902535707           70
Underlying_CV                     Underlying_CV      0.765484797           73
WBRT                                       WBRT      0.802606411           72
anemia                                   anemia      0.662239523           76
performance_hospital_DC performance_hospital_DC      0.736677920           74
Underlying_stroke             Underlying_stroke      0.882847739           71
BIPAP                                     BIPAP      0.700322219           75
NewlyDx                                 NewlyDx      0.635268840           77
cardiovasc                           cardiovasc      0.618410974           78
Surgery                                 Surgery      0.536283319           79
postICUCtx                           postICUCtx      0.451804396           80
dx_after_adm                       dx_after_adm      0.396055972           81
HD                                           HD      0.308332518           82
prev_gks                               prev_gks      0.237832787           83
CTxinICU                               CTxinICU      0.172255960           84
postICUCPR                           postICUCPR      0.080605079           85
ECMO                                       ECMO      0.000000000           87
preICUDNR                             preICUDNR      0.006646128           86
postICURT                             postICURT      0.000000000           88
                        posSum finalPos meanDecreaseAccuracyPosition
Vasoactiveagent              2        1                            1
Death_Cause                  4        2                            2
BUN                          7        3                            4
Pneumonia                    9        4                            3
bacteremia                  11        5                            6
respfailure                 11        6                            7
AKI                         13        7                            5
prev_ctx                    16        8                            9
SOFA_D1                     17        9                            8
ICUCPR                      20       10                           10
MV                          23       11                           12
thrombocytopenia            24       12                           11
CRRT                        25       13                           13
PT_percent                  28       14                           14
ICU_cause_intensivist       32       15                           16
hypoalbuminemia             33       16                           15
post_icu_survival           33       17                           18
Hospital_death              36       18                           17
PaO2FiO2                    41       19                           24
underlying_pulmo            41       20                           20
ANC                         43       21                           23
aPTT                        45       22                           22
PLT                         48       23                           21
APACH_II                    56       24                           25
Underlying_DM               56       25                           32
ICU_mortal30                57       26                           19
Albumin                     58       27                           26
ILD                         59       28                           29
SAPS_II                     60       29                           31
Intensivist                 61       30                           36
hospital_LOS                62       31                           28
WBC                         65       32                           30
Pre_PS                      70       33                           34
RRT                         70       34                           33
prev_ccrt                   71       35                           49
DischargefromICU            72       36                           27
Tracheostomy                73       37                           47
CRP                         75       38                           35
Hb                          79       39                           37
neurology                   79       40                           51
timefromdx                  79       41                           40
MV_days                     82       42                           38
histologyNum                85       43                           42
age                         87       44                           41
prevCPR                     90       45                           57
prev_rtx                    91       46                           43
ICU_Death                   95       47                           39
PoorPS                      95       48                           54
post_dc_days                96       49                           46
ICU_LOS                     99       50                           44
Cause_Ca_problem           101       51                           52
performance_ICU_DC         101       52                           50
DNR                        102       53                           48
neutropenia                102       54                           45
StageNum                   102       55                           55
PCC                        112       56                           60
post2011                   112       57                           59
prev_wbrt                  113       58                           53
Refractory                 114       59                           56
procalcitonin              119       60                           58
pulmocomorbid              124       61                           62
HFNC                       127       62                           61
DNR_at_ICU                 129       63                           64
smk_hx                     129       64                           65
Distatntmets               130       65                           63
PrevICUadm                 130       66                           71
ICUreadmission             135       67                           72
sex                        135       68                           66
PDT                        136       69                           68
other_malignancy           137       70                           67
Underlying_CV              142       71                           69
WBRT                       142       72                           70
anemia                     149       73                           73
performance_hospital_DC    149       74                           75
Underlying_stroke          150       75                           79
BIPAP                      151       76                           76
NewlyDx                    151       77                           74
cardiovasc                 155       78                           77
Surgery                    157       79                           78
postICUCtx                 160       80                           80
dx_after_adm               162       81                           81
HD                         165       82                           83
prev_gks                   165       83                           82
CTxinICU                   168       84                           84
postICUCPR                 170       85                           85
ECMO                       173       86                           86
preICUDNR                  174       87                           87
postICURT                  175       88                           88
                        meanDecreaseGiniPosition aggregatedPosition
Vasoactiveagent                                1                  2
Death_Cause                                    2                  4
BUN                                            3                  7
Pneumonia                                      6                  9
bacteremia                                     5                 11
respfailure                                    4                 11
AKI                                            8                 13
prev_ctx                                       7                 16
SOFA_D1                                        9                 17
ICUCPR                                        10                 20
MV                                            11                 23
thrombocytopenia                              13                 24
CRRT                                          12                 25
PT_percent                                    14                 28
ICU_cause_intensivist                         16                 32
hypoalbuminemia                               18                 33
post_icu_survival                             15                 33
Hospital_death                                19                 36
PaO2FiO2                                      17                 41
underlying_pulmo                              21                 41
ANC                                           20                 43
aPTT                                          23                 45
PLT                                           27                 48
APACH_II                                      31                 56
Underlying_DM                                 24                 56
ICU_mortal30                                  38                 57
Albumin                                       32                 58
ILD                                           30                 59
SAPS_II                                       29                 60
Intensivist                                   25                 61
hospital_LOS                                  34                 62
WBC                                           35                 65
Pre_PS                                        36                 70
RRT                                           37                 70
prev_ccrt                                     22                 71
DischargefromICU                              45                 72
Tracheostomy                                  26                 73
CRP                                           40                 75
Hb                                            42                 79
neurology                                     28                 79
timefromdx                                    39                 79
MV_days                                       44                 82
histologyNum                                  43                 85
age                                           46                 87
prevCPR                                       33                 90
prev_rtx                                      48                 91
ICU_Death                                     56                 95
PoorPS                                        41                 95
post_dc_days                                  50                 96
ICU_LOS                                       55                 99
Cause_Ca_problem                              49                101
performance_ICU_DC                            51                101
DNR                                           54                102
neutropenia                                   57                102
StageNum                                      47                102
PCC                                           52                112
post2011                                      53                112
prev_wbrt                                     60                113
Refractory                                    58                114
procalcitonin                                 61                119
pulmocomorbid                                 62                124
HFNC                                          66                127
DNR_at_ICU                                    65                129
smk_hx                                        64                129
Distatntmets                                  67                130
PrevICUadm                                    59                130
ICUreadmission                                63                135
sex                                           69                135
PDT                                           68                136
other_malignancy                              70                137
Underlying_CV                                 73                142
WBRT                                          72                142
anemia                                        76                149
performance_hospital_DC                       74                149
Underlying_stroke                             71                150
BIPAP                                         75                151
NewlyDx                                       77                151
cardiovasc                                    78                155
Surgery                                       79                157
postICUCtx                                    80                160
dx_after_adm                                  81                162
HD                                            82                165
prev_gks                                      83                165
CTxinICU                                      84                168
postICUCPR                                    85                170
ECMO                                          87                173
preICUDNR                                     86                173
postICURT                                     88                176
number of selected top features: 2
selected top features: 
[1] "Vasoactiveagent" "Death_Cause"    

[Training Random Forests classifier on the training set with only the top  2  features]

[Applying the trained Random Forests classifier on the test set with only the top  2  features]

PR AUC (integral) 	0.2875861
ROC AUC 		0.6952381

Brier score =  0.396  (best value: 0; worst value: 1)

TOTAL:

 FN =  0  /  5 	 (truth == 1) & (prediction < threshold)
 TP =  5  /  5 	 (truth == 1) & (prediction >= threshold)

 FP =  14  /  21 	 (truth == 0) & (prediction >= threshold)
 TN =  7  /  21 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.296 	 0.417 	 	0.462 	 	1.000 	 	0.333		0.263	 	1.000	 	0.288	0.695

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  9
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  9
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  9
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  9
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  9
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  9
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  9
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  9
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  9
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  9
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
CRRT                            5.450646e-02           1
SOFA_D1                         4.563526e-02           2
AKI                             2.928056e-02           3
Vasoactiveagent                 2.811263e-02           6
BUN                             2.873860e-02           4
neutropenia                     2.843231e-02           5
APACH_II                        2.163782e-02           8
ANC                             2.183368e-02           7
CRP                             2.126088e-02           9
PT_percent                      1.609626e-02          10
SAPS_II                         1.351173e-02          13
bacteremia                      1.431494e-02          12
BIPAP                           9.770895e-03          14
WBC                             1.448744e-02          11
Pneumonia                       7.226700e-03          17
prevCPR                         6.675939e-03          18
Hb                              7.383693e-03          16
aPTT                            8.354346e-03          15
thrombocytopenia                6.549895e-03          19
Death_Cause                     4.785539e-03          20
postICUCPR                      3.864499e-03          24
cardiovasc                      2.790127e-03          28
anemia                          3.880163e-03          23
PLT                             4.638264e-03          21
postICURT                       4.177336e-03          22
Underlying_DM                   2.943339e-03          27
Cause_Ca_problem                3.028128e-03          25
procalcitonin                   3.000229e-03          26
dx_after_adm                    2.066254e-03          36
timefromdx                      2.612132e-03          29
age                             2.104520e-03          34
hospital_LOS                    2.235570e-03          32
Distatntmets                    2.398278e-03          30
PaO2FiO2                        2.300851e-03          31
prev_rtx                        2.053461e-03          37
Albumin                         2.088192e-03          35
histologyNum                    2.146288e-03          33
WBRT                            1.343424e-03          45
ICU_cause_intensivist           1.782487e-03          38
MV_days                         1.664308e-03          39
hypoalbuminemia                 1.598754e-03          41
performance_ICU_DC              1.359590e-03          44
ICU_mortal30                    1.641195e-03          40
prev_ctx                        1.235891e-03          48
prev_wbrt                       1.433827e-03          42
Intensivist                     1.371954e-03          43
underlying_pulmo                1.337167e-03          46
Underlying_stroke               6.806345e-04          72
post_icu_survival               9.917624e-04          54
StageNum                        1.010384e-03          52
sex                             7.748716e-04          63
Hospital_death                  9.538707e-04          55
prev_ccrt                       1.160372e-03          49
MV                              8.602963e-04          60
ICU_LOS                         9.958094e-04          53
pulmocomorbid                   1.259100e-03          47
PCC                             8.927353e-04          57
post_dc_days                    1.025146e-03          51
Pre_PS                          9.132057e-04          56
DNR                             8.677208e-04          59
post2011                        8.682250e-04          58
ICUreadmission                  1.130716e-03          50
ILD                             7.166096e-04          68
HD                              7.189099e-04          67
postICUCtx                      8.046673e-04          62
performance_hospital_DC         8.124565e-04          61
preICUDNR                       7.049572e-04          69
Surgery                         6.816106e-04          71
Tracheostomy                    7.218548e-04          66
DischargefromICU                7.356515e-04          64
ICU_Death                       7.324391e-04          65
neurology                       7.026667e-04          70
ICUCPR                          5.361403e-04          75
PDT                             3.891162e-04          80
DNR_at_ICU                      6.020044e-04          73
ECMO                            3.926021e-04          79
HFNC                            5.913031e-04          74
PoorPS                          4.462903e-04          77
Refractory                      4.450094e-04          78
NewlyDx                         4.556936e-04          76
smk_hx                          3.451196e-04          82
respfailure                     3.566750e-04          81
Underlying_CV                   3.077324e-04          83
PrevICUadm                      2.420494e-04          84
other_malignancy                1.404614e-04          85
prev_gks                        1.017330e-04          87
CTxinICU                        1.085706e-04          86
RRT                             4.627982e-05          88
                                       features MeanDecreaseGini secondColPos
CRRT                                       CRRT      32.50558535            1
SOFA_D1                                 SOFA_D1      31.63833568            2
AKI                                         AKI      18.58800503            4
Vasoactiveagent                 Vasoactiveagent      21.86751635            3
BUN                                         BUN      17.23073868            6
neutropenia                         neutropenia      15.87393140            7
APACH_II                               APACH_II      17.38319962            5
ANC                                         ANC      10.52734281           12
CRP                                         CRP      11.57114074           10
PT_percent                           PT_percent      11.98964884            9
SAPS_II                                 SAPS_II      14.95500113            8
bacteremia                           bacteremia      10.86186197           11
BIPAP                                     BIPAP       8.17249777           13
WBC                                         WBC       6.47511697           16
Pneumonia                             Pneumonia       6.92063036           15
prevCPR                                 prevCPR       7.86886941           14
Hb                                           Hb       6.06828823           17
aPTT                                       aPTT       4.40873831           19
thrombocytopenia               thrombocytopenia       3.76298060           20
Death_Cause                         Death_Cause       2.32391265           25
postICUCPR                           postICUCPR       3.54941804           21
cardiovasc                           cardiovasc       4.97375665           18
anemia                                   anemia       2.34428491           24
PLT                                         PLT       1.88790821           27
postICURT                             postICURT       1.91231486           26
Underlying_DM                     Underlying_DM       2.92990903           22
Cause_Ca_problem               Cause_Ca_problem       1.38609076           31
procalcitonin                     procalcitonin       1.46247503           30
dx_after_adm                       dx_after_adm       2.43409484           23
timefromdx                           timefromdx       1.14372990           34
age                                         age       1.19586906           33
hospital_LOS                       hospital_LOS       1.11208125           35
Distatntmets                       Distatntmets       1.03087888           38
PaO2FiO2                               PaO2FiO2       1.10904421           37
prev_rtx                               prev_rtx       1.25601735           32
Albumin                                 Albumin       1.11011899           36
histologyNum                       histologyNum       1.01665587           39
WBRT                                       WBRT       1.53328535           29
ICU_cause_intensivist     ICU_cause_intensivist       0.88232123           40
MV_days                                 MV_days       0.70966572           45
hypoalbuminemia                 hypoalbuminemia       0.74654924           44
performance_ICU_DC           performance_ICU_DC       0.81066945           42
ICU_mortal30                       ICU_mortal30       0.63661742           48
prev_ctx                               prev_ctx       0.80995921           43
prev_wbrt                             prev_wbrt       0.61995361           49
Intensivist                         Intensivist       0.53203980           55
underlying_pulmo               underlying_pulmo       0.53642823           53
Underlying_stroke             Underlying_stroke       1.76107561           28
post_icu_survival             post_icu_survival       0.65849924           47
StageNum                               StageNum       0.58709188           51
sex                                         sex       0.82548010           41
Hospital_death                   Hospital_death       0.60743649           50
prev_ccrt                             prev_ccrt       0.51184527           56
MV                                           MV       0.66354166           46
ICU_LOS                                 ICU_LOS       0.53526208           54
pulmocomorbid                     pulmocomorbid       0.45854106           60
PCC                                         PCC       0.57434092           52
post_dc_days                       post_dc_days       0.46428096           59
Pre_PS                                   Pre_PS       0.49091716           58
DNR                                         DNR       0.41008889           62
post2011                               post2011       0.39154404           63
ICUreadmission                   ICUreadmission       0.29064374           75
ILD                                         ILD       0.49389644           57
HD                                           HD       0.45227908           61
postICUCtx                           postICUCtx       0.38255476           66
performance_hospital_DC performance_hospital_DC       0.34302280           69
preICUDNR                             preICUDNR       0.38245682           67
Surgery                                 Surgery       0.38633987           65
Tracheostomy                       Tracheostomy       0.33993627           70
DischargefromICU               DischargefromICU       0.31423850           73
ICU_Death                             ICU_Death       0.29134404           74
neurology                             neurology       0.32131135           72
ICUCPR                                   ICUCPR       0.35094165           68
PDT                                         PDT       0.38715223           64
DNR_at_ICU                           DNR_at_ICU       0.25396321           77
ECMO                                       ECMO       0.33260903           71
HFNC                                       HFNC       0.26024652           76
PoorPS                                   PoorPS       0.23771229           79
Refractory                           Refractory       0.25118041           78
NewlyDx                                 NewlyDx       0.19633519           82
smk_hx                                   smk_hx       0.21228598           80
respfailure                         respfailure       0.19106300           83
Underlying_CV                     Underlying_CV       0.20488965           81
PrevICUadm                           PrevICUadm       0.17432190           84
other_malignancy               other_malignancy       0.12999642           86
prev_gks                               prev_gks       0.15130068           85
CTxinICU                               CTxinICU       0.10085439           87
RRT                                         RRT       0.05374197           88
                        posSum finalPos meanDecreaseAccuracyPosition
CRRT                         2        1                            1
SOFA_D1                      4        2                            2
AKI                          7        3                            3
Vasoactiveagent              9        4                            6
BUN                         10        5                            4
neutropenia                 12        6                            5
APACH_II                    13        7                            8
ANC                         19        8                            7
CRP                         19        9                            9
PT_percent                  19       10                           10
SAPS_II                     21       11                           13
bacteremia                  23       12                           12
BIPAP                       27       13                           14
WBC                         27       14                           11
Pneumonia                   32       15                           17
prevCPR                     32       16                           18
Hb                          33       17                           16
aPTT                        34       18                           15
thrombocytopenia            39       19                           19
Death_Cause                 45       20                           20
postICUCPR                  45       21                           24
cardiovasc                  46       22                           28
anemia                      47       23                           23
PLT                         48       24                           21
postICURT                   48       25                           22
Underlying_DM               49       26                           27
Cause_Ca_problem            56       27                           25
procalcitonin               56       28                           26
dx_after_adm                59       29                           36
timefromdx                  63       30                           29
age                         67       31                           34
hospital_LOS                67       32                           32
Distatntmets                68       33                           30
PaO2FiO2                    68       34                           31
prev_rtx                    69       35                           37
Albumin                     71       36                           35
histologyNum                72       37                           33
WBRT                        74       38                           45
ICU_cause_intensivist       78       39                           38
MV_days                     84       40                           39
hypoalbuminemia             85       41                           41
performance_ICU_DC          86       42                           44
ICU_mortal30                88       43                           40
prev_ctx                    91       44                           48
prev_wbrt                   91       45                           42
Intensivist                 98       46                           43
underlying_pulmo            99       47                           46
Underlying_stroke          100       48                           72
post_icu_survival          101       49                           54
StageNum                   103       50                           52
sex                        104       51                           63
Hospital_death             105       52                           55
prev_ccrt                  105       53                           49
MV                         106       54                           60
ICU_LOS                    107       55                           53
pulmocomorbid              107       56                           47
PCC                        109       57                           57
post_dc_days               110       58                           51
Pre_PS                     114       59                           56
DNR                        121       60                           59
post2011                   121       61                           58
ICUreadmission             125       62                           50
ILD                        125       63                           68
HD                         128       64                           67
postICUCtx                 128       65                           62
performance_hospital_DC    130       66                           61
preICUDNR                  136       67                           69
Surgery                    136       68                           71
Tracheostomy               136       69                           66
DischargefromICU           137       70                           64
ICU_Death                  139       71                           65
neurology                  142       72                           70
ICUCPR                     143       73                           75
PDT                        144       74                           80
DNR_at_ICU                 150       75                           73
ECMO                       150       76                           79
HFNC                       150       77                           74
PoorPS                     156       78                           77
Refractory                 156       79                           78
NewlyDx                    158       80                           76
smk_hx                     162       81                           82
respfailure                164       82                           81
Underlying_CV              164       83                           83
PrevICUadm                 168       84                           84
other_malignancy           171       85                           85
prev_gks                   172       86                           87
CTxinICU                   173       87                           86
RRT                        176       88                           88
                        meanDecreaseGiniPosition aggregatedPosition
CRRT                                           1                  2
SOFA_D1                                        2                  4
AKI                                            4                  7
Vasoactiveagent                                3                  9
BUN                                            6                 10
neutropenia                                    7                 12
APACH_II                                       5                 13
ANC                                           12                 19
CRP                                           10                 19
PT_percent                                     9                 19
SAPS_II                                        8                 21
bacteremia                                    11                 23
BIPAP                                         13                 27
WBC                                           16                 27
Pneumonia                                     15                 32
prevCPR                                       14                 32
Hb                                            17                 33
aPTT                                          19                 34
thrombocytopenia                              20                 39
Death_Cause                                   25                 45
postICUCPR                                    21                 45
cardiovasc                                    18                 46
anemia                                        24                 47
PLT                                           27                 48
postICURT                                     26                 48
Underlying_DM                                 22                 49
Cause_Ca_problem                              31                 56
procalcitonin                                 30                 56
dx_after_adm                                  23                 59
timefromdx                                    34                 63
age                                           33                 67
hospital_LOS                                  35                 67
Distatntmets                                  38                 68
PaO2FiO2                                      37                 68
prev_rtx                                      32                 69
Albumin                                       36                 71
histologyNum                                  39                 72
WBRT                                          29                 74
ICU_cause_intensivist                         40                 78
MV_days                                       45                 84
hypoalbuminemia                               44                 85
performance_ICU_DC                            42                 86
ICU_mortal30                                  48                 88
prev_ctx                                      43                 91
prev_wbrt                                     49                 91
Intensivist                                   55                 98
underlying_pulmo                              53                 99
Underlying_stroke                             28                100
post_icu_survival                             47                101
StageNum                                      51                103
sex                                           41                104
Hospital_death                                50                105
prev_ccrt                                     56                105
MV                                            46                106
ICU_LOS                                       54                107
pulmocomorbid                                 60                107
PCC                                           52                109
post_dc_days                                  59                110
Pre_PS                                        58                114
DNR                                           62                121
post2011                                      63                121
ICUreadmission                                75                125
ILD                                           57                125
HD                                            61                128
postICUCtx                                    66                128
performance_hospital_DC                       69                130
preICUDNR                                     67                136
Surgery                                       65                136
Tracheostomy                                  70                136
DischargefromICU                              73                137
ICU_Death                                     74                139
neurology                                     72                142
ICUCPR                                        68                143
PDT                                           64                144
DNR_at_ICU                                    77                150
ECMO                                          71                150
HFNC                                          76                150
PoorPS                                        79                156
Refractory                                    78                156
NewlyDx                                       82                158
smk_hx                                        80                162
respfailure                                   83                164
Underlying_CV                                 81                164
PrevICUadm                                    84                168
other_malignancy                              86                171
prev_gks                                      85                172
CTxinICU                                      87                173
RRT                                           88                176
number of selected top features: 2
selected top features: 
[1] "CRRT"    "SOFA_D1"

[Training Random Forests classifier on the training set with only the top  2  features]

[Applying the trained Random Forests classifier on the test set with only the top  2  features]

PR AUC (integral) 	0.5083568
ROC AUC 		0.7013889

Brier score =  0.254  (best value: 0; worst value: 1)

TOTAL:

 FN =  3  /  8 	 (truth == 1) & (prediction < threshold)
 TP =  5  /  8 	 (truth == 1) & (prediction >= threshold)

 FP =  6  /  18 	 (truth == 0) & (prediction >= threshold)
 TN =  12  /  18 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.272 	 0.526 	 	0.654 	 	0.625 	 	0.667		0.455	 	0.800	 	0.508	0.701

Number of feature selection executions = 10



 Execution number feature selection = 1 & classif =  10
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 2 & classif =  10
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 3 & classif =  10
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 4 & classif =  10
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 5 & classif =  10
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 6 & classif =  10
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 7 & classif =  10
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 8 & classif =  10
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 9 & classif =  10
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]



 Execution number feature selection = 10 & classif =  10
[Randomizing the rows]
SMOTE oversampling
application of randomForest()
[function agregateTwoSortedRankings()]




== final ranking after 10 executions == 
[function agregateTwoSortedRankings()]
                        MeanDecreaseAccuracy firstColPos
neutropenia                     6.395508e-02           1
bacteremia                      4.335317e-02           2
ANC                             3.480168e-02           3
WBC                             2.672997e-02           4
Vasoactiveagent                 2.430892e-02           5
AKI                             2.206247e-02           6
Pneumonia                       1.721057e-02           8
hospital_LOS                    1.019193e-02          13
thrombocytopenia                1.403863e-02           9
Death_Cause                     1.771525e-02           7
PLT                             1.122995e-02          11
CRP                             1.216938e-02          10
ICU_cause_intensivist           7.560349e-03          15
BIPAP                           1.061428e-02          12
cardiovasc                      7.524055e-03          16
neurology                       6.442960e-03          20
postICURT                       9.212406e-03          14
WBRT                            7.465199e-03          17
prev_ccrt                       5.304800e-03          24
CRRT                            6.938605e-03          18
prev_wbrt                       6.938143e-03          19
SOFA_D1                         6.011386e-03          21
aPTT                            5.771624e-03          23
smk_hx                          6.011177e-03          22
ICUCPR                          3.952315e-03          32
DNR_at_ICU                      4.711246e-03          25
post_dc_days                    3.640343e-03          36
BUN                             4.327056e-03          28
Refractory                      3.886944e-03          33
performance_ICU_DC              4.647487e-03          26
Cause_Ca_problem                4.561461e-03          27
PT_percent                      4.308126e-03          29
sex                             3.735255e-03          35
Albumin                         4.207890e-03          31
ICU_LOS                         3.825988e-03          34
Underlying_CV                   3.245408e-03          41
PaO2FiO2                        4.286982e-03          30
timefromdx                      3.236815e-03          42
age                             3.151201e-03          43
APACH_II                        3.603302e-03          38
performance_hospital_DC         3.326037e-03          40
Hospital_death                  3.614967e-03          37
MV_days                         2.904409e-03          44
Underlying_DM                   2.616857e-03          48
preICUDNR                       2.816569e-03          47
prev_rtx                        2.852925e-03          45
ICU_mortal30                    3.535430e-03          39
histologyNum                    2.604274e-03          49
HFNC                            2.551544e-03          51
DischargefromICU                2.829722e-03          46
prevCPR                         1.818125e-03          59
SAPS_II                         2.558343e-03          50
ICUreadmission                  2.014519e-03          55
StageNum                        2.485591e-03          52
Hb                              2.220016e-03          53
Distatntmets                    2.212319e-03          54
Pre_PS                          1.986703e-03          56
other_malignancy                1.750278e-03          62
procalcitonin                   1.970367e-03          57
hypoalbuminemia                 1.802539e-03          60
prev_ctx                        1.669214e-03          64
RRT                             1.529440e-03          67
PoorPS                          1.752946e-03          61
ICU_Death                       1.907131e-03          58
anemia                          1.745697e-03          63
MV                              1.571549e-03          65
post_icu_survival               1.377947e-03          68
NewlyDx                         1.558158e-03          66
post2011                        1.315743e-03          69
HD                              9.093491e-04          76
respfailure                     1.191998e-03          71
Surgery                         1.228245e-03          70
DNR                             1.105639e-03          73
Intensivist                     1.105680e-03          72
postICUCtx                      8.542666e-04          77
pulmocomorbid                   9.752166e-04          75
PDT                             9.816251e-04          74
underlying_pulmo                8.192044e-04          78
prev_gks                        5.415268e-04          79
dx_after_adm                    4.251732e-04          80
postICUCPR                      2.377229e-04          81
Underlying_stroke               1.794538e-04          82
Tracheostomy                    8.921325e-05          83
CTxinICU                        2.607205e-05          85
ECMO                            3.469823e-05          84
ILD                             1.481074e-05          86
PrevICUadm                      7.126745e-06          88
PCC                             1.086751e-05          87
                                       features MeanDecreaseGini secondColPos
neutropenia                         neutropenia     42.352777950            1
bacteremia                           bacteremia     31.927022580            2
ANC                                         ANC     23.919593464            3
WBC                                         WBC     19.825129055            4
Vasoactiveagent                 Vasoactiveagent     13.121038232            6
AKI                                         AKI      9.427551873            8
Pneumonia                             Pneumonia     10.161925193            7
hospital_LOS                       hospital_LOS     16.972327031            5
thrombocytopenia               thrombocytopenia      9.178612546            9
Death_Cause                         Death_Cause      6.327351792           14
PLT                                         PLT      8.788372332           10
CRP                                         CRP      6.323888366           15
ICU_cause_intensivist     ICU_cause_intensivist      8.163984646           11
BIPAP                                     BIPAP      5.042473940           19
cardiovasc                           cardiovasc      5.955031963           16
neurology                             neurology      7.640421089           12
postICURT                             postICURT      5.333489074           18
WBRT                                       WBRT      5.554233073           17
prev_ccrt                             prev_ccrt      6.540548312           13
CRRT                                       CRRT      3.407043437           23
prev_wbrt                             prev_wbrt      2.900856868           24
SOFA_D1                                 SOFA_D1      3.808599095           22
aPTT                                       aPTT      2.781050638           25
smk_hx                                   smk_hx      2.762877020           26
ICUCPR                                   ICUCPR      4.892240043           20
DNR_at_ICU                           DNR_at_ICU      2.178615155           31
post_dc_days                       post_dc_days      4.283371021           21
BUN                                         BUN      2.041548362           33
Refractory                           Refractory      2.389579853           28
performance_ICU_DC           performance_ICU_DC      1.965064972           36
Cause_Ca_problem               Cause_Ca_problem      1.963781266           37
PT_percent                           PT_percent      1.988305545           35
sex                                         sex      2.271154867           29
Albumin                                 Albumin      2.016452463           34
ICU_LOS                                 ICU_LOS      2.112708994           32
Underlying_CV                     Underlying_CV      2.597825269           27
PaO2FiO2                               PaO2FiO2      1.947881611           39
timefromdx                           timefromdx      2.201763018           30
age                                         age      1.954444826           38
APACH_II                               APACH_II      1.408906087           46
performance_hospital_DC performance_hospital_DC      1.554819124           45
Hospital_death                   Hospital_death      1.298585149           50
MV_days                                 MV_days      1.615286744           43
Underlying_DM                     Underlying_DM      1.883285814           40
preICUDNR                             preICUDNR      1.708198445           42
prev_rtx                               prev_rtx      1.608266114           44
ICU_mortal30                       ICU_mortal30      1.286225746           51
histologyNum                       histologyNum      1.373860053           48
HFNC                                       HFNC      1.384050024           47
DischargefromICU               DischargefromICU      1.276904760           53
prevCPR                                 prevCPR      1.819580516           41
SAPS_II                                 SAPS_II      1.276909030           52
ICUreadmission                   ICUreadmission      1.372806230           49
StageNum                               StageNum      1.220369021           55
Hb                                           Hb      1.068267318           58
Distatntmets                       Distatntmets      0.905306529           61
Pre_PS                                   Pre_PS      1.032418837           59
other_malignancy               other_malignancy      1.236194372           54
procalcitonin                     procalcitonin      0.871857207           62
hypoalbuminemia                 hypoalbuminemia      1.000444997           60
prev_ctx                               prev_ctx      1.136754760           56
RRT                                         RRT      1.076752764           57
PoorPS                                   PoorPS      0.837312183           64
ICU_Death                             ICU_Death      0.706486459           68
anemia                                   anemia      0.824929769           65
MV                                           MV      0.758296927           67
post_icu_survival             post_icu_survival      0.815108638           66
NewlyDx                                 NewlyDx      0.663531256           70
post2011                               post2011      0.678612860           69
HD                                           HD      0.852155037           63
respfailure                         respfailure      0.650604026           71
Surgery                                 Surgery      0.589148222           73
DNR                                         DNR      0.495445133           74
Intensivist                         Intensivist      0.471076266           75
postICUCtx                           postICUCtx      0.598949205           72
pulmocomorbid                     pulmocomorbid      0.466634336           76
PDT                                         PDT      0.438521370           78
underlying_pulmo               underlying_pulmo      0.451130871           77
prev_gks                               prev_gks      0.404676013           79
dx_after_adm                       dx_after_adm      0.246459414           80
postICUCPR                           postICUCPR      0.230676852           81
Underlying_stroke             Underlying_stroke      0.102563741           82
Tracheostomy                       Tracheostomy      0.083523299           84
CTxinICU                               CTxinICU      0.099065981           83
ECMO                                       ECMO      0.034482746           85
ILD                                         ILD      0.013020377           87
PrevICUadm                           PrevICUadm      0.021894783           86
PCC                                         PCC      0.008061497           88
                        posSum finalPos meanDecreaseAccuracyPosition
neutropenia                  2        1                            1
bacteremia                   4        2                            2
ANC                          6        3                            3
WBC                          8        4                            4
Vasoactiveagent             11        5                            5
AKI                         14        6                            6
Pneumonia                   15        7                            8
hospital_LOS                18        8                           13
thrombocytopenia            18        9                            9
Death_Cause                 21       10                            7
PLT                         21       11                           11
CRP                         25       12                           10
ICU_cause_intensivist       26       13                           15
BIPAP                       31       14                           12
cardiovasc                  32       15                           16
neurology                   32       16                           20
postICURT                   32       17                           14
WBRT                        34       18                           17
prev_ccrt                   37       19                           24
CRRT                        41       20                           18
prev_wbrt                   43       21                           19
SOFA_D1                     43       22                           21
aPTT                        48       23                           23
smk_hx                      48       24                           22
ICUCPR                      52       25                           32
DNR_at_ICU                  56       26                           25
post_dc_days                57       27                           36
BUN                         61       28                           28
Refractory                  61       29                           33
performance_ICU_DC          62       30                           26
Cause_Ca_problem            64       31                           27
PT_percent                  64       32                           29
sex                         64       33                           35
Albumin                     65       34                           31
ICU_LOS                     66       35                           34
Underlying_CV               68       36                           41
PaO2FiO2                    69       37                           30
timefromdx                  72       38                           42
age                         81       39                           43
APACH_II                    84       40                           38
performance_hospital_DC     85       41                           40
Hospital_death              87       42                           37
MV_days                     87       43                           44
Underlying_DM               88       44                           48
preICUDNR                   89       45                           47
prev_rtx                    89       46                           45
ICU_mortal30                90       47                           39
histologyNum                97       48                           49
HFNC                        98       49                           51
DischargefromICU            99       50                           46
prevCPR                    100       51                           59
SAPS_II                    102       52                           50
ICUreadmission             104       53                           55
StageNum                   107       54                           52
Hb                         111       55                           53
Distatntmets               115       56                           54
Pre_PS                     115       57                           56
other_malignancy           116       58                           62
procalcitonin              119       59                           57
hypoalbuminemia            120       60                           60
prev_ctx                   120       61                           64
RRT                        124       62                           67
PoorPS                     125       63                           61
ICU_Death                  126       64                           58
anemia                     128       65                           63
MV                         132       66                           65
post_icu_survival          134       67                           68
NewlyDx                    136       68                           66
post2011                   138       69                           69
HD                         139       70                           76
respfailure                142       71                           71
Surgery                    143       72                           70
DNR                        147       73                           73
Intensivist                147       74                           72
postICUCtx                 149       75                           77
pulmocomorbid              151       76                           75
PDT                        152       77                           74
underlying_pulmo           155       78                           78
prev_gks                   158       79                           79
dx_after_adm               160       80                           80
postICUCPR                 162       81                           81
Underlying_stroke          164       82                           82
Tracheostomy               167       83                           83
CTxinICU                   168       84                           85
ECMO                       169       85                           84
ILD                        173       86                           86
PrevICUadm                 174       87                           88
PCC                        175       88                           87
                        meanDecreaseGiniPosition aggregatedPosition
neutropenia                                    1                  2
bacteremia                                     2                  4
ANC                                            3                  6
WBC                                            4                  8
Vasoactiveagent                                6                 11
AKI                                            8                 14
Pneumonia                                      7                 15
hospital_LOS                                   5                 18
thrombocytopenia                               9                 18
Death_Cause                                   14                 21
PLT                                           10                 21
CRP                                           15                 25
ICU_cause_intensivist                         11                 26
BIPAP                                         19                 31
cardiovasc                                    16                 32
neurology                                     12                 32
postICURT                                     18                 32
WBRT                                          17                 34
prev_ccrt                                     13                 37
CRRT                                          23                 41
prev_wbrt                                     24                 43
SOFA_D1                                       22                 43
aPTT                                          25                 48
smk_hx                                        26                 48
ICUCPR                                        20                 52
DNR_at_ICU                                    31                 56
post_dc_days                                  21                 57
BUN                                           33                 61
Refractory                                    28                 61
performance_ICU_DC                            36                 62
Cause_Ca_problem                              37                 64
PT_percent                                    35                 64
sex                                           29                 64
Albumin                                       34                 65
ICU_LOS                                       32                 66
Underlying_CV                                 27                 68
PaO2FiO2                                      39                 69
timefromdx                                    30                 72
age                                           38                 81
APACH_II                                      46                 84
performance_hospital_DC                       45                 85
Hospital_death                                50                 87
MV_days                                       43                 87
Underlying_DM                                 40                 88
preICUDNR                                     42                 89
prev_rtx                                      44                 89
ICU_mortal30                                  51                 90
histologyNum                                  48                 97
HFNC                                          47                 98
DischargefromICU                              53                 99
prevCPR                                       41                100
SAPS_II                                       52                102
ICUreadmission                                49                104
StageNum                                      55                107
Hb                                            58                111
Distatntmets                                  61                115
Pre_PS                                        59                115
other_malignancy                              54                116
procalcitonin                                 62                119
hypoalbuminemia                               60                120
prev_ctx                                      56                120
RRT                                           57                124
PoorPS                                        64                125
ICU_Death                                     68                126
anemia                                        65                128
MV                                            67                132
post_icu_survival                             66                134
NewlyDx                                       70                136
post2011                                      69                138
HD                                            63                139
respfailure                                   71                142
Surgery                                       73                143
DNR                                           74                147
Intensivist                                   75                147
postICUCtx                                    72                149
pulmocomorbid                                 76                151
PDT                                           78                152
underlying_pulmo                              77                155
prev_gks                                      79                158
dx_after_adm                                  80                160
postICUCPR                                    81                162
Underlying_stroke                             82                164
Tracheostomy                                  84                167
CTxinICU                                      83                168
ECMO                                          85                169
ILD                                           87                173
PrevICUadm                                    86                174
PCC                                           88                175
number of selected top features: 2
selected top features: 
[1] "neutropenia" "bacteremia" 

[Training Random Forests classifier on the training set with only the top  2  features]

[Applying the trained Random Forests classifier on the test set with only the top  2  features]

PR AUC (integral) 	0.4666689
ROC AUC 		0.6333333

Brier score =  0.194  (best value: 0; worst value: 1)

TOTAL:

 FN =  3  /  5 	 (truth == 1) & (prediction < threshold)
 TP =  2  /  5 	 (truth == 1) & (prediction >= threshold)

 FP =  4  /  21 	 (truth == 0) & (prediction >= threshold)
 TN =  17  /  21 	 (truth == 0) & (prediction < threshold)



 @@@ Test set @@@ 	MCC 	 F1_score 	accuracy 	TP_rate 	TN_rate 	PPV 		NPV 		PR AUC 	ROC AUC
@@@ Test set @@@      0.196 	 0.364 	 	0.731 	 	0.400 	 	0.810		0.333	 	0.850	 	0.467	0.633




=== final results ===
Number of executions = 10
                MCC F1_score accuracy TP_rate TN_rate    PPV    NPV PR_AUC
nbr.val      10.000   10.000   10.000  10.000  10.000 10.000 10.000 10.000
nbr.null      0.000    0.000    0.000   0.000   0.000  0.000  0.000  0.000
nbr.na        0.000    0.000    0.000   0.000   0.000  0.000  0.000  0.000
min           0.184    0.250    0.462   0.167   0.333  0.263  0.792  0.269
max           0.672    0.778    0.846   1.000   0.950  0.700  1.000  0.719
range         0.488    0.528    0.385   0.833   0.617  0.437  0.208  0.450
sum           3.435    4.932    6.346   7.817   5.884  4.060  9.197  4.442
median        0.311    0.522    0.615   0.938   0.536  0.379  0.969  0.456
mean          0.343    0.493    0.635   0.782   0.588  0.406  0.920  0.444
SE.mean       0.046    0.045    0.038   0.094   0.068  0.040  0.030  0.051
CI.mean.0.95  0.105    0.101    0.086   0.213   0.155  0.091  0.067  0.116
var           0.021    0.020    0.015   0.088   0.047  0.016  0.009  0.026
std.dev       0.146    0.141    0.121   0.297   0.216  0.127  0.093  0.163
coef.var      0.426    0.287    0.190   0.381   0.368  0.313  0.102  0.366
             ROC_AUC
nbr.val       10.000
nbr.null       0.000
nbr.na         0.000
min            0.579
max            0.889
range          0.310
sum            7.141
median         0.698
mean           0.714
SE.mean        0.030
CI.mean.0.95   0.067
var            0.009
std.dev        0.093
coef.var       0.131


=== === === ===
          MCC F1_score accuracy TP_rate TN_rate   PPV   NPV PR_AUC ROC_AUC
mean    0.343    0.493    0.635   0.782   0.588 0.406 0.920  0.444   0.714
std.dev 0.146    0.141    0.121   0.297   0.216 0.127 0.093  0.163   0.093


=== === === ===



Total execution time: 2.101523 seconds
0 days, 00 hours, 02 minutes, 6.09 seconds

oversampled with perc.over = 126
